{"version":3,"sources":["webpack:///src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/evaluationDetails.vue","chunk-ebf472f4.1bdaaad5.css","webpack:///src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/map.vue","webpack:///src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/src/views/monitor/evaluation/map.vue","webpack:///src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/D:/Code/ahstbhhxfront/src/views/monitor/evaluation/evaluationList.vue"],"names":[],"mappings":"AAyHA,uCACE,iBAAA,CACA,UAAA,CACA,WCxHF,CDyHE,iDACE,UAAA,CACA,qBAAA,CACA,eCvHJ,CDyHE,iDACE,iBAAA,CACA,UAAA,CACA,WCvHJ,CCiYA,yBACE,WAAA,CACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,iBD7XF,CCgYE,mDACE,WAAA,CACA,eAAA,CACA,wBD9XJ,CC+XI,iEACE,SD7XN,CC8XM,8EACE,eAAA,CACA,eAAA,CACA,4BD5XR,CCiYA,0BACE,WAAA,CACA,kBAAA,CAAA,mBAAA,CAAA,WD7XF,CC+XA,yBACE,WD7XF,CC+XI,uCACE,iBAAA,CACA,eD7XN,CC+XQ,6CACE,iBD7XV,CCgYM,yCACE,gBAAA,CACA,eAAA,CACA,cAAA,CACA,wBAAA,CACA,UAAA,CACA,iBAAA,CACA,iBAAA,CACA,cD9XR,CC+XQ,2CACE,cAAA,CACA,gBAAA,CACA,iBD7XV,CCiYQ,yDACE,gBAAA,CACA,cD/XV,CCqYA,gCACE,qBDnYF,CEuYA,2CACA,wBAAA,CACA,gBFpYA,CEsYA,6DACA,YAAA,CACA,wBAAA,CACA,yBAAA,CACA,eFpYA,CEsYA,uCACA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,UFlYA,CEoYA,qDACA,kBAAA,CAAA,mBAAA,CAAA,WAAA,CACA,cFhYA,CEkYA,6CACA,cFhYA,CEuYA,oDACA,YFhYA,CEkYA,mDACA,WFhYA,CGqZE,gDACE,WAAA,CACA,gBAAA,CACA,+BAAA,CACA,kBAAA,CACA,eHlZJ,CGmZI,8DACE,UAAA,CACA,cHjZN,CGkZM,qEACE,UAAA,CACA,oBAAA,CACA,UAAA,CACA,WAAA,CACA,44DAAA,CACA,oBAAA,CACA,qBAAA,CACA,gBHhZR,CGmZI,6DACE,WHjZN,CGoZE,kDACE,mBAAA,CACA,UAAA,CACA,wBHlZJ,CGmZI,uDACE,UAAA,CACA,SAAA,CACA,WAAA,CACA,qBHjZN,CGmZI,iEACE,WAAA,CACA,sBAAA,CACA,WHjZN,CGkZM,mEACE,iBAAA,CACA,cAAA,CACA,eHhZR,CGkZM,qEACE,kBHhZR,CGiZQ,2EACE,UAAA,CACA,qBAAA,CACA,wBH/YV,CGiZQ,8EACE,iBAAA,CACA,wBH/YV,CGiZQ,gJACE,iBAAA,CACA,wBAAA,CACA,gBH/YV,CGmZI,4DACE,UAAA,CACA,gBAAA,CACA,gBHjZN,CGoZE,iDACE,kBAAA,CACA,wBAAA,CACA,sBAAA,CACA,iBAAA,CACA,WAAA,CACA,QAAA,CACA,YAAA,CACA,eAAA,CACA,+BAAA,CAAA,uBHjZJ,CGkZI,2DACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,iBHhZN,CGmZE,gDACE,UHjZJ,CGsZA,4BACE,kCAAA,CACA,oBHpZF","file":"chunk-ebf472f4.1bdaaad5.css","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#evaluDetails-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  .page_box{\n    width: 100%;\n    padding: 15px 0 0 15px;\n    text-align: left\n  }\n  .sign-btn {\n    position: absolute;\n    right: 20px;\n    bottom: 10px;\n  }\n}\n","#evaluDetails-wrapper[data-v-1eebb4b9] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n#evaluDetails-wrapper .page_box[data-v-1eebb4b9] {\n  width: 100%;\n  padding: 15px 0 0 15px;\n  text-align: left;\n}\n#evaluDetails-wrapper .sign-btn[data-v-1eebb4b9] {\n  position: absolute;\n  right: 20px;\n  bottom: 10px;\n}\n#mapbox[data-v-57205d4c] {\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n}\n#layersControl .layersControl_box[data-v-57205d4c] {\n  padding: 3px;\n  background: #fff;\n  border: 1px solid #d1d1d1;\n}\n#layersControl .layersControl_box .fraggableBox[data-v-57205d4c] {\n  padding: 0;\n}\n#layersControl .layersControl_box .fraggableBox .fraggableLi[data-v-57205d4c] {\n  min-width: 100px;\n  padding: 5px 8px;\n  border-top: 1px solid #d1d1d1;\n}\n#viewDiv[data-v-57205d4c] {\n  height: 100%;\n  -webkit-box-flex: 2;\n      -ms-flex-positive: 2;\n          flex-grow: 2;\n}\n#maptab[data-v-57205d4c] {\n  width: 300px;\n}\n#maptab .firstmenu > li[data-v-57205d4c] {\n  margin-bottom: 6px;\n  text-align: left;\n}\n#maptab .firstmenu > li > ul > li[data-v-57205d4c] {\n  padding-left: 20px;\n}\n#maptab .firstmenu > li > p[data-v-57205d4c] {\n  line-height: 40px;\n  text-align: left;\n  font-size: 16px;\n  background-color: #2ab1f5;\n  color: white;\n  padding-left: 10px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n#maptab .firstmenu > li > p i[data-v-57205d4c] {\n  font-size: 16px;\n  line-height: 40px;\n  margin-right: 10px;\n}\n#maptab .firstmenu > li .secondmenu label[data-v-57205d4c] {\n  line-height: 30px;\n  font-size: 14px;\n}\n#basemapToggle[data-v-57205d4c] {\n  border: 5px #000 solid;\n}\n\n#maptab[data-v-57205d4c] .ivu-tabs-content{\r\n  height: calc(100% - 40px);\r\n  margin-top: -16px;\n}\n#maptab[data-v-57205d4c] .ivu-tabs-content > .ivu-tabs-tabpane{\r\n  padding: 16px;\r\n  border: 1px solid #dcdee2;\r\n  border-radius: 0 0 4px 4px;\r\n  border-top: none;\n}\n#maptab[data-v-57205d4c] .ivu-tabs-nav{\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  float: none;\n}\n#maptab[data-v-57205d4c] .ivu-tabs-nav .ivu-tabs-tab{\r\n  -webkit-box-flex: 2;\r\n      -ms-flex-positive: 2;\r\n          flex-grow: 2;\r\n  margin-right: 0;\n}\n.sliderBox[data-v-57205d4c] .ivu-slider-wrap{\r\n    margin: 0 0 3px\n}\r\n\n\nh3.esri-widget__heading{\n  display: none;\n}\n.esri-legend__layer-caption{\n  display: none;\n}\n.esri-ui-corner .esri-component.esri-widget--panel{\n  width: 200px;\n}\n\n#evaluation-wrapper .query-box[data-v-253ee2d8] {\n  height: 50px;\n  line-height: 50px;\n  border-bottom: 1px solid #d3d3d3;\n  margin: 0 15px 15px;\n  overflow: hidden;\n}\n#evaluation-wrapper .query-box .search-title[data-v-253ee2d8] {\n  float: left;\n  font-size: 14px;\n}\n#evaluation-wrapper .query-box .search-title[data-v-253ee2d8]:before {\n  content: \"\";\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAABRCAYAAADIIGZcAAAFRUlEQVRYhe2Za4hVVRTHf3ectNHIclSoTEzNgbsgodBQ6YMZBRkUZU+1l5kQFJQhhJrPQj+kqJVWGAYihhWUZaImWfmYxB7GUslMK3VMK9NxdHTS04e1bvfMmX3O3BE/xV1w2Pvsvdb+77Ufa++1di6KIuIkIv2A8UANUAccAq4B2hOmdsBRYLGqrk1W5gIAEdAALAfuAqqB/cBJIJeQj7ystwONVtWlzTmiqNmXz+ejfD7fz/P98/l8lOQJfS63PVlemaJ2NxG5FZjjWr3rw1UR4K0Denh+RbIyDeAyYCDwOfA70Ae4NsD3DzDA84tUdUapAIdV9eGUumYkIlOAqcD0UH0aQDsXvsHze2mpwXZVPYFpC9ALG66SAE57OhfoCMzyr0ARcC/wXYp8qwAXe/oENrF1wC4vyznAT/5/hacd2wJwytOPgEuAicBrCZ5bgC3AQuBLYH1bAAq9udF73ACsTGhwCkBVNwAbRKSXiDSq6qFSABo9fc/BXgGmJQCGikgFNg99C4Iisg0YpqrHsgAu8nQuNgcaA4j8+xu4H+gKHASuBPZgNmww8GkWQKWrvypWtjfJJCJXAd8ACxy0PfA08FuzhgL0lzcwHHgKeFJVD3jZWGA48CDwFTAbuBkzhoW5GyMi64BVadb0GWAzsDVWdTkwBPjY/1/CTMmjwDL/Oic6OiekwYfAfM+vwkzAaszmgy3LtUB37/VIoCewA1sUNdhG7Q70aKGBa/E+UKWqt/t/FTbW21R1VIJ3CDDKgWqB77FFMhpYHwQ4HxKRGmzY+gNngE+A2RcMII1CB0gZoAxQBigD/O8AWhw4IjISeJXilbAU2qqqA0sCACZ549OAn4FzGQ1XYUfm4DSGEMClQK2qTs1o+D8SkeXA8bYANAG7XbgOO1vTTqXnVHW+iKR2IAQQYVqA+WmdSR+mHSLSKbX1FACALgCq+myWMICI9M2qTwM46cKDsImMUwO2agpaZS2C7JsdsClQd0pV477AfuDttgJUe9oPc0Yi560ATohID2AycEBVpwNj2gpQBaCqu0OVfkW/3vNHVHVhWwHqXHgnNuE5YIKqLvH6wzHeY2mNZwEUyr/F7v9NiUZHYJtrpaouOx+AagBVfShUqaoNInKOoiOYSiFr2h6ob00QG7bMJQrhaMtBbPf2VNU/E3U1wAuY53kPcATzEXap6oshgDT/YCzwmduiHHZtn+jljzhfPdANc8gBggDl23UZoAxQBigDXAjK5fP5UPkdWGimQ4rcH8A8YKaqZgIUzoMpmJ0fD2zEIoxvAtsDMkOxw2YGcB1wX2sAb2EB2DXAj1gI7TgwLkWmEYsy3gQcF5HFqpp6L6rwxp8HbsOii30oRrdCtBuLCYlr8riITMoCgOYx6Ho8OB6jdhRfP77A4qibsXkAG65MgC4ZPd6IxeAaseED0/hq4E4g8waedi+K02TMpeoEfB0r3+9fVudKAggFvbthrx9HKV6UzxtgEzAIuy7msb2xBFtJq1sTLgXgMcyl2gm8jF3p67GIb6ttlALwK7aCzgD7HGAWFhudCZzNEi7FFm3B3KbhFF9BwJbmOFVdTvFBowWFNKhM9OpubAXto+XuXiQiHbBJLxmgiuZB7j2xfNcA/zzsoW5CFsCZWNk7WCz69VjjFcAH2BvCgBjvXmxv9A52PwbQFCtbh8UeFmDLs0C1uHtL8a2gSVUfSGsc7Dz4BdssIzBzEGHj3Znic1cFFlXfhtmlYcAP2A6fqqrTSKFK7NFhDfbmcpbiI9Bpih5MDliK2Z4DrsEbmG/Q4uklTv8CbJ7AGsdIo8UAAAAASUVORK5CYII=) 0 -63px no-repeat;\n  background-size: auto;\n  vertical-align: middle;\n  margin-right: 8px;\n}\n#evaluation-wrapper .query-box .search-form[data-v-253ee2d8] {\n  float: right;\n}\n#evaluation-wrapper .content_box[data-v-253ee2d8] {\n  padding: 0 15px 15px;\n  width: 100%;\n  height: calc(100% - 65px);\n}\n#evaluation-wrapper .content_box #map[data-v-253ee2d8] {\n  float: left;\n  width: 40%;\n  height: 100%;\n  border: 1px solid #000;\n}\n#evaluation-wrapper .content_box .table-wrapper[data-v-253ee2d8] {\n  float: right;\n  width: calc(60% - 15px);\n  height: 100%;\n}\n#evaluation-wrapper .content_box .table-wrapper p[data-v-253ee2d8] {\n  margin-bottom: 5px;\n  font-size: 16px;\n  text-align: left;\n}\n#evaluation-wrapper .content_box .table-wrapper > div[data-v-253ee2d8] {\n  margin-bottom: 15px;\n}\n#evaluation-wrapper .content_box .table-wrapper > div table[data-v-253ee2d8] {\n  width: 100%;\n  border: 1px solid #ccc;\n  border-collapse: collapse;\n}\n#evaluation-wrapper .content_box .table-wrapper > div thead th[data-v-253ee2d8] {\n  text-align: center;\n  background-color: #fafafa;\n}\n#evaluation-wrapper .content_box .table-wrapper > div th[data-v-253ee2d8], #evaluation-wrapper .content_box .table-wrapper > div td[data-v-253ee2d8] {\n  padding-left: 20px;\n  border: 1px solid #e9eaec;\n  line-height: 30px;\n}\n#evaluation-wrapper .content_box .page_box[data-v-253ee2d8] {\n  width: 100%;\n  padding: 15px 0 0;\n  text-align: right;\n}\n#evaluation-wrapper .seeDetails[data-v-253ee2d8] {\n  margin: 0 !important;\n  height: calc(100% - 70px);\n  width: calc(60% - 30px);\n  position: absolute;\n  right: -120%;\n  top: 65px;\n  z-index: 1356;\n  background: #fff;\n  -webkit-transition: all 0.8s ease;\n  transition: all 0.8s ease;\n}\n#evaluation-wrapper .seeDetails .closeBtn[data-v-253ee2d8] {\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  z-index: 131531313;\n}\n#evaluation-wrapper .addActive[data-v-253ee2d8] {\n  right: 15px;\n}\n.ivu-table-row-highlight td {\n  background-color: #2d8cf0 !important;\n  color: #fff !important;\n}\n\n/*# sourceMappingURL=chunk-ebf472f4.1bdaaad5.css.map*/","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n#mapbox{\r\n  height: 100%;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n#layersControl{\r\n  .layersControl_box{\r\n    padding:3px;\r\n    background: #fff;\r\n    border: 1px solid #d1d1d1;\r\n    .fraggableBox{\r\n      padding: 0;\r\n      .fraggableLi{\r\n        min-width: 100px;\r\n        padding: 5px 8px;\r\n        border-top: 1px solid #d1d1d1;\r\n      }\r\n    }\r\n  }\r\n}\r\n#viewDiv{\r\n  height: 100%;\r\n  flex-grow: 2;\r\n}\r\n#maptab{\r\n  width: 300px;\r\n  .firstmenu{\r\n    >li{\r\n      margin-bottom: 6px;\r\n      text-align: left;\r\n      >ul{\r\n        >li{\r\n          padding-left: 20px;\r\n        }\r\n      }\r\n      >p{\r\n        line-height: 40px;\r\n        text-align: left;\r\n        font-size: 16px;\r\n        background-color: rgb(42,177,245);\r\n        color: white;\r\n        padding-left: 10px;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        i{\r\n          font-size: 16px;\r\n          line-height: 40px;\r\n          margin-right: 10px;\r\n        }\r\n      }\r\n      .secondmenu{\r\n        label{\r\n          line-height: 30px;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n#basemapToggle{\r\n  border: 5px #000 solid;\r\n}\r\n","<template>\r\n  <div id=\"mapbox\">\r\n    <div id=\"viewDiv\"></div>\r\n    <!-- 地图的工具框 -->\r\n    <ButtonGroup id=\"toolbar\" vertical style=\"display: flex;flex-direction: column\">\r\n      <Tooltip content=\"距离测量\" placement=\"right\">\r\n        <Button :type=\"type=='distance'?'primary':'default'\" @click=\"clickToolbar('distance')\" style=\"padding:5px 5px 0px\">\r\n          <img src=\"@/assets/map_images/length.png\" alt=\"\" style=\"width: 20px;height: 20px;\">\r\n        </Button>\r\n      </Tooltip>\r\n      <Tooltip content=\"测量面积\" placement=\"right\">\r\n        <Button :type=\"type=='area'?'primary':'default'\" @click=\"clickToolbar('area')\" style=\"padding:5px 5px 0px\">\r\n          <img src=\"@/assets/map_images/area.png\" alt=\"\" style=\"width: 20px;height: 20px;\">\r\n        </Button>\r\n      </Tooltip>\r\n    </ButtonGroup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport arcgisPackage from '../../../utils/arcgisTools'\r\nimport config from '../../../setting/mapConfig'\r\nimport { tdtlayer, tdtyNoteslayer, tdtclayer, tdtcNoteslayer, redLine, shengjie, shijie, xianjie } from '@/utils/layers'\r\nimport Basemapthumbnail from '../../../assets/map_images/Basemapthumbnail.png'\r\nimport Basemapthumbnail1 from '../../../assets/map_images/Basemapthumbnail1.png'\r\n\r\nexport default {\r\n  name: 'OnePiece',\r\n  data () {\r\n    return {\r\n      map: null, // 地图实例\r\n      view: null, // 地图视图实例\r\n      type: '',\r\n    }\r\n  },\r\n  props: {\r\n    detailData: {},\r\n    boxstate: {},\r\n    numformItem: {}\r\n  },\r\n  methods: {\r\n    /**\r\n     * @Description: 初始化“一张图”数据中心的地图\r\n     * @author 张淼\r\n     * @date 2019/4/16\r\n    */\r\n    async createMap () {\r\n      // 导入需要的arcgis模块\r\n      let MapView = await arcgisPackage.MapView\r\n      let Map = await arcgisPackage.Map\r\n      let Basemap = await arcgisPackage.Basemap\r\n      let BasemapToggle = await arcgisPackage.BasemapToggle\r\n      let Fullscreen = await arcgisPackage.Fullscreen\r\n      let GraphicsLayer = await arcgisPackage.GraphicsLayer\r\n      let Field = await arcgisPackage.Field\r\n      let Legend = await arcgisPackage.Legend\r\n\r\n      // 天地图影像地图\r\n      let tdtylayer = await tdtlayer().then(res => { return res })\r\n      // 天地图矢量地图\r\n      let tdtylayer1 = await tdtclayer().then(res => { return res })\r\n      // 天地图的矢量标注图层\r\n      let tdtylayer2 = await tdtcNoteslayer().then(res => { return res })\r\n      // 天地图影像标注图层\r\n      let tdtylayer3 = await tdtyNoteslayer().then(res => { return res })\r\n      // 红线斑块图层\r\n      this.layerRedLine = await redLine('hx').then(res => { return res })\r\n      const less35 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [60, 164, 250],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      const less50 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [247, 240, 144],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      const more50 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [255, 98, 0],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      const more75 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [255, 0, 0],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      let orchardRenderer = {\r\n        type: 'class-breaks', // autocasts as new ClassBreaksRenderer()\r\n        classBreakInfos: [\r\n          {\r\n            minValue: 0.2,\r\n            maxValue: 0.4,\r\n            symbol: less35,\r\n            label: '0.2 - 0.4' // label for symbol in legend\r\n          },\r\n          {\r\n            minValue: 0.4,\r\n            maxValue: 0.6,\r\n            symbol: less50,\r\n            label: '0.4 - 0.6' // label for symbol in legend\r\n          },\r\n          {\r\n            minValue: 0.6,\r\n            maxValue: 0.8,\r\n            symbol: more50,\r\n            label: '0.6 - 0.8' // label for symbol in legend\r\n          },\r\n          {\r\n            minValue: 0.75,\r\n            maxValue: 10.0,\r\n            symbol: more75,\r\n            label: '> 0.8' // label for symbol in legend\r\n          }\r\n        ],\r\n        field: 'Shape_Area', // total number of adults (25+) with a college degree\r\n        normalizationField: 'SHAPE_Leng', // total number of adults 25+\r\n        defaultSymbol: {\r\n          type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n          color: [115, 178, 115],\r\n          style: 'solid',\r\n          outline: {\r\n            width: 0.2,\r\n            color: [255, 255, 255, 0.5]\r\n          }\r\n        },\r\n        defaultLabel: '0 - 0.2' // legend label for features that don't match a class break\r\n      }\r\n      this.layerRedLine.renderer = orchardRenderer\r\n\r\n      let customBasemap = new Basemap({\r\n        baseLayers: [tdtylayer1, tdtylayer2],\r\n        title: '矢量地图',\r\n        id: 'myBasemap',\r\n        thumbnailUrl: Basemapthumbnail\r\n      })\r\n      let customBasemap1 = new Basemap({\r\n        baseLayers: [tdtylayer, tdtylayer3],\r\n        title: '影像地图',\r\n        id: 'myBasemap1',\r\n        thumbnailUrl: Basemapthumbnail1\r\n      })\r\n\r\n      this.map = new Map({\r\n        basemap: customBasemap\r\n      })\r\n      this.view = new MapView({\r\n        map: this.map,\r\n        container: 'viewDiv',\r\n        center: config.centerPoint,\r\n        zoom: 5\r\n      })\r\n      this.map.add(this.layerRedLine)\r\n      // 添加工具框\r\n      this.view.ui.add(document.getElementById('toolbar'), 'top-left')\r\n      // 添加全屏\r\n      this.fullscreen = new Fullscreen({\r\n        view: this.view\r\n      })\r\n      this.view.ui.add(this.fullscreen, 'top-left')\r\n      // 增加地图切换插件\r\n      let basemapToggle = new BasemapToggle({\r\n        view: this.view,\r\n        nextBasemap: customBasemap1\r\n      })\r\n      this.view.ui.padding = { top: 20, left: 20, right: 55, bottom: 20 }\r\n      this.view.ui.add(basemapToggle, 'top-right')\r\n      const legend = new Legend({\r\n        view: this.view\r\n      })\r\n      this.view.ui.add(legend, 'bottom-left')\r\n      this.view.when(res => {\r\n        this.uploadLayer()\r\n      })\r\n    },\r\n    /* 更新图层 */\r\n    /* 更新红线字段数据 */\r\n    uploadLayer () {\r\n      // 计算干扰评价\r\n      let arr = []\r\n      for (let item of this.detailData) {\r\n        let obj = JSON.parse(JSON.stringify(item.attributes))\r\n        obj.typeid = this.numformItem[obj.type]\r\n        obj.typenum = (this.numformItem[obj.type] * obj.insectarea) / obj.hxarea\r\n        arr.push(obj)\r\n      }\r\n      let dataArr = []\r\n      for (let item of arr) {\r\n        let juice = false\r\n        for (let ite of dataArr) {\r\n          if (ite.hxcode === item.hxcode) {\r\n            juice = true\r\n          }\r\n        }\r\n        if (!juice) {\r\n          dataArr.push(item)\r\n        } else {\r\n          for (let i in dataArr) {\r\n            if (dataArr[i].hxcode === item.hxcode) {\r\n              dataArr[i].insectarea = dataArr[i].insectarea + item.insectarea\r\n              dataArr[i].typenum = dataArr[i].typenum * 1 + item.typenum * 1\r\n              dataArr[i].typenum = dataArr[i].typenum.toFixed(2)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.layerRedLine.queryFeatures().then((res) => {\r\n        let hxLayerData = JSON.parse(JSON.stringify(res.features))\r\n        for (let i in hxLayerData) {\r\n          for (let item of dataArr) {\r\n            if (hxLayerData[i].attributes.编号 === item.hxcode) {\r\n              hxLayerData[i].attributes.typenum = item.typenum * 1\r\n              hxLayerData[i].attributes.int1 = 1\r\n            }\r\n          }\r\n          hxLayerData[i].geometry.type = 'polygon'\r\n        }\r\n        this.addhxLayer(hxLayerData)\r\n      })\r\n    },\r\n    /* 添加图层 */\r\n    async addhxLayer (featu) {\r\n      let FeatureLayer = await arcgisPackage.FeatureLayer\r\n      let Field = await arcgisPackage.Field\r\n      // 从config文件中获取图层字段\r\n      let fields = [\r\n        new Field({\r\n          name: 'ObjectID',\r\n          alias: 'ObjectID',\r\n          type: 'oid'\r\n        }),\r\n        new Field({\r\n          name: 'int1',\r\n          alias: 'int1',\r\n          type: 'integer'\r\n        }),\r\n        new Field({\r\n          name: 'typenum',\r\n          alias: 'typenum',\r\n          type: 'double'\r\n        })\r\n      ]\r\n      const less35 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [60, 164, 250],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      const less50 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [247, 240, 144],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      const more50 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [255, 98, 0],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      const more75 = {\r\n        type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n        color: [255, 0, 0],\r\n        style: 'solid',\r\n        outline: {\r\n          width: 0.2,\r\n          color: [255, 255, 255, 0.5]\r\n        }\r\n      }\r\n      let orchardRenderer = {\r\n        type: 'class-breaks', // autocasts as new ClassBreaksRenderer()\r\n        classBreakInfos: [\r\n          {\r\n            minValue: 0.2,\r\n            maxValue: 0.4,\r\n            symbol: less35,\r\n            label: '0.2 - 0.4' // label for symbol in legend\r\n          },\r\n          {\r\n            minValue: 0.4,\r\n            maxValue: 0.6,\r\n            symbol: less50,\r\n            label: '0.4 - 0.6' // label for symbol in legend\r\n          },\r\n          {\r\n            minValue: 0.6,\r\n            maxValue: 0.8,\r\n            symbol: more50,\r\n            label: '0.6 - 0.8' // label for symbol in legend\r\n          },\r\n          {\r\n            minValue: 0.75,\r\n            maxValue: 10.0,\r\n            symbol: more75,\r\n            label: '> 0.8' // label for symbol in legend\r\n          }\r\n        ],\r\n        field: 'typenum', // total number of adults (25+) with a college degree\r\n        normalizationField: 'int1', // total number of adults 25+\r\n        defaultSymbol: {\r\n          type: 'simple-fill', // autocasts as new SimpleFillSymbol()\r\n          color: [115, 178, 115],\r\n          style: 'solid',\r\n          outline: {\r\n            width: 0.2,\r\n            color: [255, 255, 255, 0.5]\r\n          }\r\n        },\r\n        defaultLabel: '0 - 0.2' // legend label for features that don't match a class break\r\n      }\r\n      // 底层数据\r\n      let orchardLayer = new FeatureLayer({\r\n        layerId: 'hx',\r\n        id: 'hx',\r\n        title: ' ',\r\n        objectIdField: 'ObjectID',\r\n        geometryType: 'polygon',\r\n        source: featu,\r\n        renderer: orchardRenderer,\r\n        fields: fields\r\n      })\r\n      this.map.remove(this.map.findLayerById('hx'))\r\n      this.map.addMany([orchardLayer])\r\n    },\r\n    /* 删除图层 */\r\n    removeLayer () {\r\n      this.map.removeLayer(this.map.findLayerById('orchardLayer'))\r\n    },\r\n    /**\r\n     * @Description:测量工具点击事件\r\n     * @author 张淼\r\n     * @date 2019/4/11\r\n     */\r\n    async clickToolbar (type) {\r\n      if (this.type === type) {\r\n        type = null\r\n      }\r\n      this.type = type\r\n      if (this.activeWidget) {\r\n        this.view.ui.remove(this.activeWidget)\r\n        this.activeWidget.destroy()\r\n        this.activeWidget = null\r\n      }\r\n      switch (type) {\r\n        case 'distance':\r\n          let DistanceMeasurement2D = await arcgisPackage.DistanceMeasurement2D\r\n          this.activeWidget = new DistanceMeasurement2D({\r\n            view: this.view\r\n          })\r\n          this.activeWidget.viewModel.newMeasurement()\r\n          this.view.ui.add(this.activeWidget, 'top-right')\r\n          break\r\n        case 'area':\r\n          let AreaMeasurement2D = await arcgisPackage.AreaMeasurement2D\r\n          this.activeWidget = new AreaMeasurement2D({\r\n            view: this.view\r\n          })\r\n          this.activeWidget.viewModel.newMeasurement()\r\n          this.view.ui.add(this.activeWidget, 'top-right')\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    // 初始化地图\r\n    await this.createMap()\r\n    // await this.addhxLayer()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#mapbox{\r\n  height: 100%;\r\n  display: flex;\r\n  position: relative;\r\n}\r\n#layersControl{\r\n  .layersControl_box{\r\n    padding:3px;\r\n    background: #fff;\r\n    border: 1px solid #d1d1d1;\r\n    .fraggableBox{\r\n      padding: 0;\r\n      .fraggableLi{\r\n        min-width: 100px;\r\n        padding: 5px 8px;\r\n        border-top: 1px solid #d1d1d1;\r\n      }\r\n    }\r\n  }\r\n}\r\n#viewDiv{\r\n  height: 100%;\r\n  flex-grow: 2;\r\n}\r\n#maptab{\r\n  width: 300px;\r\n  .firstmenu{\r\n    >li{\r\n      margin-bottom: 6px;\r\n      text-align: left;\r\n      >ul{\r\n        >li{\r\n          padding-left: 20px;\r\n        }\r\n      }\r\n      >p{\r\n        line-height: 40px;\r\n        text-align: left;\r\n        font-size: 16px;\r\n        background-color: rgb(42,177,245);\r\n        color: white;\r\n        padding-left: 10px;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        i{\r\n          font-size: 16px;\r\n          line-height: 40px;\r\n          margin-right: 10px;\r\n        }\r\n      }\r\n      .secondmenu{\r\n        label{\r\n          line-height: 30px;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n#basemapToggle{\r\n  border: 5px #000 solid;\r\n}\r\n</style>\r\n<style scoped>\r\n#maptab >>> .ivu-tabs-content{\r\n  height: calc(100% - 40px);\r\n  margin-top: -16px;\r\n}\r\n#maptab >>> .ivu-tabs-content > .ivu-tabs-tabpane{\r\n  padding: 16px;\r\n  border: 1px solid #dcdee2;\r\n  border-radius: 0 0 4px 4px;\r\n  border-top: none;\r\n}\r\n#maptab >>> .ivu-tabs-nav{\r\n  display: flex;\r\n  float: none;\r\n}\r\n#maptab >>> .ivu-tabs-nav .ivu-tabs-tab{\r\n  flex-grow: 2;\r\n  margin-right: 0;\r\n}\r\n  .sliderBox >>> .ivu-slider-wrap{\r\n    margin: 0 0 3px\r\n  }\r\n</style>\r\n<style>\r\n  h3.esri-widget__heading{\r\n    display: none;\r\n  }\r\n  .esri-legend__layer-caption{\r\n    display: none;\r\n  }\r\n  .esri-ui-corner .esri-component.esri-widget--panel{\r\n    width: 200px;\r\n  }\r\n</style>\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ivu-table-row-highlight td{\n  background-color: #2d8cf0!important;\n  color: #fff!important;\n}\n"]}