(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10ac5f08"],{"133b":function(t,e,r){"use strict";var a=r("e7a1"),n=RegExp.prototype.exec,i=String.prototype.replace,o=n,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(o=function(t){var e,r,o,u,d=this;return l&&(r=new RegExp("^"+d.source+"$(?!\\s)",a.call(d))),c&&(e=d[s]),o=n.call(d,t),c&&o&&(d[s]=d.global?o.index+o[0].length:e),l&&o&&o.length>1&&i.call(o[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),t.exports=o},"136f":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"legend_box"},[0!==t.data.length?r("ul",t._l(t.data,(function(e,a){return r("li",{key:a,staticStyle:{"padding-right":"50px"}},[0===e.type?r("i",{staticStyle:{height:"12px",width:"12px",margin:"4px"},style:{backgroundColor:e.backgroundColor,border:e.border}}):t._e(),1===e.type?r("i",{class:e.class,staticStyle:{height:"20px",width:"20px","background-size":"100% 100%"},style:{backgroundImage:e.background}}):t._e(),2===e.type?r("i",{staticStyle:{width:"12px",margin:"9px 4px",display:"inline-block"},style:{backgroundColor:e.backgroundColor,height:e.weight+"px",margin:Math.floor(12-e.weight)/2+4+"px 4px"}}):t._e(),r("span",[t._v(t._s(e.name))]),r("i-switch",{directives:[{name:"show",rawName:"v-show",value:e.switchDis,expression:"item.switchDis"}],staticStyle:{position:"absolute",right:"15px"},attrs:{size:"small"},model:{value:e.switch,callback:function(r){t.$set(e,"switch",r)},expression:"item.switch"}})],1)})),0):t._e()])},n=[],i={name:"Legend",data:function(){return{}},props:{data:{default:[]}},mounted:function(){},methods:{}},o=i,s=(r("6505"),r("6691")),c=Object(s["a"])(o,a,n,!1,null,"013dd2a8",null);e["a"]=c.exports},"1eb0":function(t,e,r){var a=r("a6ad"),n=r("3038");t.exports=function(t){return function(e,r){var i,o,s=String(n(e)),c=a(r),l=s.length;return c<0||c>=l?t?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):i:t?s.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},2137:function(t,e,r){"use strict";var a=r("02f2"),n=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var i=r.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"2b03":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEHklEQVR4Xu2aXVIaQRCAuxepkn0JniDmBCEniD6mkkV9TQniCYInSHIC9QQS1sqruiSVx5ATBE8gnkDyslglbKcGhCIJy85Pz6KBfeGBmZ6eb7p7unsXYcEfXPD9wxLA0gIWnMDSBdI2gKDsbiFAgYjy4ne0PgG2EaFNAK1iPbxIS69ULKCxu7pB6OwBwjYC5JM2RwAdJGoC0bF3ettMGm/yv1UA3yqr670+HgLitraSRE2n3zt4/fmupS1jxkRrAILSagXROeFTmqpevXvMJ28oyQqAoOSeIEKFW1kiqPUz4cFODTpcstkB2Nr8eMNETc/vbj5IAI2y+wEA3nMpFydHWELRD/c51mGzgMauuw0OnHEoJSUjgh3vNDyXGptGEAzKuSsEXDdVSHa+uCr7TvjMNB6wWMCXUq5KiIeyyjOO++jVQ+F22g8LgKDs3sgkOP9oSXBJQB0EzAPCc9VdcFiBMQAd3yeii2yGqq9qt+3Rps8qkF+J3CMA2FMBQRTtF/3bmsqcybHmAMq5IwB8J68AHXv1bjVuvEYC9cmrh9o5hzEAleBHRD+KfncjCVZQyjUR8WXSOPG/cINiPVyTGTttjDGARtkl2cVlzVXVrXpOuKZ7GxgBGBQ7kXMlC8Dp3b2QLWpUwEIUbepWjUYARJkLjvNdFsCKEz2bDHyz5v2XAEAye/v6NluIVrI/ZcHOzQJUXQAApCJ2Q/VmmZcLiBMKSm4HEZ5wnZby6QOAVw+1XVl74mjDQSl3johbsgAG7a4I9qcVMoPWmeOcqWSVsldrnH4MALQ7P6LFNVnNibbZuEkqCxSJDt74XZFBaj3GAO5T2But1RkmqdwsVhKhYRxQcwOGfQ9EmJq/kGFsAUKIaubGB8CsEGIDMIBQyrUB8SnX5hLlEF17fte4AcNiAUM30A6GiXuNGWDcDGG1ABEMM31XvN6Szwk0t04Ev/qZcF23AJpcls0CBm6QUlcYAFhOn9UChLA0rIDz9NkBpGQFbKdvBcAgMernWlZuBKLrXqZb4PD9URxgjQEjobZuBNmOkkpstQJgmBe4LZ1Wd6zyBJeeHyrXCkkw7AFQ7BYlKWrS9Jgl2xoA5hpBqpGSCHHKAKsARMforu+0TJIjce1lM1FBtpeoCsEqAKZrkfXa+xuQdQBGhZKlwGctFY4zP9X2+ViOQbNT1hVSsQC9gDj7HaLsBpPGpQZAqU6wkPHFgUgNwNAKJHsGki9Qkk5X5v9UAdy7wsw3v+LbgaLf1f+wUmbXE2NSBzArN+AudWVYpA5AKBX7TVGKpm+1GpQhP+UjCGvp7txqgVkL/+EKKUb9uWSCcSDGt0IKCc+DuAanKSFeqnB88SnjdtPGzCUI6iprY94SgA2qj0nm0gIe02nZ0HVpATaoPiaZC28BvwFAlclQ7nEeNwAAAABJRU5ErkJggg=="},"39db":function(t,e,r){"use strict";var a=r("a64f"),n=r.n(a);n.a},"39f3":function(t,e,r){t.exports=r.p+"img/Basemapthumbnail1.5f8d6db2.png"},"3cf7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIUlEQVR4Xu2aUVLbSBCG/xZVATSuCrxs5KclJ4j3BIET4D1BwgkCJ0j2BIETJDlBkhPEe4L1ngD2yWJfcKo8gjxYnZKNvV7KkmY0PWMK7FfNdPd86u7pbovwyH/0yM+PNYC1BzxyAusQCO0AsU4PAeoQ8w6Azkw/E10AuAC4n6nkayi7gnjA1vVgP8qjV8TcBaE4ePWPMWRCL4/47Ga73atb7vLcK4Ct68FelNN7ArqNjWT0gOhEt37pN5ZRsdEbADUavAbRBymjc8LxdZycScmbyfECINaXHwj8WtpYBn3M4icnoN2hlGxxAL4OPz8wo6dbycG9BBDrwTsCvZUyrkzOxBPUsyMJPWIeEOvLLoE/SxhlIoNBv2fq2ReTtVVrBAGk5wTsuRpkvJ8x1GrzuWs+EAGwnaXHEeO9sfFCCxn8R6ba71zEiQBQo/TKqMC5YykDfxPzkIl2CHhhfRABL3AG0CT2GfiaR3x8s90uyt/pj6924uzmlECvrEAwH+lW+6PVnoXFzgDUKD0F4Y2xAYwz3UqOy9bbFlAM/pSpduOawxlArC2SH/OfutXer4OlRoMeiF7WrZt6Doa6lewarV2yyBmA0ikbKzd0V9uw0vHmbtPbwAlA0exs5HRuDiD6zbSpsQE7jvigadfoCmB/I6dvpgDGET//X+Kr2PggAZhWb2r0bweU/2UBdmUeYBUCphnb9mZZWQgUb0iN0iEIT6Xelu3bL/RqlTQO5cYbZweOdfqFgENTAMW1xURHyxqZYnS2MabPVlWl4dVaZp8zANvCZV74AX2AFro57tLCkNQUaE44uY6TU9P1d9c5AyhKWJX9uGpqgOs+m5tlmS53AACsw8D11HM3Mqssq9QJAQg7DJkfyLCy9A6gUBDrwQWBfpV6uXVyGPxPptrOAxgRD5heh7JjcAMAzsOQQocYgEky1D8ubGqCukOWPmd812pzr2kDtChXDsA0DAJNhd1HYTMIogCCeIHg25cNgVukvr1AYhDqLQQmgqezvb6PG2GS+eOtjkTs+wmBW6nebgSBe1++FC5J1bFO+41G3SXyihF6ppL5BxWNb5A7G2WT4ILwSWdnMS2qO5BLzx+kElymRKpHMB2k1EFc9tybBxTKJkPTMfWdiiPG9/EGd0xnibYQvAK47RGciiPpay9YElxU1LRR8pX4/NYBS3ywaUL0lfiCA5iGgvXssPI/RNtYL1vvPQfMFVt0iz4qvtUDsJgZmP6BIuEF4TzgvzK58p/f4tuBTCXNP6y0pBIcQGVtINzqmrAIDqAwquybopCu77UbNCF/9yMIn+XuynqBKsWLoRAy66+kEiwDMZsbhCh47sU1uLxjvOxKfPFpEnbBu8GmRoXct5JbIOQB63StAdQReujP1x7w0N9w3fnWHlBH6KE//wkHHstQWTn/4QAAAABJRU5ErkJggg=="},"42e8":function(t,e,r){t.exports=r.p+"img/Basemapthumbnail.6dc37597.png"},"5f9c":function(t,e,r){var a=r("da0b"),n=r("6077"),i=r("1277")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},6505:function(t,e,r){"use strict";var a=r("66d3"),n=r.n(a);n.a},"66d3":function(t,e,r){},"6af6":function(t,e,r){"use strict";r("b3f3");var a=r("a6d5"),n=r("b8ea"),i=r("0cc1"),o=r("3038"),s=r("1277"),c=r("133b"),l=s("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var p=s(t),h=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),f=h?!i((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[p](""),!e})):void 0;if(!h||!f||"replace"===t&&!u||"split"===t&&!d){var g=/./[p],m=r(o,p,""[t],(function(t,e,r,a,n){return e.exec===c?h&&!n?{done:!0,value:g.call(e,r,a)}:{done:!0,value:t.call(r,e,a)}:{done:!1}})),A=m[0],y=m[1];a(String.prototype,t,A),n(RegExp.prototype,p,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"6c68":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIklEQVR4Xu1aTVIaURDuJs4YswkuUiVsgoskwyrkBNETaE6gniB4gpgTqCfQnCB6gpgTBFeMyUKyGazKIrgBGZBOvREMpQzzfnoeFkIVq+nXP9/r/xmER/7DR24/zACYecAjR2AWArYdIN99swaEJSLMAlBpIB8BaoDiT5Vg7uzYll5WPGCp461kCDYAcB0AshLGNYjghDK0f+H4JxL02iSpArBEXgFD3EUEYbjWj4BOunC9/cf9VdFikHAoNQCWQm8zA3jApTRBr1x3z/a5+A2FHjdLgHzoHQDgJj9nOmw6V9sNrDW4eLN7QHrG35gsQqLu+qsPEoB829sBxE9cysXzocPA9bc45LB5QL77eh16T75yKCXFI3P9IZj7eSRFO4aIDYBc2ztHxIKpQgrnG02ntWyaD1gAyIXFMgLsKijPQ0r0OZj3d0yYsQCQD4t/JRucO7rSKQE0MGqO8K2GIcZeYAyATuwTwTG5VL5AvzYwOkuF7LPO0z0A3FABoge0deH6hypnhmmNAciFxT0E+CirAAHs191qOY5evYGiL4Hra/cc5gAoJD8C+l53/ZUksHKhd4KA75Po+s8bgVtdlKS9R2YMQD4skqxwWXdVDaum01rUrQZGAIhhJ9PBc1kAOtB9JzvUKAGLtKo7NZoBEI25+E0WgJ5Dy8OJb9y5qQQAJLu3F+GrkgNzP6SBnZgHKIYAgFzGVq0svUkBIG4oH3oNAHzOdVuqty/kBm5VO5S1Dw4MzrWLR4iwJgsAADQgc701apC5WZ2hGKhk1maRSNnSGqefMQDqjcutKhVA+j/NUbQvvF2SygJKANt1t7onS3+XzhiAmxZ2QcwCE/mpVJZRChoDIJhqhAELWKbuL5RgAUC1c2OxHgBkO8tx8lgA6HtBDRFechmXxIcIftfnq8YLGDYADJJhkq2jnzMsQ9hCQDDqz/M1lZ5Az/Ko+F02nauC7gA0LJfNA6KmyNZWmOn2WT3Anhfw3T47AFa8gPH2UwFA5IKFcKGSRkUQmb/ltkocsT/IA6w5YMA0rYrAUffZW+G4TJ4PvYrmqjuGJZ0Grq88KyRVmlQ8QAjtT3bS26IkRU1mfiud4CghfDOC3CIlCcRRz1PzgMgLoo0RiFCQXpjcV5Iuew6UZHeJqiCkCgBLWWQue9aS4LCgXLuoOSilk/hSa4Xj3E83IaaV+KwDIASqJsSkd4iqsR5Hn3oOGAhWmRbT6PgmDkBUFWQ/nZN8gcLhBdY8YKBs0ptf8e1Afb6q/WGlKijWARjfG/COujJgWAcgSohx3xRZdP1Up0EZ5O+HQnrt7sRmgXGCh0PBZtafSCcY2yD1q4KNhudBlMFRSoiXKhxffMqEnfVpUFcpm+cmUgVsGpgkawZAEkLT/nzmAdN+w0n2zTwgCaFpf/4PzAXPUHTttLMAAAAASUVORK5CYII="},"6df0":function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"f",(function(){return o})),r.d(e,"h",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"d",(function(){return l})),r.d(e,"i",(function(){return u})),r.d(e,"g",(function(){return d})),r.d(e,"b",(function(){return p}));var a=r("b775"),n=function(t){return Object(a["a"])({url:"/task/listTask",method:"post",data:t})},i=function(t){return Object(a["a"])({url:"/task/ledgerSelect",method:"post",data:t})},o=function(t){return Object(a["a"])({url:"/task/insertTask",method:"post",data:t})},s=function(t){return Object(a["a"])({url:"/task/updateTask",method:"post",data:t})},c=function(t){return Object(a["a"])({url:"/task/deleteTask",method:"post",data:t})},l=function(t){return Object(a["a"])({url:"/task/getTaskById",method:"post",data:t})},u=function(t){return Object(a["a"])({url:"/user/listUser",method:"post",data:t})},d=function(t){return Object(a["a"])({url:"/checkPoint/sharePoint",method:"post",data:t})},p=function(t){return Object(a["a"])({url:"/task/exportTask",method:"post",data:t})}},"7cfd":function(t,e,r){var a=r("d3d8").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in n||r("f9a5")&&a(n,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},a64f:function(t,e,r){},aa1f:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-box"},[a("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),a("div",{attrs:{id:"legendbar"}},[a("span",[t._v("图例")]),a("Legend",{attrs:{data:t.legendData,id:"legend"}})],1),a("div",{class:{activeBox:1===t.boxstate},attrs:{id:"toggleBox"}},[a("div",{ref:"searchBox",attrs:{id:"searchBox"}},[a("h3",[t._v("图层叠加")]),a("RadioGroup",{on:{"on-change":t.radioSearchType},model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("Radio",{attrs:{label:"1",border:""}},[t._v("核查人员分布")]),a("Radio",{attrs:{label:"2",border:""}},[t._v("核查任务分布")]),a("Radio",{attrs:{label:"3",border:""}},[t._v("核查轨迹分布")])],1),"1"===t.searchType?a("Form",{ref:"searchForm1",attrs:{model:t.searchForm1,"label-width":100}},[a("FormItem",{attrs:{prop:"ch005",label:"人员状态："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择人员状态"},model:{value:t.searchForm1.ch005,callback:function(e){t.$set(t.searchForm1,"ch005","string"===typeof e?e.trim():e)},expression:"searchForm1.ch005"}},[a("i-option",{attrs:{value:"-1"}},[t._v("全部")]),a("i-option",{attrs:{value:"0"}},[t._v("离线")]),a("i-option",{attrs:{value:"1"}},[t._v("在线")])],1)],1),a("FormItem",{attrs:{prop:"sa019",label:"人员真实姓名："}},[a("Input",{attrs:{placeholder:"请输入人员真实姓名"},model:{value:t.searchForm1.sa019,callback:function(e){t.$set(t.searchForm1,"sa019","string"===typeof e?e.trim():e)},expression:"searchForm1.sa019"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"sa012",label:"人员手机号："}},[a("Input",{attrs:{placeholder:"请输入人员手机号"},model:{value:t.searchForm1.sa012,callback:function(e){t.$set(t.searchForm1,"sa012","string"===typeof e?e.trim():e)},expression:"searchForm1.sa012"}})],1)],1):"2"===t.searchType?a("Form",{ref:"searchForm2",attrs:{model:t.searchForm2,"label-width":85}},[a("FormItem",{attrs:{prop:"cl010",label:"任务年份："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{editable:!1,type:"year",placement:"right-end",placeholder:"请选择任务年份"},model:{value:t.searchForm2.cl010,callback:function(e){t.$set(t.searchForm2,"cl010","string"===typeof e?e.trim():e)},expression:"searchForm2.cl010"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"cl002",label:"任务名称："}},[a("Input",{attrs:{placeholder:"请输入任务名称"},model:{value:t.searchForm2.cl002,callback:function(e){t.$set(t.searchForm2,"cl002","string"===typeof e?e.trim():e)},expression:"searchForm2.cl002"}})],1)],1):"3"===t.searchType?a("Form",{ref:"searchForm3",attrs:{model:t.searchForm3,"label-width":85}},[a("FormItem",{attrs:{prop:"taskName",label:"任务名称："}},[a("Input",{attrs:{placeholder:"请输入任务名称"},model:{value:t.searchForm3.taskName,callback:function(e){t.$set(t.searchForm3,"taskName","string"===typeof e?e.trim():e)},expression:"searchForm3.taskName"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"ledgerId",label:"任务台账："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择任务台账"},model:{value:t.searchForm3.ledgerId,callback:function(e){t.$set(t.searchForm3,"ledgerId","string"===typeof e?e.trim():e)},expression:"searchForm3.ledgerId"}},t._l(t.ledgerList,(function(e){return a("i-option",{attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1):t._e(),a("img",{attrs:{src:r("e821"),alt:"",id:"toggleImg"},on:{click:function(e){t.boxstate=1===t.boxstate?0:1}}}),a("div",{staticClass:"searchBtns"},[a("Button",{attrs:{type:"primary"},on:{click:t.addLayers}},[t._v("图层叠加")]),a("Button",{on:{click:t.cancelAddLayers}},[t._v("取消")])],1)],1)]),a("div",{attrs:{id:"controlLayerBox"}},[a("div",{ref:"layerBox",attrs:{id:"layerBox"}},[a("h3",[t._v("图层控制")]),a("p",[a("Checkbox",{attrs:{label:"1"},on:{"on-change":t.handlePatroluser},model:{value:t.patroluser,callback:function(e){t.patroluser="string"===typeof e?e.trim():e},expression:"patroluser"}},[t._v("核查人员分布")]),a("Checkbox",{attrs:{label:"2"},on:{"on-change":t.handlePatroltask},model:{value:t.patroltask,callback:function(e){t.patroltask="string"===typeof e?e.trim():e},expression:"patroltask"}},[t._v("核查任务分布")]),a("Checkbox",{attrs:{label:"3"},on:{"on-change":t.handlePatroltrack},model:{value:t.patroltrack,callback:function(e){t.patroltrack="string"===typeof e?e.trim():e},expression:"patroltrack"}},[t._v("核查轨迹分布")])],1)])])])},n=[],i=(r("63ff"),r("f8f9")),o=(r("7cfd"),r("4634"),r("9ed9")),s=r("149e"),c=r("f831"),l=r("cf45"),u=r("42e8"),d=r.n(u),p=r("39f3"),h=r.n(p),f=r("136f"),g=r("3cf7"),m=r.n(g),A=r("6c68"),y=r.n(A),b=(r("2b03"),r("6df0")),v=r("b775"),k=function(t){return Object(v["a"])({url:"/user/listPhoneUserToView",method:"post",data:t})},x=function(t){return Object(v["a"])({url:"/task/listCdByTask",method:"post",data:t})},w=function(t){return Object(v["a"])({url:"/ledger/trackDistribution",method:"post",data:t})},B={name:"workRegulation",data:function(){return{legendData:[{type:1,name:"离线",background:"url("+m.a+")",id:"patrolUserGray"},{type:1,name:"在线",background:"url("+y.a+")",id:"patrolUserRed"}],popupTemplate:{},loadComplete:!1,boxstate:0,searchType:"1",patroluser:!0,patroltask:!1,patroltrack:!1,searchForm1:{ch005:"-1",sa019:"",sa012:""},searchForm2:{cl010:"",cl002:""},searchForm3:{ledgerId:"",taskName:""},ledgerList:[],tablestate:0,tableHeight:Math.floor((window.innerHeight-326)/2),columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"用户名",align:"center",key:"SA008",ellipsis:!0,tooltip:!0,minWidth:200},{title:"手机号码",align:"center",key:"SA012",ellipsis:!0,tooltip:!0,minWidth:200},{title:"真实姓名",align:"center",key:"SA019",ellipsis:!0,tooltip:!0,minWidth:200},{title:"所属部门",align:"center",key:"SA015",ellipsis:!0,tooltip:!0,minWidth:200}],data1:[],columns2:[{title:"序号",key:"index",width:100,align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"任务名称",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl002"},{title:"任务类型",align:"center",key:"cl004",width:100,render:function(t,e){var r=e.row.cl004;return 0===r?t("span",{},"巡护"):1===r?t("span",{},"核查"):null===r?t("span",{},""):void 0}},{title:"任务年份",align:"center",width:100,key:"cl010"},{title:"任务级别",align:"center",key:"cl011",width:100,render:function(t,e){var r=e.row.cl011;return 1===r?t("span",{},"国家级"):2===r?t("span",{},"市级"):null===r?t("span",{},""):void 0}},{title:"任务台账",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,render:function(t,e){var r=e.row,a=[];return r.rlhdGroupList.forEach((function(t){a.push(t.name)})),t("div",{},a.join("，"))}},{title:"任务描述",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl009"}],data2:[],columns3:[{title:"序号",key:"index",width:100,align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"巡护记录名称",align:"center",key:"cy002",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护开始时间",align:"center",key:"cy004",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护结束时间",align:"center",key:"cy004",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护次数",align:"center",key:"rwcs",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护里程(m)",align:"center",key:"gjlc",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护时长(小时)",align:"center",key:"rwsc",ellipsis:!0,tooltip:!0,minWidth:200}],data3:[],addtaskLayer:{},pointArrays:[]}},components:{Legend:f["a"]},mounted:function(){this.createMap(),this.getLedgers(),setInterval(this.getLedgerList,1e4)},methods:{getLedgerList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"-1"===this.searchForm1.ch005&&(this.searchForm1.ch005=""),t.next=3,k({data:{ch005:this.searchForm1.ch005,sa019:this.searchForm1.sa019,sa012:this.searchForm1.sa012}}).then((function(t){"0000"===t.data.code&&(e.data1=t.data.data.data,e.addPointToMap(t.data.data.data,s["a"].inflectionPointcolor,"graphicsLayer_patroluser"))})).catch((function(){e.$Notice.error({title:"服务器错误"})}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTaskList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x({data:{cl010:Object(l["g"])(this.searchForm2.cl010),cl002:this.searchForm2.cl002}}).then((function(t){"0000"===t.data.code&&(e.data2=t.data.data.data,e.layerAddData(e.data2))})).catch((function(){e.$Notice.error({title:"服务器错误"})}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTrackDistribution:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w({data:{ledgerId:this.searchForm3.ledgerId,taskName:this.searchForm3.taskName}}).then((function(t){"0000"===t.data.code&&(e.data3=t.data.data,e.pointArrays=t.data.data,e.addTrackToMap(t.data.data))})).catch((function(){e.$Notice.error({title:"服务器错误"})}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createMap:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,i,l,u,p,f,g,m,A,y,b=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].MapView;case 2:return e=t.sent,t.next=5,o["a"].Map;case 5:return r=t.sent,t.next=8,o["a"].Basemap;case 8:return a=t.sent,t.next=11,o["a"].BasemapToggle;case 11:return n=t.sent,t.next=14,o["a"].GraphicsLayer;case 14:return t.sent,t.next=17,o["a"].esriConfig;case 17:return i=t.sent,i.fontsUrl=s["a"].fontsUrl,t.next=21,Object(c["i"])().then((function(t){return t}));case 21:return l=t.sent,t.next=24,Object(c["h"])().then((function(t){return t}));case 24:return u=t.sent,t.next=27,Object(c["g"])().then((function(t){return t}));case 27:return p=t.sent,t.next=30,Object(c["j"])().then((function(t){return t}));case 30:return f=t.sent,t.next=33,Object(c["f"])().then((function(t){return t}));case 33:g=t.sent,m=new a({baseLayers:[u,g,p],title:"矢量地图",id:"myBasemap",thumbnailUrl:d.a}),A=new a({baseLayers:[l,g,f],title:"影像地图",id:"myBasemap1",thumbnailUrl:h.a}),this.map=new r({basemap:A}),this.view=new e({map:this.map,container:"viewDiv",center:s["a"].centerPoint,zoom:7}),this.view.when((function(t){b.loadComplete=!0})),this.popupTemplate={title:"巡查人员详情",content:[{type:"fields",fieldInfos:[{fieldName:"用户名"},{fieldName:"手机号"},{fieldName:"真实姓名"},{fieldName:"经度"},{fieldName:"纬度"},{fieldName:"邮箱"}]}]},y=new n({view:this.view,nextBasemap:m}),this.view.ui.add(y,"top-right"),this.view.ui.add(document.getElementById("legendbar"),"bottom-right"),this.getLedgerList();case 44:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addPointToMap:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r,a){var n,i,s,c,u,d,p,h,f,g,A,b,v,k,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].GraphicsLayer;case 2:return n=t.sent,t.next=5,o["a"].Graphic;case 5:if(i=t.sent,s=this.map.findLayerById(a),c={},[],s&&this.map.remove(s),A=new n({id:a,elevationInfo:"on-the-ground",title:"实时位置"}),!(e&&e.length>0)){t.next=32;break}b=0;case 13:if(!(b<e.length)){t.next=32;break}if(null!==e[b].CH003){t.next=18;break}return t.abrupt("continue",29);case 18:-1!==e[b].CH003.indexOf("°")?(f=Object(l["a"])(e[b].CH003),g=Object(l["a"])(e[b].CH004)):-1!==e[b].CH003.indexOf(".")&&(f=e[b].CH003,g=e[b].CH004);case 19:c={type:"point",longitude:f,latitude:g},0===e[b].CH005?(p=m.a,h="离线"):1===e[b].CH005&&(p=y.a,h="在线"),v={id:e[b].SA001,"用户名":e[b].SA008,"手机号":'<a style="color: blue">'+e[b].SA012+"</a>","真实姓名":e[b].SA019,"经度":f,"纬度":g,"邮箱":e[b].SA013,"状态":h},0===e[b].CH005&&(v["手机号"]='<a style="color: blue">'+e[b].SA012+"</a>"),k={type:"picture-marker",url:p,width:20,height:20,outline:{color:[255,255,255],width:1}},x={type:"text",color:"white",haloColor:"black",haloSize:"1px",text:e[b].SA019,xoffset:0,yoffset:-20,font:{size:12,family:"sans-serif",weight:"bold"}},u=new i({geometry:c,symbol:k,attributes:v,popupTemplate:this.popupTemplate}),d=new i({geometry:c,symbol:x}),A.add(u),A.add(d);case 29:b++,t.next=13;break;case 32:this.map.add(A);case 33:case"end":return t.stop()}}),t,this)})));function e(e,r,a){return t.apply(this,arguments)}return e}(),addTrackToMap:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].GeoJSONLayer;case 2:r=t.sent,a=new Array,e.forEach((function(t){t.st4ScsCg.length>0&&t.st4ScsCg.forEach((function(t){if(null!==t.cg001){var e=n.map.findLayerById(t.cg001+"f");e&&n.map.remove(e)}var i,o={type:"simple",symbol:{type:"simple-line",color:"blue",width:2}};i=new r({url:s["a"].GeoJsonUrl+t.cg003,id:t.cg001+"f",renderer:o}),n.map.addMany([i]),a.push(i)}))})),this.map.addMany(a);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),layerAddData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].GraphicsLayer;case 2:return r=t.sent,this.map.findLayerById("taskLayer")?(this.map.findLayerById("taskLayer").removeAll(),this.map.findLayerById("taskLayer").visible=!0,a=this.map.findLayerById("taskLayer")):a=new r({id:"taskLayer"}),t.next=6,o["a"].Graphic;case 6:n=t.sent,[],e.forEach((function(t){if(t.geometry){var e={type:"polygon",rings:JSON.parse(t.geometry),spatialReference:4326},r=new n({geometry:e,symbol:{type:"simple-fill",color:[51,133,255,.5],style:"solid",outline:{color:[51,133,255,.8],width:1}}});a.add(r)}})),this.map.add(a);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getLedgers:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(b["c"])({data:{}}).then((function(t){"0000"===t.data.code&&t.data.data.data.forEach((function(t,r){e.ledgerList.push({value:t.id,label:t.name})}))})).catch((function(){e.$Notice.error({title:"服务器错误"})}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),addLayers:function(){"1"===this.searchType?this.getLedgerList():"2"===this.searchType?this.getTaskList():"3"===this.searchType&&this.getTrackDistribution()},cancelAddLayers:function(){},handlePatroluser:function(t){!0===t?this.getLedgerList():!1===t&&this.removePatrolUserFromMapNoPicAll()},handlePatroltask:function(t){!0===t?this.getTaskList():!1===t&&this.removePatrolTaskFromMapNoPicAll()},handlePatroltrack:function(t){!0===t?this.getTrackDistribution():!1===t&&this.removePatrolTrackFromMapNoPicAll()},removePatrolUserFromMapNoPicAll:function(){this.map.findLayerById("graphicsLayer_patroluser")&&(this.map.findLayerById("graphicsLayer_patroluser").visible=!1)},removePatrolTaskFromMapNoPicAll:function(){this.map.findLayerById("taskLayer")&&(this.map.findLayerById("taskLayer").visible=!1)},removePatrolTrackFromMapNoPicAll:function(){var t=this,e=this.pointArrays;e&&e.forEach((function(e){e.st4ScsCg.length>0&&e.st4ScsCg.forEach((function(e){null!==e.cg003&&(t.map.findLayerById(e.cg001+"f").visible=!1)}))}))},radioSearchType:function(t){"1"===t?(this.searchForm2={cl010:"",cl002:""},this.searchForm3={ledgerId:"",taskName:""}):"2"===t?(this.searchForm1={ch005:"-1",sa019:"",sa012:""},this.searchForm3={ledgerId:"",taskName:""}):"3"===t&&(this.searchForm1={ch005:"-1",sa019:"",sa012:""},this.searchForm2={cl010:"",cl002:""})},handleTaleBox:function(){2===this.tablestate?(this.tablestate=0,this.tableHeight=Math.floor((window.innerHeight-326)/2),this.pageSize=Math.floor((48*Math.floor((Math.floor((window.innerHeight-326)/2)-40)/48)+40)/48)):(this.tablestate=2,this.tableHeight=48*Math.floor((window.innerHeight-300-40)/48)+40,this.pageSize=Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48))}}},F=B,C=(r("39db"),r("6691")),L=Object(C["a"])(F,a,n,!1,null,"8a33fad8",null);e["default"]=L.exports},b3f3:function(t,e,r){"use strict";var a=r("133b");r("2498")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},cf45:function(t,e,r){"use strict";r.d(e,"h",(function(){return a})),r.d(e,"f",(function(){return n})),r.d(e,"g",(function(){return i})),r.d(e,"e",(function(){return o})),r.d(e,"d",(function(){return s})),r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return l})),r.d(e,"c",(function(){return u}));r("e6d1"),r("cc1d");var a=function(t){var e="",r=0;t=(t||0).toString();for(var a=t.length-1;a>=0;a--)r++,e=t.charAt(a)+e,r%3||0===a||(e=","+e);return e},n=function(t){if(null===t||void 0===t)return"";var e=new Date(t),r=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return r},i=function(t){if(null===t||void 0===t)return"";var e=new Date(t),r=e.getFullYear();return r},o=function(t){if(null===t||void 0===t)return"";var e=new Date(t),r=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes();return r},s=function(t){if(null===t||void 0===t)return"";var e=new Date(t),r=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return r},c=function(t){if(void 0!==t&&null!==t){var e=parseInt(t),r=parseInt(60*(t-e)),a=(3600*(t-e)-60*r).toFixed(2),n="00"+r;return r=n.substring(n.length-2,n.length),e+"°"+r+"′"+a+"″"}},l=function(t){if(void 0!==t&&null!==t){var e=t.split("°")[0],r=t.split("°")[1].split("′")[0],a=t.split("°")[1].split("′")[1].split("″")[0];return Math.abs(e)+(Math.abs(r)/60+Math.abs(a)/3600)}},u=function(t){for(var e=t.concat(t),r=0,a=e.length;r<a;r++)for(var n=r+1;n<a;n++)e[r]===e[n]&&(e.splice(n,1),a--,n--);return e}},e6d1:function(t,e,r){"use strict";var a=r("5f9c"),n=r("8cac"),i=r("95e3"),o=r("ff04"),s=r("8941"),c=r("2137"),l=r("133b"),u=r("0cc1"),d=Math.min,p=[].push,h="split",f="length",g="lastIndex",m=4294967295,A=!u((function(){RegExp(m,"y")}));r("6af6")("split",2,(function(t,e,r,u){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[f]||2!="ab"[h](/(?:ab)*/)[f]||4!="."[h](/(.?)(.?)/)[f]||"."[h](/()()/)[f]>1||""[h](/.?/)[f]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!a(t))return r.call(n,t,e);var i,o,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,h=void 0===e?m:e>>>0,A=new RegExp(t.source,u+"g");while(i=l.call(A,n)){if(o=A[g],o>d&&(c.push(n.slice(d,i.index)),i[f]>1&&i.index<n[f]&&p.apply(c,i.slice(1)),s=i[0][f],d=o,c[f]>=h))break;A[g]===i.index&&A[g]++}return d===n[f]?!s&&A.test("")||c.push(""):c.push(n.slice(d)),c[f]>h?c.slice(0,h):c}:"0"[h](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,a){var n=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,n,a):y.call(String(n),r,a)},function(t,e){var a=u(y,t,this,e,y!==r);if(a.done)return a.value;var l=n(t),p=String(this),h=i(l,RegExp),f=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(A?"y":"g"),b=new h(A?l:"^(?:"+l.source+")",g),v=void 0===e?m:e>>>0;if(0===v)return[];if(0===p.length)return null===c(b,p)?[p]:[];var k=0,x=0,w=[];while(x<p.length){b.lastIndex=A?x:0;var B,F=c(b,A?p:p.slice(x));if(null===F||(B=d(s(b.lastIndex+(A?0:x)),p.length))===k)x=o(p,x,f);else{if(w.push(p.slice(k,x)),w.length===v)return w;for(var C=1;C<=F.length-1;C++)if(w.push(F[C]),w.length===v)return w;x=k=B}}return w.push(p.slice(k)),w}]}))},e821:function(t,e,r){t.exports=r.p+"img/toggle.9e5f76f8.png"},ff04:function(t,e,r){"use strict";var a=r("1eb0")(!0);t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}}}]);
//# sourceMappingURL=chunk-10ac5f08.c412703e.js.map