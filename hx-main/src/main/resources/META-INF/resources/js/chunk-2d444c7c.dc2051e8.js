(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d444c7c"],{2758:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{height:"500px"},attrs:{id:"map"}}),r("Button",{on:{click:e.clickBtn}},[e._v("按钮")])],1)},i=[],a=(r("63ff"),r("f8f9")),o=r("149e"),s=r("9ed9"),c={name:"demo",methods:{createMap:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i,a,c,u,l,h,f,p,y,d,m,g,v,w,b,x=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].MapView;case 2:return t=e.sent,e.next=5,s["a"].Map;case 5:return r=e.sent,e.next=8,s["a"].Basemap;case 8:return n=e.sent,e.next=11,s["a"].Point;case 11:return i=e.sent,e.next=14,s["a"].BaseTileLayer;case 14:return a=e.sent,e.next=17,s["a"].Request;case 17:return c=e.sent,e.next=20,s["a"].geometryEngine;case 20:return u=e.sent,e.next=23,s["a"].GraphicsLayer;case 23:return l=e.sent,e.next=26,s["a"].Graphic;case 26:return h=e.sent,e.next=29,s["a"].FeatureLayer;case 29:return f=e.sent,e.next=32,s["a"].Polygon;case 32:return p=e.sent,e.next=35,s["a"].WebTileLayer;case 35:y=e.sent,d={type:"simple-fill",color:[140,140,222,.5],outline:{color:[0,0,0,.5],width:2}},this.layerRedLine=new f({url:o["a"].serverUrl+"/arcgis/rest/services/qhhx/hongxian/MapServer",opacity:.7,outFields:["*"],popupTemplate:{title:"{name}",content:[{type:"fields",fieldInfos:[{fieldName:"STATENAME",label:"所属地区"},{fieldName:"面积",label:"面积（平方米）"}]}]}}),m=a.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,r){var n="http://t"+r%8+".tianditu.gov.cn/DataServer?T=img_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+r+"&y="+t+"&l="+e;return n},fetchTile:function(e,t,r){var n=this,i=this.getTileUrl(e,t,r);return c(i,{responseType:"image"}).then((function(e){var t=e.data,r=n.tileInfo.size[0],i=n.tileInfo.size[0],a=document.createElement("canvas"),o=a.getContext("2d");return a.width=r,a.height=i,o.drawImage(t,0,0,r,i),a}))}}),new m,g=new y({urlTemplate:"http://t2.tianditu.gov.cn/img_c/wmts?tk=12b886b3d0f324bd6032c29503972e7c&TILECOL={col}&TILEROW={row}&TILEMATRIX={level}&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&SERVICE=WMTS"}),v=new n({baseLayers:[],title:"Custom Basemap",id:"myBasemap"}),this.map=new r({basemap:v}),this.view=new t({map:this.map,container:"map",center:o["a"].centerPoint,zoom:7}),new i({type:"point",longitude:98.880521,latitude:38.762178}),{type:"polyline",paths:[[[98.880521,38.762178],[98.990521,38.772178]]],spatialReference:{wkid:4326}},w=new p({rings:[[[98.880521,38.762178],[98.990521,38.972178],[98.790521,38.672178],[98.880521,38.762178]]],spatialReference:{wkid:4326}}),b=new l,this.buffer=u.geodesicBuffer(w,.5,"kilometers",!1),this.buffer=u.union([this.buffer,w]),this.buffer.rings.pop(),this.graphic=new h({geometry:this.buffer,symbol:d}),b.add(this.graphic),this.map.add(g),this.map.add(this.layerRedLine),this.map.add(b),this.bufferLayer=b,this.view.on("pointer-move",(function(e){x.view.toMap({x:e.x,y:e.y})}));case 58:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clickBtn:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i,a,o,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].Geoprocessor;case 2:return t=e.sent,e.next=5,s["a"].FeatureSet;case 5:return r=e.sent,e.next=8,s["a"].ImageParameters;case 8:return e.sent,e.next=11,s["a"].Graphic;case 11:return e.sent,e.next=14,s["a"].GraphicsLayer;case 14:return n=e.sent,e.next=17,s["a"].geometryEngine;case 17:i=e.sent,a=new t("http://192.168.1.158:6080/arcgis/rest/services/qhhx/insect/GPServer/insect"),o=new r,o.features=[this.graphic],c={polygon:o,redline:"redline_Project"},console.log(o),a.submitJob(c).then((function(e){"job-succeeded"===e.jobStatus&&a.getResultData(e.jobId,"out").then((function(e){console.log(e);var t={type:"simple-fill",color:[140,10,2,.8],outline:{color:[0,0,0,.8],width:2}},r=e.value.features.map((function(e){return e.symbol=t,e.attributes.shapearea=i.geodesicArea(e.geometry,"square-meters"),e})),a=new n;a.addMany(r),u.map.add(a)}))}));case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.createMap()}},u=c,l=r("6691"),h=Object(l["a"])(u,n,i,!1,null,"44253896",null);t["default"]=h.exports},"63ff":function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new P(n||[]);return a._invoke=T(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=c;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",y={};function d(){}function m(){}function g(){}var v={};v[a]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(R([])));b&&b!==r&&n.call(b,a)&&(v=b);var x=g.prototype=d.prototype=Object.create(v);function L(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){function t(r,i,a,o){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,o)}))}o(s.arg)}var r;function i(e,n){function i(){return new Promise((function(r,i){t(e,n,r,i)}))}return r=r?r.then(i,i):i()}this._invoke=i}function T(e,t,r){var n=l;return function(i,a){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return G()}r.method=i,r.arg=a;while(1){var o=r.delegate;if(o){var s=S(o,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=u(e,t,r);if("normal"===c.type){if(n=r.done?p:h,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=u(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function R(e){if(e){var r=e[a];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){while(++i<e.length)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:G}}function G(){return{value:t,done:!0}}return m.prototype=x.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},L(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,i){var a=new E(c(t,r,n,i));return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},"9ed9":function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}function i(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(r.push(o.value),t&&r.length===t)break}catch(c){i=!0,a=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}return r}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){return n(e)||i(e,t)||a()}r("63ff");var s=r("f8f9"),c=r("f0b3"),u=r("149e"),l={MapView:"esri/views/MapView",Map:"esri/Map",Basemap:"esri/Basemap",TileLayer:"esri/layers/TileLayer",FeatureLayer:"esri/layers/FeatureLayer",GraphicsLayer:"esri/layers/GraphicsLayer",Graphic:"esri/Graphic",Point:"esri/geometry/Point",SpatialReference:"esri/geometry/SpatialReference",PictureMarkerSymbol:"esri/symbols/PictureMarkerSymbol",WebTileLayer:"esri/layers/WebTileLayer",WMTSLayer:"esri/layers/WMTSLayer",TileInfo:"esri/layers/support/TileInfo",Extent:"esri/geometry/Extent",BaseTileLayer:"esri/layers/BaseTileLayer",Request:"esri/request",LayerList:"esri/widgets/LayerList",Print:"esri/widgets/Print",DistanceMeasurement2D:"esri/widgets/DistanceMeasurement2D",AreaMeasurement2D:"esri/widgets/AreaMeasurement2D",ScaleBar:"esri/widgets/ScaleBar",BasemapToggle:"esri/widgets/BasemapToggle",Legend:"esri/widgets/Legend",geometryEngine:"esri/geometry/geometryEngine",Geoprocessor:"esri/tasks/Geoprocessor",FeatureSet:"esri/tasks/support/FeatureSet",ImageParameters:"esri/layers/support/ImageParameters",Draw:"esri/views/2d/draw/Draw",Field:"esri/layers/support/Field",Polygon:"esri/geometry/Polygon",WebMercatorUtils:"esri/geometry/support/webMercatorUtils",Fullscreen:"esri/widgets/Fullscreen",BasemapGallery:"esri/widgets/BasemapGallery",Compass:"esri/widgets/Compass",Sketch:"esri/widgets/Sketch",GeoJSONLayer:"esri/layers/GeoJSONLayer",SimpleRenderer:"esri/renderers/SimpleRenderer",Font:"esri/symbols/Font",TextSymbol:"esri/symbols/TextSymbol",Color:"esri/Color",MapImageLayer:"esri/layers/MapImageLayer"},h={},f=new Proxy({},{get:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r,n){var i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i={},"undefined"!==typeof h[r]){e.next=10;break}return e.next=4,Object(c["loadModules"])([l[r]],{url:u["a"].baseUrl,dojoConfig:{baseUrl:u["a"].dojoUrl}});case 4:a=e.sent,s=o(a,1),i=s[0],h[r]=i,e.next=11;break;case 10:i=h[r];case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),set:function(){console.warn("arcgisPackage对象属性不能赋值")}});t["a"]=f},f8f9:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=chunk-2d444c7c.dc2051e8.js.map