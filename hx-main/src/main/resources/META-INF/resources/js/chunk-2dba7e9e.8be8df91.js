(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dba7e9e"],{"0880":function(e,t,n){},"0a18":function(e,t,n){"use strict";var r=n("b969"),a=n.n(r);a.a},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"39f3":function(e,t,n){e.exports=n.p+"img/Basemapthumbnail1.5f8d6db2.png"},"3ac9":function(e,t,n){"use strict";n.d(t,"o",function(){return a}),n.d(t,"n",function(){return i}),n.d(t,"p",function(){return o}),n.d(t,"g",function(){return u}),n.d(t,"m",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"q",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return x});var r=n("b775"),a=function(e){return Object(r["a"])({url:"/ktdb/lmPoint/getPointList",method:"post",data:e})},i=function(e){return Object(r["a"])({url:"/sys/menu/getMenu",method:"post",data:e})},o=function(e){return Object(r["a"])({url:"/ktdb/lmMarkerMobile/getPreMarkerList",method:"post",data:e})},u=function(e){return Object(r["a"])({url:"/ktdb/lmBoard/getPreLmBoardList",method:"post",data:e})},s=function(e){return Object(r["a"])({url:"/ktdb/lmMarkerMobile/getMarkerByCoordinate",method:"post",data:e})},c=function(e){return Object(r["a"])({url:"/ktdb/lmMarkerMobile/getAllPreMarkerList",method:"post",data:e})},l=function(e){return Object(r["a"])({url:"/ktdb/lmBoard/getAllPreBoard",method:"post",data:e})},d=function(e){return Object(r["a"])({url:"/ktdb/lmMarkerMobile/getAllMarkerList",method:"post",data:e})},f=function(e){return Object(r["a"])({url:"/ktdb/lmBoard/getAllBoard",method:"post",data:e})},p=function(e){return Object(r["a"])({url:"/ktdb/lmPoint/getAllPoint",method:"post",data:e})},m=function(e){return Object(r["a"])({url:"/ktdb/lmPoint/export_Excel",method:"post",data:e})},h=function(e){return Object(r["a"])({url:"/ktdb/lmMarkerMobile/export_PreExcel",method:"post",data:e})},g=function(e){return Object(r["a"])({url:"/ktdb/lmBoard/export_PreExcel",method:"post",data:e})},b=function(e){return Object(r["a"])({url:"ktdb/dataRedlineRegister/list",method:"post",data:e})},v=function(e){return Object(r["a"])({url:"ktdb/environment/bottomChart/list",method:"post",data:e})},y=function(e){return Object(r["a"])({url:"ktdb/environment/bottomChart/add",method:"post",data:e})},x=function(e){return Object(r["a"])({url:"ktdb/environment/bottomChart/delete",method:"post",data:e})}},"42e8":function(e,t,n){e.exports=n.p+"img/Basemapthumbnail.6dc37597.png"},"49ae":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"textTerm"},[n("span",{staticStyle:{"min-width":"100px",display:"inline-block","text-align":"right","padding-right":"10px"}},[e._v(e._s(e.titName)+"：")]),n("Input",{staticStyle:{width:"200px"},attrs:{size:"large",placeholder:"请输入"+e.titName},on:{"on-change":function(t){return e.srldChange(e.UnitName)}},model:{value:e.UnitName,callback:function(t){e.UnitName="string"===typeof t?t.trim():t},expression:"UnitName"}})],1)},a=[],i={name:"TextTerm",data:function(){return{UnitName:""}},props:{titName:{},titKey:{}},mounted:function(){},methods:{srldChange:function(){if(null===this.UnitName)this.$emit("delQueryTrem",this.titKey);else{var e={name:this.titName,text:this.UnitName,key:this.titKey,value:this.UnitName};this.$emit("updataQueryData",e)}}}},o=i,u=(n("eb80"),n("2877")),s=Object(u["a"])(o,r,a,!1,null,"16da56a2",null);t["a"]=s.exports},"5f87":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return u});var r=n("a78e"),a=n.n(r),i="token";function o(){return a.a.get(i)}function u(){return a.a.remove(i)}},"62b9":function(e,t,n){"use strict";var r=n("0880"),a=n.n(r);a.a},"6b54":function(e,t,n){"use strict";n("3846");var r=n("cb7c"),a=n("0bfb"),i=n("9e1e"),o="toString",u=/./[o],s=function(e){n("2aba")(RegExp.prototype,o,e,!0)};n("79e5")(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):u.name!=o&&s(function(){return u.call(this)})},"72c0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tablet"}},[n("QueryBox",{on:{searchSrldId:e.searchSrldId}}),n("div",{staticClass:"content_box"},[n("div",[n("Table",{attrs:{border:"",stripe:"",loading:e.loading,columns:e.columns1,data:e.data1,"highlight-row":""}}),n("div",{staticClass:"page_box"},[n("Page",{attrs:{total:e.total,"page-size":e.pageSize,"show-total":""},on:{"on-change":e.pageChange}})],1)],1)]),n("div",{staticClass:"checking_box",class:{addActive:e.addActive}},[n("checkInfoMap",{ref:"checkInfoMap",attrs:{serviceUrl:e.serviceUrl},on:{signOut:e.signOut}})],1)],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"query-box"},[n("div",{ref:"queryBox",staticClass:"query-box-title",on:{click:function(t){e.show=!e.show}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:0===e.queryData.length,expression:"queryData.length===0"}],staticClass:"search-title"},[e._v("查询条件")]),n("div",{staticClass:"search-items"},e._l(e.queryData,function(t,r){return n("span",{key:r,staticClass:"queryTerm"},[n("strong",[e._v(e._s(t.name))]),n("span",[e._v("\n          "+e._s(t.text)+"\n        ")])])}),0),n("div",{staticStyle:{"text-align":"right"}},[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small",icon:"ios-arrow-dropdown"}},[e._v("查询条件")]),n("Button",{staticClass:"btn-add",attrs:{type:"success",size:"small",icon:"md-add"},on:{click:function(t){return t.stopPropagation(),e.openAdd(t)}}},[e._v("添加")])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"queryDown",staticClass:"query-down"},[n("div",{staticClass:"queryTerm"},[n("TextTerm",{attrs:{titName:"图层名称",titKey:"srldName"},on:{updataQueryData:e.updataQueryData,delQueryTrem:e.delQueryTrem}})],1),n("div",{staticStyle:{"text-align":"right","margin-top":"-30px"}},[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small",icon:"ios-search"},on:{click:e.search}},[e._v("搜索")]),n("Button",{attrs:{type:"primary",size:"small",icon:"md-close"},on:{click:function(t){e.show=!1}}},[e._v("取消")])],1)]),n("Modal",{attrs:{title:"新建地图图层"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("Form",{ref:"add",staticStyle:{padding:"0 50px"},attrs:{model:e.AddData,rules:e.ruleValidate,"label-width":90}},[n("FormItem",{attrs:{prop:"name",label:"图层名称："}},[n("Input",{attrs:{placeholder:"请输入图层名称",size:"small"},model:{value:e.AddData.name,callback:function(t){e.$set(e.AddData,"name","string"===typeof t?t.trim():t)},expression:"AddData.name"}})],1),n("FormItem",{attrs:{prop:"url",label:"访问地址："}},[n("Input",{attrs:{placeholder:"请输入访问地址",size:"small"},model:{value:e.AddData.url,callback:function(t){e.$set(e.AddData,"url","string"===typeof t?t.trim():t)},expression:"AddData.url"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("确定")])],1)],1)],1)},o=[],u=n("5d73"),s=n.n(u),c=(n("7f7f"),n("49ae")),l=n("3ac9"),d={name:"queryBox",data:function(){return{show:!1,UnitName:"",queryData:[],modal:!1,AddData:{name:"",url:"",createBy:12},ruleValidate:{name:[{required:!0,message:"任务名称必须填写",trigger:"blur"}],url:[{required:!0,message:"任务名称必须填写",trigger:"blur"}]}}},components:{TextTerm:c["a"]},mounted:function(){document.addEventListener("click",this.queryHide)},beforeDestroy:function(){document.removeEventListener("click",this.queryHide)},methods:{updataQueryData:function(e){""!==e.text?(this.queryData=this.queryData.filter(function(t){return t.name!==e.name}),this.queryData.push(e)):this.queryData=this.queryData.filter(function(t){return t.name!==e.name})},delQueryTrem:function(e){this.queryData=this.queryData.filter(function(t){return t.key!==e})},search:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=s()(this.queryData);!(t=(a=i.next()).done);t=!0){var o=a.value;e[o.key]=o.value}}catch(u){n=!0,r=u}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this.$emit("searchSrldId",e),this.show=!1},queryHide:function(e){this.$refs.queryBox.contains(e.target)||this.$refs.queryDown.contains(e.target)||(this.show=!1)},addSubmit:function(){var e=this;this.$refs.add.validate(function(t){t&&Object(l["a"])({data:{name:e.AddData.name,url:e.AddData.url,createBy:e.AddData.createBy}}).then(function(t){"0000"===t.data.code?(e.$Notice.success({title:"创建图层成功"}),e.modal=!1,e.$parent.getSurveyTableList()):e.$Notice.error({title:"创建图层失败"})})})},openAdd:function(){this.modal=!0}}},f=d,p=(n("985b"),n("2877")),m=Object(p["a"])(f,i,o,!1,null,"8b79c614",null),h=m.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-box"},[n("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),n("Button",{staticClass:"sign-btn",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$emit("signOut",!1)}}},[e._v("返回")])],1)},b=[],v=(n("96cf"),n("3b8d")),y=n("9ed9"),x=n("149e"),w=n("f831"),k=n("42e8"),j=n.n(k),T=n("39f3"),S=n.n(T),C={name:"checkInfoMap",data:function(){return{map:{},view:{}}},computed:{},props:{serviceUrl:String},components:{},watch:{},mounted:function(){this.createMap()},methods:{createMap:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o,u,s,c,l,d,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].MapView;case 2:return t=e.sent,e.next=5,y["a"].Map;case 5:return n=e.sent,e.next=8,y["a"].Basemap;case 8:return r=e.sent,e.next=11,y["a"].FeatureLayer;case 11:return e.sent,e.next=14,y["a"].BasemapToggle;case 14:return a=e.sent,e.next=17,Object(w["f"])().then(function(e){return e});case 17:return i=e.sent,e.next=20,Object(w["e"])().then(function(e){return e});case 20:return o=e.sent,e.next=23,Object(w["d"])().then(function(e){return e});case 23:return u=e.sent,e.next=26,Object(w["g"])().then(function(e){return e});case 26:return s=e.sent,e.next=29,Object(w["b"])().then(function(e){return e});case 29:c=e.sent,l=new r({baseLayers:[o,c,u],title:"矢量地图",id:"myBasemap",thumbnailUrl:j.a}),d=new r({baseLayers:[i,c,s],title:"影像地图",id:"myBasemap1",thumbnailUrl:S.a}),this.map=new n({basemap:d}),this.view=new t({map:this.map,container:"viewDiv",center:x["a"].centerPoint,zoom:7}),f=new a({view:this.view,nextBasemap:l}),this.view.ui.add(f,"top-right");case 36:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addFeatureLayer:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].FeatureLayer;case 2:t=e.sent,n=new t({url:this.serviceUrl,outFields:["*"]}),this.map.layers.add(n);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),initCom:function(){this.map.remove(this.insercLayer),this.map.layers.removeAll(),this.addFeatureLayer(this.serviceUrl)}}},O=C,D=(n("0a18"),Object(p["a"])(O,g,b,!1,null,"6c5077ba",null)),I=D.exports,B={name:"DataTable",data:function(){var e=this;return{columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(t,n){return t("span",n.index+(e.pageNum-1)*e.pageSize+1)}},{title:"图层名称",align:"center",minWidth:150,key:"name"},{title:"发布时间",align:"center",width:250,key:"createDate"},{title:"访问地址",align:"center",minWidth:150,key:"url"},{title:"操作",key:"address",width:170,align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:"primary",size:"small",icon:"md-eye"},style:{marginRight:"5px"},on:{click:function(){e.addActive=!0,e.serviceUrl=n.row.url,e.$refs.checkInfoMap.initCom()}}},"查看"),t("Button",{props:{type:"error",size:"small",icon:"md-trash"},on:{click:function(){e.infoId=n.row.id,e.$Modal.confirm({title:"确认",content:"请问您确定要删除该图层吗？",onOk:function(){e.infoDel()},onCancel:function(){}})}}},"删除")])}}],data1:[],obj:{},total:0,pageNum:1,pageSize:Math.floor((window.innerHeight-343)/48),infoId:"",loading:!1,addActive:!1,serviceUrl:""}},components:{QueryBox:h,checkInfoMap:I},created:function(){this.getSurveyTableList()},mounted:function(){var e=this;window.addEventListener("resize",function(){e.pageSize=Math.floor((window.innerHeight-350)/48)+1,e.getSurveyTableList()},!1)},watch:{obj:function(){this.getSurveyTableList()}},methods:{searchSrldId:function(e){this.obj=e},getSurveyTableList:function(){var e=this;this.loading=!0,Object(l["c"])({data:{pageSize:this.pageSize,pageNum:this.pageNum,name:this.obj.srldName}}).then(function(t){"0000"===t.data.code&&(e.data1=t.data.data.rows,e.total=t.data.data.total,e.loading=!1)}).catch(function(){e.$Notice.error({title:"服务器错误"})})},pageChange:function(e){this.pageNum=e,this.getSurveyTableList()},infoDel:function(){var e=this;Object(l["b"])({data:{id:[this.infoId]}}).then(function(t){"0000"===t.data.code?(e.getSurveyTableList(),e.$Notice.success({title:"删除成功"})):e.$Notice.error({title:"删除失败"})}).catch(function(){e.$Notice.error({title:"服务器错误"})})},signOut:function(e){this.addActive=e}}},N=B,U=(n("62b9"),Object(p["a"])(N,r,a,!1,null,"09d9b2ca",null));t["default"]=U.exports},7642:function(e,t,n){},"7f7f":function(e,t,n){var r=n("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in a||n("9e1e")&&r(a,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},"96f3":function(e,t,n){},"985b":function(e,t,n){"use strict";var r=n("7642"),a=n.n(r);a.a},a78e:function(e,t,n){var r,a;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(i){var o=!1;if(r=i,a="function"===typeof r?r.call(t,n,t,e):r,void 0===a||(e.exports=a),o=!0,e.exports=i(),o=!0,!o){var u=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=u,s}}})(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,a,i){var o;if("undefined"!==typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"===typeof i.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(g){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c]));return document.cookie=t+"="+a+s}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var p=l[f].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=p[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,h):n(m,h)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(g){}if(t===h){o=m;break}t||(o[h]=m)}catch(g){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},b775:function(e,t,n){"use strict";var r=n("795b"),a=n.n(r),i=n("bc3a"),o=n.n(i),u=(n("c0d6"),n("e069"),n("5f87")),s=n("a78e"),c=n.n(s),l=o.a.create({baseURL:"/epr/api/",timeout:5e5});l.interceptors.request.use(function(e){return e.headers["token"]=Object(u["a"])(),e.headers["uuid"]=c.a.get("uuid"),e},function(e){console.log(e),a.a.reject(e)}),l.interceptors.response.use(function(e){var t=e.data;return"2111"===t.code&&(Object(u["b"])("token"),location.reload()),e},function(e){return console.log("err"+e),a.a.reject(e)}),t["a"]=l},b969:function(e,t,n){},eb80:function(e,t,n){"use strict";var r=n("96f3"),a=n.n(r);a.a},f831:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"g",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"h",function(){return p});n("6b54"),n("96cf");var r=n("3b8d"),a=n("9ed9"),i=n("149e"),o=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return n=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,n){var r="http://t"+n%8+".tianditu.gov.cn/DataServer?T=img_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+n+"&y="+t+"&l="+e;return r},fetchTile:function(e,t,r){var a=this,i=this.getTileUrl(e,t,r);return n(i,{responseType:"image"}).then(function(e){var t=e.data,n=a.tileInfo.size[0],r=a.tileInfo.size[0],i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.drawImage(t,0,0,n,r),i})}});case 8:return r=e.sent,e.next=11,new r;case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return n=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,n){var r="http://t"+n%8+".tianditu.gov.cn/DataServer?T=cia_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+n+"&y="+t+"&l="+e;return r},fetchTile:function(e,t,r){var a=this,i=this.getTileUrl(e,t,r);return n(i,{responseType:"image"}).then(function(e){var t=e.data,n=a.tileInfo.size[0],r=a.tileInfo.size[0],i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.drawImage(t,0,0,n,r),i})}});case 8:return r=e.sent,i=new r,e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return n=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,n){var r="http://t"+n%8+".tianditu.gov.cn/DataServer?T=vec_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+n+"&y="+t+"&l="+e;return r},fetchTile:function(e,t,r){var a=this,i=this.getTileUrl(e,t,r);return n(i,{responseType:"image"}).then(function(e){var t=e.data,n=a.tileInfo.size[0],r=a.tileInfo.size[0],i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.drawImage(t,0,0,n,r),i})}});case 8:return r=e.sent,i=new r,e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return n=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,n){var r="http://t"+n%8+".tianditu.gov.cn/DataServer?T=cva_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+n+"&y="+t+"&l="+e;return r},fetchTile:function(e,t,r){var a=this,i=this.getTileUrl(e,t,r);return n(i,{responseType:"image"}).then(function(e){var t=e.data,n=a.tileInfo.size[0],r=a.tileInfo.size[0],i=document.createElement("canvas"),o=i.getContext("2d");return i.width=n,i.height=r,o.drawImage(t,0,0,n,r),i})}});case 8:return r=e.sent,i=new r,e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,o,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return n=e.sent,r=new n({id:void 0===t?0:t.toString(),name:"红线斑块",title:"红线斑块",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/hongxian/MapServer",outFields:["*"],opacity:.7,popupTemplate:{title:"{name}",expressionInfos:[{name:"redLineType",title:"红线类型",expression:"if ($feature.type == \"01\") {\n                        return '生态功能重要区'\n                }\n                else if($feature.type == \"02\") {\n                        return '生态环境敏感区'\n                }"},{name:"redLineAttribute",title:"功能属性",expression:"if ($feature.attribute == \"01\") {\n                        return '水土流失'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '土地沙化'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '石漠化'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '盐渍化'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '其他敏感性'\n                }"}],content:[{type:"fields",fieldInfos:[{fieldName:"Id",label:"红线Id"},{fieldName:"行政区",label:"行政区划名称"},{fieldName:"pac",label:"行政区划编码"},{fieldName:"hxcode",label:"红线编码"},{fieldName:"面积",label:"斑块面积/m²",format:{digitSeparator:!0,places:2}},{fieldName:"expression/redLineType"},{fieldName:"expression/redLineAttribute"}]}]},legend:{type:0,backgroundColor:"rgba(255, 255, 255, 0)",border:"2px solid red"}}),r.renderer={type:"simple",symbol:{type:"simple-fill",size:6,color:[0,0,0,.01],outline:{width:.8,color:[255,0,0,.8]}},label:"红线斑块"},o="$feature.hxcode",u={labelExpressionInfo:{expression:o},symbol:{type:"text",color:"black",haloSize:1,haloColor:"white"}},r.labelingInfo=[u],e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return n=e.sent,r=new n({id:void 0===t?0:t.toString(),name:"省界",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/shengjie/MapServer",legend:{type:2,backgroundColor:"rgba(200, 10, 100, 1)",weight:3}}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return n=e.sent,r=new n({id:void 0===t?0:t.toString(),name:"市界",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/shijie/MapServer",legend:{type:2,backgroundColor:"rgba(200, 10, 100, 1)",weight:3}}),r.renderer={type:"simple",symbol:{type:"simple-fill",size:6,color:[0,0,0,.01],outline:{width:.8,color:[255,0,0,.8]}}},e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return n=e.sent,r=new n({id:void 0===t?0:t.toString(),name:"县界",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/xianjie/MapServer",legend:{type:2,backgroundColor:"rgba(200, 10, 100, 1)",weight:3}}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=chunk-2dba7e9e.8be8df91.js.map