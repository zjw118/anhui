(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-351168a7"],{1409:function(t,a,e){},"2328f":function(t,a,e){},"2b55":function(t,a,e){"use strict";var i=e("1409"),n=e.n(i);n.a},4634:function(t,a,e){for(var i=e("96dd"),n=e("7d56"),r=e("a6d5"),s=e("3f8b"),l=e("b8ea"),o=e("e3b3"),c=e("1277"),d=c("iterator"),h=c("toStringTag"),u=o.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=n(m),p=0;p<y.length;p++){var f,g=y[p],x=m[g],v=s[g],b=v&&v.prototype;if(b&&(b[d]||l(b,d,u),b[h]||l(b,h,g),o[g]=u,x))for(f in i)b[f]||r(b,f,i[f],!0)}},"69b7":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"areaManagement-wrapper"}},[e("QueryBox",{on:{searchSrldId:t.searchSrldId}}),e("div",{staticStyle:{height:"calc(100% - 65px)"}},[e("div",{staticStyle:{"text-align":"left","padding-left":"20px"}},[t._v("\n      统计维度：\n      "),e("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.handleChangeType},model:{value:t.analysisType,callback:function(a){t.analysisType=a},expression:"analysisType"}},[e("Radio",{attrs:{label:"sf"}},[t._v("行政区划-核查")]),e("Radio",{attrs:{label:"sa015"}},[t._v("所属部门-核查")]),e("Radio",{attrs:{label:"uname"}},[t._v("巡查人-核查")]),e("Radio",{attrs:{label:"sf1"}},[t._v("行政区划-巡查")]),e("Radio",{attrs:{label:"sa0151"}},[t._v("所属部门-巡查")]),e("Radio",{attrs:{label:"uname1"}},[t._v("巡查人-巡查")])],1)],1),e("div",{staticClass:"showBox"},[e("transition",{attrs:{name:"fade"}},[e("div",{staticClass:"sta_box sta_box1",class:{activeBox:1===t.boxstate}},[e("div",{staticClass:"con_box"},["sf1"===t.analysisType||"sa0151"===t.analysisType||"uname1"===t.analysisType?e("Form",{staticClass:"statisticForm",attrs:{model:t.statisticForm,"label-width":90}},[e("FormItem",{attrs:{prop:"city",label:"统计类型："}},[e("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择统计类型"},on:{"on-change":t.changeStatisticType},model:{value:t.statisticForm.statisticType,callback:function(a){t.$set(t.statisticForm,"statisticType","string"===typeof a?a.trim():a)},expression:"statisticForm.statisticType"}},t._l(t.statisticList,(function(a){return e("i-option",{attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1)],1):t._e(),e("Button",{staticClass:"boxBtn",attrs:{icon:1===t.boxstate?"md-contract":"md-expand",size:"small"},on:{click:function(a){t.boxstate=1===t.boxstate?0:1}}}),e("div",{staticClass:"bigBox",class:{smallToBig:1===t.boxstate}},["sf"===t.analysisType||"sa015"===t.analysisType||"uname"===t.analysisType?e("div",{staticClass:"smallBox"},[e("BarChart",{attrs:{data:t.data1}})],1):"sf1"===t.analysisType||"sa0151"===t.analysisType||"uname1"===t.analysisType?e("div",{staticClass:"smallBox"},[e("BarChart2",{attrs:{data:t.data1,type:t.statisticForm.statisticType}})],1):t._e()]),t.spinShow?e("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)])]),e("div",{staticClass:"sta_box sta_box2",class:{activeBox:2===t.boxstate}},[e("div",{staticClass:"con_box"},[e("Button",{staticClass:"boxBtn",attrs:{icon:2===t.boxstate?"md-contract":"md-expand",size:"small"},on:{click:function(a){t.boxstate=2===t.boxstate?0:2}}}),e("div",{staticClass:"bigBox",class:{smallToBig:2===t.boxstate}},[e("div",{staticClass:"smallBox"},["sf"===t.analysisType?e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns2,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}):"sa015"===t.analysisType?e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns1,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}):"uname"===t.analysisType?e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns6,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}):"sf1"===t.analysisType?e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns4,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}):"sa0151"===t.analysisType?e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns3,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}):"uname1"===t.analysisType?e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns5,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}):t._e()],1)])],1)])],1)])],1)},n=[],r=(e("4634"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"query-box"},[e("div",{ref:"queryBox",staticClass:"query-box-title",on:{click:function(a){t.show=!t.show}}},[e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.queryData.length,expression:"queryData.length===0"}],staticClass:"search-title"},[t._v("查询条件")]),e("div",{staticClass:"search-items"},t._l(t.queryData,(function(a,i){return e("span",{key:i,staticClass:"queryTerm"},[e("strong",[t._v(t._s(a.name))]),e("span",[t._v("\n              "+t._s(a.text)+"\n            ")])])})),0),e("div",{staticStyle:{width:"100px","text-align":"right"}},[e("Button",{attrs:{type:"primary",size:"small",icon:"ios-arrow-dropdown"}},[t._v("查询条件")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"queryDown",staticClass:"query-down"},[e("div",{staticClass:"queryTerm"},[e("CascadeTerm",{ref:"cascade",on:{updataQueryData:t.updataQueryData,delQueryTrem:t.delQueryTrem}})],1),e("div",{staticClass:"queryTerm"},[e("TextTerm",{attrs:{titName:"所属部门",titKey:"deptName"},on:{updataQueryData:t.updataQueryData,delQueryTrem:t.delQueryTrem}})],1),e("div",{staticStyle:{"text-align":"right","margin-top":"-30px"}},[e("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small",icon:"ios-search"},on:{click:t.search}},[t._v("搜索")]),e("Button",{attrs:{type:"primary",size:"small",icon:"md-close"},on:{click:function(a){t.show=!1}}},[t._v("取消")])],1)])])}),s=[],l=(e("4b5e"),e("6c28"),e("7cfd"),e("9329")),o=e("49ae"),c={name:"queryBox",data:function(){return{show:!1,cl002:"",uname:"",deptName:"",queryData:[]}},components:{CascadeTerm:l["a"],TextTerm:o["a"]},mounted:function(){document.addEventListener("click",this.queryHide)},beforeDestroy:function(){document.removeEventListener("click",this.queryHide)},methods:{updataQueryData:function(t){""!==t.text?(this.queryData=this.queryData.filter((function(a){return a.name!==t.name})),this.queryData.push(t)):this.queryData=this.queryData.filter((function(a){return a.name!==t.name}))},delQueryTrem:function(t){this.queryData=this.queryData.filter((function(a){return a.key!==t}))},search:function(){var t={},a=!0,e=!1,i=void 0;try{for(var n,r=this.queryData[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t[s.key]=s.value}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}this.$emit("searchSrldId",t),this.show=!1},queryHide:function(t){this.$refs.queryBox.contains(t.target)||this.$refs.queryDown.contains(t.target)||(this.show=!1)}}},d=c,h=(e("2b55"),e("6691")),u=Object(h["a"])(d,r,s,!1,null,"07e5c877",null),m=u.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"resize",rawName:"v-resize",value:t.redraw,expression:"redraw"}],ref:"chart",staticStyle:{width:"100%",height:"100%"},attrs:{id:"myChart"}})},p=[],f={name:"BarChart",data:function(){return{myChart:{},datas:{}}},computed:{xAxisData:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;null===s.name&&(s.name=""),t.push(s.name)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},checkNum:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t.push(s.checkNum)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},uncheckNum:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t.push(s.uncheckNum)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},totalCheckNum:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t.push(s.totalCheckNum)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t}},props:{data:{}},watch:{data:function(){this.dataHandle()}},methods:{dataHandle:function(){this.datas=this.data,this.drawLine()},drawLine:function(){var t=this;this.myChart=this.$echarts.init(this.$refs.chart),this.myChart.setOption({grid:{left:"40px",right:"40px",top:"20%",containLabel:!0},legend:{data:["斑块数量","已核查斑块数量","未核查斑块数量"],top:20,right:30},tooltip:{trigger:"axis",formatter:function(t){return t[0].name+"<br>"+t[0].seriesName+":"+t[0].value+"个<br>"+t[1].seriesName+":"+t[1].value+"个<br>"+t[2].seriesName+":"+t[2].value+"个"}},xAxis:{type:"category",data:this.xAxisData},yAxis:[{type:"value",name:"数量/个",min:0,axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"slider",show:!0}],series:[{name:"斑块数量",type:"bar",z:3,itemStyle:{normal:{color:"rgb(194, 53, 49)"}},yAxisIndex:0,data:this.totalCheckNum,barMaxWidth:30},{name:"已核查斑块数量",type:"bar",z:3,itemStyle:{normal:{color:"rgb(116, 159, 131)"}},yAxisIndex:0,data:this.checkNum,barMaxWidth:30},{name:"未核查斑块数量",type:"bar",z:3,itemStyle:{normal:{color:"rgb(47,69,84)"}},yAxisIndex:0,data:this.uncheckNum,barMaxWidth:30}]}),window.addEventListener("resize",(function(){return t.myChart.resize()}),!1)},redraw:function(){void 0!==this.myChart.id&&this.myChart.resize()}}},g=f,x=Object(h["a"])(g,y,p,!1,null,"de00c8ea",null),v=x.exports,b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"resize",rawName:"v-resize",value:t.redraw,expression:"redraw"}],ref:"chart",staticStyle:{width:"100%",height:"100%"},attrs:{id:"myChart"}})},w=[],k={name:"BarChart",data:function(){return{myChart:{},datas:{}}},computed:{xAxisData:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;null===s.name&&(s.name=""),t.push(s.name)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},rwcs:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t.push(s.rwcs)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},gjlc:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t.push(s.gjlc)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},rwsc:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=this.datas[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var s=n.value;t.push(s.rwsc)}}catch(l){e=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t}},props:{data:{},type:{}},watch:{data:function(){this.dataHandle()}},methods:{dataHandle:function(){this.datas=this.data,"0"===this.type?this.drawLine():"1"===this.type?this.drawLine1():"2"===this.type&&this.drawLine2()},drawLine:function(){var t=this;this.myChart=this.$echarts.init(this.$refs.chart),this.myChart.setOption({grid:{left:"40px",right:"40px",top:"20%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){return t[0].name+"<br>"+t[0].seriesName+":"+t[0].value+"次"}},xAxis:{type:"category",data:this.xAxisData},yAxis:[{type:"value",name:"次数/次",min:0,axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"slider",show:!0}],series:[{name:"巡查次数",type:"bar",z:3,itemStyle:{normal:{color:"rgb(189,162,154)"}},yAxisIndex:0,data:this.rwcs,barMaxWidth:30}]}),window.addEventListener("resize",(function(){return t.myChart.resize()}),!1)},drawLine1:function(){var t=this;this.myChart=this.$echarts.init(this.$refs.chart),this.myChart.setOption({grid:{left:"40px",right:"40px",top:"20%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){return t[0].name+"<br>"+t[0].seriesName+":"+t[0].value+"米"}},xAxis:{type:"category",data:this.xAxisData},yAxis:[{type:"value",name:"里程/米",min:0,axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"slider",show:!0}],series:[{name:"巡查里程",type:"bar",z:3,itemStyle:{normal:{color:"rgb(212,130,101)"}},yAxisIndex:0,data:this.gjlc,barMaxWidth:30}]}),window.addEventListener("resize",(function(){return t.myChart.resize()}),!1)},drawLine2:function(){var t=this;this.myChart=this.$echarts.init(this.$refs.chart),this.myChart.setOption({grid:{left:"40px",right:"40px",top:"20%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){return t[0].name+"<br>"+t[0].seriesName+":"+t[0].value+"小时"}},xAxis:{type:"category",data:this.xAxisData},yAxis:[{type:"value",name:"时长/小时",min:0,axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"slider",show:!0}],series:[{name:"巡查时长",type:"bar",z:3,itemStyle:{normal:{color:"rgb(202,134,34)"}},yAxisIndex:0,data:this.rwsc,barMaxWidth:30}]}),window.addEventListener("resize",(function(){return t.myChart.resize()}),!1)},redraw:function(){void 0!==this.myChart.id&&this.myChart.resize()}}},C=k,T=Object(h["a"])(C,b,w,!1,null,"2ae4b1c7",null),S=T.exports,N=e("b775"),L=function(t){return Object(N["a"])({url:"/statis/listPatrol",method:"post",data:t})},_={name:"dataAnalysis",data:function(){return{obj:"",cl002:"",comFPkid:"",deptName:"",data1:[],tableHeight:window.innerHeight-315,spinShow:!1,columns6:[{title:"序号",key:"index",width:80,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"巡查人",align:"center",key:"name",minWidth:120},{title:"斑块数量(个)",align:"center",key:"totalCheckNum",minWidth:120},{title:"已核查斑块数量(个)",align:"center",key:"checkNum",minWidth:150},{title:"未核查斑块数量(个)",align:"center",key:"uncheckNum",minWidth:150}],columns1:[{title:"序号",key:"index",width:80,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"所属部门",align:"center",key:"name",minWidth:120},{title:"斑块数量(个)",align:"center",key:"totalCheckNum",minWidth:120},{title:"已核查斑块数量(个)",align:"center",key:"checkNum",minWidth:150},{title:"未核查斑块数量(个)",align:"center",key:"uncheckNum",minWidth:150}],columns2:[{title:"序号",key:"index",width:80,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"行政区划",align:"center",key:"name",minWidth:120},{title:"斑块数量(个)",align:"center",key:"totalCheckNum",minWidth:120},{title:"已核查斑块数量(个)",align:"center",key:"checkNum",minWidth:150},{title:"未核查斑块数量(个)",align:"center",key:"uncheckNum",minWidth:150}],columns3:[{title:"序号",key:"index",width:80,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"所属部门",align:"center",key:"name",minWidth:120},{title:"巡查次数(次)",align:"center",key:"rwcs",minWidth:120},{title:"巡查里程(米)",align:"center",key:"gjlc",minWidth:120},{title:"巡查时长(小时)",align:"center",key:"rwsc",minWidth:120}],columns4:[{title:"序号",key:"index",width:80,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"行政区划",align:"center",key:"name",minWidth:120},{title:"巡查次数(次)",align:"center",key:"rwcs",minWidth:120},{title:"巡查里程(米)",align:"center",key:"gjlc",minWidth:120},{title:"巡查时长(小时)",align:"center",key:"rwsc",minWidth:120}],columns5:[{title:"序号",key:"index",width:80,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"巡查人",align:"center",key:"name",minWidth:120},{title:"巡查次数(次)",align:"center",key:"rwcs",minWidth:120},{title:"巡查里程(米)",align:"center",key:"gjlc",minWidth:120},{title:"巡查时长(小时)",align:"center",key:"rwsc",minWidth:120}],loading:!1,boxstate:0,analysisType:"sf",statisticForm:{statisticType:"1"},statisticList:[{label:"巡查次数",value:"0"},{label:"巡查里程",value:"1"},{label:"巡查时长",value:"2"}]}},components:{QueryBox:m,BarChart:v,BarChart2:S},created:function(){this.getTableData()},methods:{searchSrldId:function(t){this.comFPkid=t.code,this.deptName=t.deptName,this.getTableData()},getTableData:function(){var t=this;this.spinShow=!0,this.loading=!0;var a="";"sf"===this.analysisType||"sf1"===this.analysisType?a="sf":"sa015"===this.analysisType||"sa0151"===this.analysisType?a="sa015":"uname"!==this.analysisType&&"uname1"!==this.analysisType||(a="uname"),L({data:{code:this.comFPkid,deptName:this.deptName,groupByName:a}}).then((function(a){"0000"===a.data.code?(t.data1=[],a.data.data.length>0&&("sf"===t.analysisType?a.data.data.forEach((function(a,e){t.data1.push({name:a.sysCompany.comName,checkNum:a.st4ScsCd.checkNum,uncheckNum:a.st4ScsCd.uncheckNum,totalCheckNum:a.st4ScsCd.totalCheckNum})})):"sf1"===t.analysisType?a.data.data.forEach((function(a,e){t.data1.push({name:a.sysCompany.comName,rwcs:a.rwcs,gjlc:a.gjlc,rwsc:a.rwsc})})):"sa015"===t.analysisType?a.data.data.forEach((function(a,e){t.data1.push({name:a.st4SysSa.sa015,checkNum:a.st4ScsCd.checkNum,uncheckNum:a.st4ScsCd.uncheckNum,totalCheckNum:a.st4ScsCd.totalCheckNum})})):"sa0151"===t.analysisType?a.data.data.forEach((function(a,e){t.data1.push({name:a.st4SysSa.sa015,rwcs:a.rwcs,gjlc:a.gjlc,rwsc:a.rwsc})})):"uname"===t.analysisType?a.data.data.forEach((function(a,e){t.data1.push({name:a.uname,checkNum:a.st4ScsCd.checkNum,uncheckNum:a.st4ScsCd.uncheckNum,totalCheckNum:a.st4ScsCd.totalCheckNum})})):"uname1"===t.analysisType&&a.data.data.forEach((function(a,e){t.data1.push({name:a.uname,rwcs:a.rwcs,gjlc:a.gjlc,rwsc:a.rwsc})}))),t.spinShow=!1,t.loading=!1):t.$Notice.error({title:a.data.msg})})).catch((function(){t.$Notice.error({title:"服务器错误"})}))},handleChangeType:function(t){this.spinShow=!0,this.loading=!0,this.getTableData()},changeStatisticType:function(t){this.spinShow=!0,this.loading=!0,this.getTableData()}}},D=_,B=(e("7315"),Object(h["a"])(D,i,n,!1,null,"3ca61233",null));a["default"]=B.exports},7315:function(t,a,e){"use strict";var i=e("2328f"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-351168a7.232240cd.js.map