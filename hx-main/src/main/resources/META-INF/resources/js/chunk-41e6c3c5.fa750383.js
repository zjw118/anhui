(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41e6c3c5"],{"136f":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"legend_box"},[0!==e.data.length?n("ul",e._l(e.data,(function(t,a){return n("li",{key:a,staticStyle:{"padding-right":"50px"}},[0===t.type?n("i",{staticStyle:{height:"12px",width:"12px",margin:"4px"},style:{backgroundColor:t.backgroundColor,border:t.border}}):e._e(),1===t.type?n("i",{class:t.class,staticStyle:{height:"20px",width:"20px","background-size":"100% 100%"},style:{backgroundImage:t.background}}):e._e(),2===t.type?n("i",{staticStyle:{width:"12px",margin:"9px 4px",display:"inline-block"},style:{backgroundColor:t.backgroundColor,height:t.weight+"px",margin:Math.floor(12-t.weight)/2+4+"px 4px"}}):e._e(),n("span",[e._v(e._s(t.name))]),n("i-switch",{directives:[{name:"show",rawName:"v-show",value:t.switchDis,expression:"item.switchDis"}],staticStyle:{position:"absolute",right:"15px"},attrs:{size:"small"},model:{value:t.switch,callback:function(n){e.$set(t,"switch",n)},expression:"item.switch"}})],1)})),0):e._e()])},i=[],r={name:"Legend",data:function(){return{}},props:{data:{default:[]}},mounted:function(){},methods:{}},s=r,A=(n("6505"),n("6691")),c=Object(A["a"])(s,a,i,!1,null,"013dd2a8",null);t["a"]=c.exports},"2b03":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEHklEQVR4Xu2aXVIaQRCAuxepkn0JniDmBCEniD6mkkV9TQniCYInSHIC9QQS1sqruiSVx5ATBE8gnkDyslglbKcGhCIJy85Pz6KBfeGBmZ6eb7p7unsXYcEfXPD9wxLA0gIWnMDSBdI2gKDsbiFAgYjy4ne0PgG2EaFNAK1iPbxIS69ULKCxu7pB6OwBwjYC5JM2RwAdJGoC0bF3ettMGm/yv1UA3yqr670+HgLitraSRE2n3zt4/fmupS1jxkRrAILSagXROeFTmqpevXvMJ28oyQqAoOSeIEKFW1kiqPUz4cFODTpcstkB2Nr8eMNETc/vbj5IAI2y+wEA3nMpFydHWELRD/c51mGzgMauuw0OnHEoJSUjgh3vNDyXGptGEAzKuSsEXDdVSHa+uCr7TvjMNB6wWMCXUq5KiIeyyjOO++jVQ+F22g8LgKDs3sgkOP9oSXBJQB0EzAPCc9VdcFiBMQAd3yeii2yGqq9qt+3Rps8qkF+J3CMA2FMBQRTtF/3bmsqcybHmAMq5IwB8J68AHXv1bjVuvEYC9cmrh9o5hzEAleBHRD+KfncjCVZQyjUR8WXSOPG/cINiPVyTGTttjDGARtkl2cVlzVXVrXpOuKZ7GxgBGBQ7kXMlC8Dp3b2QLWpUwEIUbepWjUYARJkLjvNdFsCKEz2bDHyz5v2XAEAye/v6NluIVrI/ZcHOzQJUXQAApCJ2Q/VmmZcLiBMKSm4HEZ5wnZby6QOAVw+1XVl74mjDQSl3johbsgAG7a4I9qcVMoPWmeOcqWSVsldrnH4MALQ7P6LFNVnNibbZuEkqCxSJDt74XZFBaj3GAO5T2But1RkmqdwsVhKhYRxQcwOGfQ9EmJq/kGFsAUKIaubGB8CsEGIDMIBQyrUB8SnX5hLlEF17fte4AcNiAUM30A6GiXuNGWDcDGG1ABEMM31XvN6Szwk0t04Ev/qZcF23AJpcls0CBm6QUlcYAFhOn9UChLA0rIDz9NkBpGQFbKdvBcAgMernWlZuBKLrXqZb4PD9URxgjQEjobZuBNmOkkpstQJgmBe4LZ1Wd6zyBJeeHyrXCkkw7AFQ7BYlKWrS9Jgl2xoA5hpBqpGSCHHKAKsARMforu+0TJIjce1lM1FBtpeoCsEqAKZrkfXa+xuQdQBGhZKlwGctFY4zP9X2+ViOQbNT1hVSsQC9gDj7HaLsBpPGpQZAqU6wkPHFgUgNwNAKJHsGki9Qkk5X5v9UAdy7wsw3v+LbgaLf1f+wUmbXE2NSBzArN+AudWVYpA5AKBX7TVGKpm+1GpQhP+UjCGvp7txqgVkL/+EKKUb9uWSCcSDGt0IKCc+DuAanKSFeqnB88SnjdtPGzCUI6iprY94SgA2qj0nm0gIe02nZ0HVpATaoPiaZC28BvwFAlclQ7nEeNwAAAABJRU5ErkJggg=="},"39f3":function(e,t,n){e.exports=n.p+"img/Basemapthumbnail1.5f8d6db2.png"},"3cf7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIUlEQVR4Xu2aUVLbSBCG/xZVATSuCrxs5KclJ4j3BIET4D1BwgkCJ0j2BIETJDlBkhPEe4L1ngD2yWJfcKo8gjxYnZKNvV7KkmY0PWMK7FfNdPd86u7pbovwyH/0yM+PNYC1BzxyAusQCO0AsU4PAeoQ8w6Azkw/E10AuAC4n6nkayi7gnjA1vVgP8qjV8TcBaE4ePWPMWRCL4/47Ga73atb7vLcK4Ct68FelNN7ArqNjWT0gOhEt37pN5ZRsdEbADUavAbRBymjc8LxdZycScmbyfECINaXHwj8WtpYBn3M4icnoN2hlGxxAL4OPz8wo6dbycG9BBDrwTsCvZUyrkzOxBPUsyMJPWIeEOvLLoE/SxhlIoNBv2fq2ReTtVVrBAGk5wTsuRpkvJ8x1GrzuWs+EAGwnaXHEeO9sfFCCxn8R6ba71zEiQBQo/TKqMC5YykDfxPzkIl2CHhhfRABL3AG0CT2GfiaR3x8s90uyt/pj6924uzmlECvrEAwH+lW+6PVnoXFzgDUKD0F4Y2xAYwz3UqOy9bbFlAM/pSpduOawxlArC2SH/OfutXer4OlRoMeiF7WrZt6Doa6lewarV2yyBmA0ikbKzd0V9uw0vHmbtPbwAlA0exs5HRuDiD6zbSpsQE7jvigadfoCmB/I6dvpgDGET//X+Kr2PggAZhWb2r0bweU/2UBdmUeYBUCphnb9mZZWQgUb0iN0iEIT6Xelu3bL/RqlTQO5cYbZweOdfqFgENTAMW1xURHyxqZYnS2MabPVlWl4dVaZp8zANvCZV74AX2AFro57tLCkNQUaE44uY6TU9P1d9c5AyhKWJX9uGpqgOs+m5tlmS53AACsw8D11HM3Mqssq9QJAQg7DJkfyLCy9A6gUBDrwQWBfpV6uXVyGPxPptrOAxgRD5heh7JjcAMAzsOQQocYgEky1D8ubGqCukOWPmd812pzr2kDtChXDsA0DAJNhd1HYTMIogCCeIHg25cNgVukvr1AYhDqLQQmgqezvb6PG2GS+eOtjkTs+wmBW6nebgSBe1++FC5J1bFO+41G3SXyihF6ppL5BxWNb5A7G2WT4ILwSWdnMS2qO5BLzx+kElymRKpHMB2k1EFc9tybBxTKJkPTMfWdiiPG9/EGd0xnibYQvAK47RGciiPpay9YElxU1LRR8pX4/NYBS3ywaUL0lfiCA5iGgvXssPI/RNtYL1vvPQfMFVt0iz4qvtUDsJgZmP6BIuEF4TzgvzK58p/f4tuBTCXNP6y0pBIcQGVtINzqmrAIDqAwquybopCu77UbNCF/9yMIn+XuynqBKsWLoRAy66+kEiwDMZsbhCh47sU1uLxjvOxKfPFpEnbBu8GmRoXct5JbIOQB63StAdQReujP1x7w0N9w3fnWHlBH6KE//wkHHstQWTn/4QAAAABJRU5ErkJggg=="},"42e8":function(e,t,n){e.exports=n.p+"img/Basemapthumbnail.6dc37597.png"},6505:function(e,t,n){"use strict";var a=n("66d3"),i=n.n(a);i.a},"66d3":function(e,t,n){},"6c68":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIklEQVR4Xu1aTVIaURDuJs4YswkuUiVsgoskwyrkBNETaE6gniB4gpgTqCfQnCB6gpgTBFeMyUKyGazKIrgBGZBOvREMpQzzfnoeFkIVq+nXP9/r/xmER/7DR24/zACYecAjR2AWArYdIN99swaEJSLMAlBpIB8BaoDiT5Vg7uzYll5WPGCp461kCDYAcB0AshLGNYjghDK0f+H4JxL02iSpArBEXgFD3EUEYbjWj4BOunC9/cf9VdFikHAoNQCWQm8zA3jApTRBr1x3z/a5+A2FHjdLgHzoHQDgJj9nOmw6V9sNrDW4eLN7QHrG35gsQqLu+qsPEoB829sBxE9cysXzocPA9bc45LB5QL77eh16T75yKCXFI3P9IZj7eSRFO4aIDYBc2ztHxIKpQgrnG02ntWyaD1gAyIXFMgLsKijPQ0r0OZj3d0yYsQCQD4t/JRucO7rSKQE0MGqO8K2GIcZeYAyATuwTwTG5VL5AvzYwOkuF7LPO0z0A3FABoge0deH6hypnhmmNAciFxT0E+CirAAHs191qOY5evYGiL4Hra/cc5gAoJD8C+l53/ZUksHKhd4KA75Po+s8bgVtdlKS9R2YMQD4skqxwWXdVDaum01rUrQZGAIhhJ9PBc1kAOtB9JzvUKAGLtKo7NZoBEI25+E0WgJ5Dy8OJb9y5qQQAJLu3F+GrkgNzP6SBnZgHKIYAgFzGVq0svUkBIG4oH3oNAHzOdVuqty/kBm5VO5S1Dw4MzrWLR4iwJgsAADQgc701apC5WZ2hGKhk1maRSNnSGqefMQDqjcutKhVA+j/NUbQvvF2SygJKANt1t7onS3+XzhiAmxZ2QcwCE/mpVJZRChoDIJhqhAELWKbuL5RgAUC1c2OxHgBkO8tx8lgA6HtBDRFechmXxIcIftfnq8YLGDYADJJhkq2jnzMsQ9hCQDDqz/M1lZ5Az/Ko+F02nauC7gA0LJfNA6KmyNZWmOn2WT3Anhfw3T47AFa8gPH2UwFA5IKFcKGSRkUQmb/ltkocsT/IA6w5YMA0rYrAUffZW+G4TJ4PvYrmqjuGJZ0Grq88KyRVmlQ8QAjtT3bS26IkRU1mfiud4CghfDOC3CIlCcRRz1PzgMgLoo0RiFCQXpjcV5Iuew6UZHeJqiCkCgBLWWQue9aS4LCgXLuoOSilk/hSa4Xj3E83IaaV+KwDIASqJsSkd4iqsR5Hn3oOGAhWmRbT6PgmDkBUFWQ/nZN8gcLhBdY8YKBs0ptf8e1Afb6q/WGlKijWARjfG/COujJgWAcgSohx3xRZdP1Up0EZ5O+HQnrt7sRmgXGCh0PBZtafSCcY2yD1q4KNhudBlMFRSoiXKhxffMqEnfVpUFcpm+cmUgVsGpgkawZAEkLT/nzmAdN+w0n2zTwgCaFpf/4PzAXPUHTttLMAAAAASUVORK5CYII="},"73b8":function(e,t,n){},aa1f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-box"},[n("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),n("div",{attrs:{id:"legendbar"}},[n("span",[e._v("图例")]),n("Legend",{attrs:{data:e.legendData,id:"legend"}})],1),e.spinShow?n("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},i=[],r=(n("63ff"),n("f8f9")),s=n("9ed9"),A=n("149e"),c=n("f831"),o=n("cf45"),u=n("42e8"),p=n.n(u),l=n("39f3"),g=n.n(l),d=n("136f"),h=n("3cf7"),m=n.n(h),f=n("6c68"),b=n.n(f),w=(n("2b03"),n("b775")),B=function(e){return Object(w["a"])({url:"/user/listPhoneUserToView",method:"post",data:e})},C={name:"workRegulation",data:function(){return{legendData:[{type:1,name:"离线",background:"url("+m.a+")",id:"patrolUserGray"},{type:1,name:"在线",background:"url("+b.a+")",id:"patrolUserRed"}],popupTemplate:{},loadComplete:!1,spinShow:!0}},components:{Legend:d["a"]},mounted:function(){this.createMap(),this.getLedgerList()},methods:{getLedgerList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B({data:{}}).then((function(e){"0000"===e.data.code&&t.addPointToMap(e.data.data.data,A["a"].inflectionPointcolor,"graphicsLayer_patroluser")})).catch((function(){t.$Notice.error({title:"服务器错误"})}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),createMap:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r,o,u,l,d,h,m,f,b=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].MapView;case 2:return t=e.sent,e.next=5,s["a"].Map;case 5:return n=e.sent,e.next=8,s["a"].Basemap;case 8:return a=e.sent,e.next=11,s["a"].BasemapToggle;case 11:return i=e.sent,e.next=14,Object(c["f"])().then((function(e){return e}));case 14:return r=e.sent,e.next=17,Object(c["e"])().then((function(e){return e}));case 17:return o=e.sent,e.next=20,Object(c["d"])().then((function(e){return e}));case 20:return u=e.sent,e.next=23,Object(c["g"])().then((function(e){return e}));case 23:return l=e.sent,e.next=26,Object(c["b"])().then((function(e){return e}));case 26:d=e.sent,h=new a({baseLayers:[o,d,u],title:"矢量地图",id:"myBasemap",thumbnailUrl:p.a}),m=new a({baseLayers:[r,d,l],title:"影像地图",id:"myBasemap1",thumbnailUrl:g.a}),this.map=new n({basemap:m}),this.view=new t({map:this.map,container:"viewDiv",center:A["a"].centerPoint,zoom:7}),this.view.when((function(e){b.loadComplete=!0})),this.popupTemplate={title:"巡查人员详情",content:[{type:"fields",fieldInfos:[{fieldName:"用户名"},{fieldName:"手机号"},{fieldName:"真实姓名"},{fieldName:"经度"},{fieldName:"纬度"},{fieldName:"邮箱"}]}]},f=new i({view:this.view,nextBasemap:h}),this.view.ui.add(f,"top-right"),this.view.ui.add(document.getElementById("legendbar"),"bottom-left");case 36:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addPointToMap:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,r,A,c,u,p,l,g,d,h,f,w,B,C,y,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].GraphicsLayer;case 2:return i=e.sent,e.next=5,s["a"].Graphic;case 5:if(r=e.sent,A=this.map.findLayerById(a),c={},f=[],A&&this.map.remove(A),w=new i({id:a,elevationInfo:"on-the-ground",title:"实时位置"}),!(t&&t.length>0)){e.next=34;break}B=0;case 13:if(!(B<t.length)){e.next=34;break}if(null!==t[B].CH003){e.next=18;break}return e.abrupt("continue",31);case 18:-1!==t[B].CH003.indexOf("°")?(d=Object(o["a"])(t[B].CH003),h=Object(o["a"])(t[B].CH004)):-1!==t[B].CH003.indexOf(".")&&(d=t[B].CH003,h=t[B].CH004);case 19:c={type:"point",longitude:d,latitude:h},0===t[B].CH005?(l=m.a,g="离线"):1===t[B].CH005&&(l=b.a,g="在线"),C={id:t[B].SA001,"用户名":t[B].SA008,"手机号":'<a style="color: blue">'+t[B].SA012+"</a>","真实姓名":t[B].SA019,"经度":d,"纬度":h,"邮箱":t[B].SA013,"状态":g},0===t[B].CH005&&(C["手机号"]='<a style="color: blue">'+t[B].SA012+"</a>"),y={type:"picture-marker",url:l,width:20,height:20,outline:{color:[255,255,255],width:1}},x={type:"text",color:"white",haloColor:"black",haloSize:"1px",text:t[B].SA019,xoffset:0,yoffset:-20,font:{size:12,family:"sans-serif",weight:"bold"}},u=new r({geometry:c,symbol:y,attributes:C,popupTemplate:this.popupTemplate}),p=new r({geometry:c,symbol:x}),f.push(u),f.push(p),w.add(u),w.add(p);case 31:B++,e.next=13;break;case 34:this.spinShow=!1,this.map.add(w);case 36:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()}},y=C,x=(n("e6ad"),n("6691")),k=Object(x["a"])(y,a,i,!1,null,"2c7d554e",null);t["default"]=k.exports},e6ad:function(e,t,n){"use strict";var a=n("73b8"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-41e6c3c5.fa750383.js.map