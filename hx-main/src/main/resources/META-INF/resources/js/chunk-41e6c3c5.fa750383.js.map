{"version":3,"sources":["webpack:///./src/components/Legend.vue?644d","webpack:///src/components/Legend.vue","webpack:///./src/components/Legend.vue?516c","webpack:///./src/components/Legend.vue","webpack:///./src/assets/boundaryMarker_images/preset_sign3.png","webpack:///./src/assets/map_images/Basemapthumbnail1.png","webpack:///./src/assets/boundaryMarker_images/guai_point3.png","webpack:///./src/assets/map_images/Basemapthumbnail.png","webpack:///./src/components/Legend.vue?ac57","webpack:///./src/assets/boundaryMarker_images/preset_bm3.png","webpack:///./src/views/dynamicManage/workRegulation/workRegulation.vue?626f","webpack:///./src/api/workRegulation.js","webpack:///src/views/dynamicManage/workRegulation/workRegulation.vue","webpack:///./src/views/dynamicManage/workRegulation/workRegulation.vue?7a49","webpack:///./src/views/dynamicManage/workRegulation/workRegulation.vue","webpack:///./src/views/dynamicManage/workRegulation/workRegulation.vue?23fc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","data","length","_l","item","index","key","staticStyle","type","style","backgroundColor","border","_e","class","backgroundImage","background","height","weight","margin","Math","floor","_v","_s","name","directives","rawName","value","expression","attrs","model","callback","$$v","$set","staticRenderFns","props","default","mounted","methods","component","module","exports","ref","legendData","listPhoneUserToView","request","url","method","popupTemplate","loadComplete","spinShow","components","Legend","createMap","getLedgerList"],"mappings":"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CA,+CAlCA,QAkCA,EAlCA,OAmCA,SACA,mBACA,aACA,eACA,mBAEA,SACA,mBACA,aACA,gBACA,mBAEA,gBACA,YAEA,iBACA,aACA,oBACA,0BACA,SAEA,4BACA,qBAGA,oBACA,eACA,UACA,cACA,aACA,iBAEA,CACA,iBAEA,CACA,kBAEA,CACA,gBAEA,CACA,gBAEA,CACA,oBAMA,SACA,eACA,gBAEA,gCAEA,qEA5FA,yGAoGI,cApGJ,oEAoGA,OApGA,qIAqGA,qBArGA,cAqGA,EArGA,gBAsGA,eAtGA,UAsGA,EAtGA,OAuGA,4BACA,KAOA,KACA,GACA,mBAEA,SACA,KACA,8BACA,iBAEA,eAxHA,iBAyHA,IAzHA,aAyHA,YAzHA,oBA0HA,kBA1HA,yDA4HA,6BACA,6BACA,+BACA,8BACA,aACA,cAjIA,QAmIA,GACA,aACA,YACA,YAEA,gBACA,MACA,QACA,iBACA,MACA,QAOA,GACA,cACA,iBACA,kDACA,kBACA,OACA,OACA,gBACA,QAEA,iBACA,sDAEA,GACA,sBACA,MACA,SACA,UACA,SACA,oBACA,UAGA,GACA,YACA,cACA,kBACA,eACA,gBACA,UACA,YACA,MACA,QACA,oBACA,gBAIA,SACA,WACA,SACA,aACA,mCAEA,SACA,WACA,WAEA,UACA,UACA,SACA,SAvMA,QAyHA,IAzHA,wBA2MA,iBACA,gBA5MA,gHCpE0d,I,wBCQtdC,EAAY,eACd,EACA7C,EACAwC,GACA,EACA,KACA,WACA,MAIa,aAAAK,E,2CCnBf,yBAA4vB,EAAG","file":"js/chunk-41e6c3c5.fa750383.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend_box\"},[(_vm.data.length !== 0)?_c('ul',_vm._l((_vm.data),function(item,index){return _c('li',{key:index,staticStyle:{\"padding-right\":\"50px\"}},[(item.type === 0)?_c('i',{staticStyle:{\"height\":\"12px\",\"width\":\"12px\",\"margin\":\"4px\"},style:({backgroundColor: item.backgroundColor,border: item.border})}):_vm._e(),(item.type === 1)?_c('i',{class:item.class,staticStyle:{\"height\":\"20px\",\"width\":\"20px\",\"background-size\":\"100% 100%\"},style:({backgroundImage: item.background })}):_vm._e(),(item.type === 2)?_c('i',{staticStyle:{\"width\":\"12px\",\"margin\":\"9px 4px\",\"display\":\"inline-block\"},style:({backgroundColor: item.backgroundColor,height: item.weight + 'px',margin: (Math.floor(12 - item.weight)/2 + 4) + 'px 4px'})}):_vm._e(),_c('span',[_vm._v(_vm._s(item.name))]),_c('i-switch',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.switchDis),expression:\"item.switchDis\"}],staticStyle:{\"position\":\"absolute\",\"right\":\"15px\"},attrs:{\"size\":\"small\"},model:{value:(item.switch),callback:function ($$v) {_vm.$set(item, \"switch\", $$v)},expression:\"item.switch\"}})],1)}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"legend_box\">\r\n    <ul v-if=\"data.length !== 0\">\r\n      <li v-for=\"(item,index) in data\" :key=\"index\" style=\"padding-right: 50px\">\r\n        <i\r\n          v-if=\"item.type === 0\"\r\n          :style=\"{backgroundColor: item.backgroundColor,border: item.border}\"\r\n          style=\"height: 12px;width: 12px;margin:4px;\">\r\n        </i>\r\n        <i v-if=\"item.type === 1\"\r\n           :style=\"{backgroundImage: item.background }\"\r\n           :class=\"item.class\"\r\n           style=\"height:20px;width: 20px;background-size:100% 100% \">\r\n        </i>\r\n        <i\r\n          v-if=\"item.type === 2\"\r\n          :style=\"{backgroundColor: item.backgroundColor,height: item.weight + 'px',margin: (Math.floor(12 - item.weight)/2 + 4) + 'px 4px'}\"\r\n          style=\"width: 12px;margin:9px 4px;display: inline-block;\">\r\n        </i>\r\n        <span>{{item.name}}</span>\r\n        <i-switch v-model=\"item.switch\" size=\"small\" style=\"position: absolute;right: 15px\" v-show=\"item.switchDis\"></i-switch>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Legend',\r\n  data () {\r\n    return {\r\n      /* data: [\r\n        {\r\n          type: 0,\r\n          id: '0',\r\n          name: '红线斑块',\r\n          backgroundColor: 'rgba(255, 255, 255, 0)',\r\n          border: '2px solid red',\r\n          switch: true,\r\n          switchDis: true\r\n        },\r\n        {\r\n          type: 1,\r\n          id: 'inflectionPoint',\r\n          name: '实际界桩',\r\n          background: 'url(' + collBm3 + ')',\r\n          switch: true,\r\n          switchDis: true\r\n        },\r\n        {\r\n          type: 1,\r\n          name: '实际界桩选中',\r\n          background: 'url(' + presetBm3 + ')',\r\n          switch: true,\r\n          switchDis: false\r\n        }\r\n      ] */\r\n    }\r\n  },\r\n  props: {\r\n    data: {\r\n      default: []\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .legend_box{\r\n    ul{\r\n      background: #fff;\r\n      padding:5px 10px;\r\n      li{\r\n        padding: 5px;\r\n        display:flex;\r\n        align-items: center;\r\n        i{\r\n          display: inline-block;\r\n        }\r\n        span{\r\n          margin-left: 10px\r\n        }\r\n      }\r\n    }\r\n    &#legend {\r\n      ul {\r\n        background: initial;\r\n        padding: 0;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Legend.vue?vue&type=template&id=013dd2a8&scoped=true&\"\nimport script from \"./Legend.vue?vue&type=script&lang=js&\"\nexport * from \"./Legend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Legend.vue?vue&type=style&index=0&id=013dd2a8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"013dd2a8\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEHklEQVR4Xu2aXVIaQRCAuxepkn0JniDmBCEniD6mkkV9TQniCYInSHIC9QQS1sqruiSVx5ATBE8gnkDyslglbKcGhCIJy85Pz6KBfeGBmZ6eb7p7unsXYcEfXPD9wxLA0gIWnMDSBdI2gKDsbiFAgYjy4ne0PgG2EaFNAK1iPbxIS69ULKCxu7pB6OwBwjYC5JM2RwAdJGoC0bF3ettMGm/yv1UA3yqr670+HgLitraSRE2n3zt4/fmupS1jxkRrAILSagXROeFTmqpevXvMJ28oyQqAoOSeIEKFW1kiqPUz4cFODTpcstkB2Nr8eMNETc/vbj5IAI2y+wEA3nMpFydHWELRD/c51mGzgMauuw0OnHEoJSUjgh3vNDyXGptGEAzKuSsEXDdVSHa+uCr7TvjMNB6wWMCXUq5KiIeyyjOO++jVQ+F22g8LgKDs3sgkOP9oSXBJQB0EzAPCc9VdcFiBMQAd3yeii2yGqq9qt+3Rps8qkF+J3CMA2FMBQRTtF/3bmsqcybHmAMq5IwB8J68AHXv1bjVuvEYC9cmrh9o5hzEAleBHRD+KfncjCVZQyjUR8WXSOPG/cINiPVyTGTttjDGARtkl2cVlzVXVrXpOuKZ7GxgBGBQ7kXMlC8Dp3b2QLWpUwEIUbepWjUYARJkLjvNdFsCKEz2bDHyz5v2XAEAye/v6NluIVrI/ZcHOzQJUXQAApCJ2Q/VmmZcLiBMKSm4HEZ5wnZby6QOAVw+1XVl74mjDQSl3johbsgAG7a4I9qcVMoPWmeOcqWSVsldrnH4MALQ7P6LFNVnNibbZuEkqCxSJDt74XZFBaj3GAO5T2But1RkmqdwsVhKhYRxQcwOGfQ9EmJq/kGFsAUKIaubGB8CsEGIDMIBQyrUB8SnX5hLlEF17fte4AcNiAUM30A6GiXuNGWDcDGG1ABEMM31XvN6Szwk0t04Ev/qZcF23AJpcls0CBm6QUlcYAFhOn9UChLA0rIDz9NkBpGQFbKdvBcAgMernWlZuBKLrXqZb4PD9URxgjQEjobZuBNmOkkpstQJgmBe4LZ1Wd6zyBJeeHyrXCkkw7AFQ7BYlKWrS9Jgl2xoA5hpBqpGSCHHKAKsARMforu+0TJIjce1lM1FBtpeoCsEqAKZrkfXa+xuQdQBGhZKlwGctFY4zP9X2+ViOQbNT1hVSsQC9gDj7HaLsBpPGpQZAqU6wkPHFgUgNwNAKJHsGki9Qkk5X5v9UAdy7wsw3v+LbgaLf1f+wUmbXE2NSBzArN+AudWVYpA5AKBX7TVGKpm+1GpQhP+UjCGvp7txqgVkL/+EKKUb9uWSCcSDGt0IKCc+DuAanKSFeqnB88SnjdtPGzCUI6iprY94SgA2qj0nm0gIe02nZ0HVpATaoPiaZC28BvwFAlclQ7nEeNwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/Basemapthumbnail1.5f8d6db2.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIUlEQVR4Xu2aUVLbSBCG/xZVATSuCrxs5KclJ4j3BIET4D1BwgkCJ0j2BIETJDlBkhPEe4L1ngD2yWJfcKo8gjxYnZKNvV7KkmY0PWMK7FfNdPd86u7pbovwyH/0yM+PNYC1BzxyAusQCO0AsU4PAeoQ8w6Azkw/E10AuAC4n6nkayi7gnjA1vVgP8qjV8TcBaE4ePWPMWRCL4/47Ga73atb7vLcK4Ct68FelNN7ArqNjWT0gOhEt37pN5ZRsdEbADUavAbRBymjc8LxdZycScmbyfECINaXHwj8WtpYBn3M4icnoN2hlGxxAL4OPz8wo6dbycG9BBDrwTsCvZUyrkzOxBPUsyMJPWIeEOvLLoE/SxhlIoNBv2fq2ReTtVVrBAGk5wTsuRpkvJ8x1GrzuWs+EAGwnaXHEeO9sfFCCxn8R6ba71zEiQBQo/TKqMC5YykDfxPzkIl2CHhhfRABL3AG0CT2GfiaR3x8s90uyt/pj6924uzmlECvrEAwH+lW+6PVnoXFzgDUKD0F4Y2xAYwz3UqOy9bbFlAM/pSpduOawxlArC2SH/OfutXer4OlRoMeiF7WrZt6Doa6lewarV2yyBmA0ikbKzd0V9uw0vHmbtPbwAlA0exs5HRuDiD6zbSpsQE7jvigadfoCmB/I6dvpgDGET//X+Kr2PggAZhWb2r0bweU/2UBdmUeYBUCphnb9mZZWQgUb0iN0iEIT6Xelu3bL/RqlTQO5cYbZweOdfqFgENTAMW1xURHyxqZYnS2MabPVlWl4dVaZp8zANvCZV74AX2AFro57tLCkNQUaE44uY6TU9P1d9c5AyhKWJX9uGpqgOs+m5tlmS53AACsw8D11HM3Mqssq9QJAQg7DJkfyLCy9A6gUBDrwQWBfpV6uXVyGPxPptrOAxgRD5heh7JjcAMAzsOQQocYgEky1D8ubGqCukOWPmd812pzr2kDtChXDsA0DAJNhd1HYTMIogCCeIHg25cNgVukvr1AYhDqLQQmgqezvb6PG2GS+eOtjkTs+wmBW6nebgSBe1++FC5J1bFO+41G3SXyihF6ppL5BxWNb5A7G2WT4ILwSWdnMS2qO5BLzx+kElymRKpHMB2k1EFc9tybBxTKJkPTMfWdiiPG9/EGd0xnibYQvAK47RGciiPpay9YElxU1LRR8pX4/NYBS3ywaUL0lfiCA5iGgvXssPI/RNtYL1vvPQfMFVt0iz4qvtUDsJgZmP6BIuEF4TzgvzK58p/f4tuBTCXNP6y0pBIcQGVtINzqmrAIDqAwquybopCu77UbNCF/9yMIn+XuynqBKsWLoRAy66+kEiwDMZsbhCh47sU1uLxjvOxKfPFpEnbBu8GmRoXct5JbIOQB63StAdQReujP1x7w0N9w3fnWHlBH6KE//wkHHstQWTn/4QAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"img/Basemapthumbnail.6dc37597.png\";","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=style&index=0&id=013dd2a8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=style&index=0&id=013dd2a8&scoped=true&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIklEQVR4Xu1aTVIaURDuJs4YswkuUiVsgoskwyrkBNETaE6gniB4gpgTqCfQnCB6gpgTBFeMyUKyGazKIrgBGZBOvREMpQzzfnoeFkIVq+nXP9/r/xmER/7DR24/zACYecAjR2AWArYdIN99swaEJSLMAlBpIB8BaoDiT5Vg7uzYll5WPGCp461kCDYAcB0AshLGNYjghDK0f+H4JxL02iSpArBEXgFD3EUEYbjWj4BOunC9/cf9VdFikHAoNQCWQm8zA3jApTRBr1x3z/a5+A2FHjdLgHzoHQDgJj9nOmw6V9sNrDW4eLN7QHrG35gsQqLu+qsPEoB829sBxE9cysXzocPA9bc45LB5QL77eh16T75yKCXFI3P9IZj7eSRFO4aIDYBc2ztHxIKpQgrnG02ntWyaD1gAyIXFMgLsKijPQ0r0OZj3d0yYsQCQD4t/JRucO7rSKQE0MGqO8K2GIcZeYAyATuwTwTG5VL5AvzYwOkuF7LPO0z0A3FABoge0deH6hypnhmmNAciFxT0E+CirAAHs191qOY5evYGiL4Hra/cc5gAoJD8C+l53/ZUksHKhd4KA75Po+s8bgVtdlKS9R2YMQD4skqxwWXdVDaum01rUrQZGAIhhJ9PBc1kAOtB9JzvUKAGLtKo7NZoBEI25+E0WgJ5Dy8OJb9y5qQQAJLu3F+GrkgNzP6SBnZgHKIYAgFzGVq0svUkBIG4oH3oNAHzOdVuqty/kBm5VO5S1Dw4MzrWLR4iwJgsAADQgc701apC5WZ2hGKhk1maRSNnSGqefMQDqjcutKhVA+j/NUbQvvF2SygJKANt1t7onS3+XzhiAmxZ2QcwCE/mpVJZRChoDIJhqhAELWKbuL5RgAUC1c2OxHgBkO8tx8lgA6HtBDRFechmXxIcIftfnq8YLGDYADJJhkq2jnzMsQ9hCQDDqz/M1lZ5Az/Ko+F02nauC7gA0LJfNA6KmyNZWmOn2WT3Anhfw3T47AFa8gPH2UwFA5IKFcKGSRkUQmb/ltkocsT/IA6w5YMA0rYrAUffZW+G4TJ4PvYrmqjuGJZ0Grq88KyRVmlQ8QAjtT3bS26IkRU1mfiud4CghfDOC3CIlCcRRz1PzgMgLoo0RiFCQXpjcV5Iuew6UZHeJqiCkCgBLWWQue9aS4LCgXLuoOSilk/hSa4Xj3E83IaaV+KwDIASqJsSkd4iqsR5Hn3oOGAhWmRbT6PgmDkBUFWQ/nZN8gcLhBdY8YKBs0ptf8e1Afb6q/WGlKijWARjfG/COujJgWAcgSohx3xRZdP1Up0EZ5O+HQnrt7sRmgXGCh0PBZtafSCcY2yD1q4KNhudBlMFRSoiXKhxffMqEnfVpUFcpm+cmUgVsGpgkawZAEkLT/nzmAdN+w0n2zTwgCaFpf/4PzAXPUHTttLMAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-box\"},[_c('div',{ref:\"viewDiv\",attrs:{\"id\":\"viewDiv\"}}),_c('div',{attrs:{\"id\":\"legendbar\"}},[_c('span',[_vm._v(\"图例\")]),_c('Legend',{attrs:{\"data\":_vm.legendData,\"id\":\"legend\"}})],1),(_vm.spinShow)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\n/* 巡查人员实时位置 */\r\nexport const listPhoneUserToView = data => request({ url: '/user/listPhoneUserToView', method: 'post', data })\r\n","<template>\r\n  <div class=\"map-box\">\r\n    <div id=\"viewDiv\" ref=\"viewDiv\"></div>\r\n    <!-- 图例 -->\r\n    <div id=\"legendbar\">\r\n      <span>图例</span>\r\n      <Legend :data=\"legendData\" id=\"legend\"></Legend>\r\n    </div>\r\n    <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport arcgisPackage from '../../../utils/arcgisTools'\r\nimport config from '../../../setting/mapConfig'\r\nimport { tdtlayer, tdtyNoteslayer, tdtclayer, tdtcNoteslayer, redLine, shengjie } from '@/utils/layers'\r\nimport { cacuDMS } from '@/utils/common'\r\nimport Basemapthumbnail from '../../../assets/map_images/Basemapthumbnail.png'\r\nimport Basemapthumbnail1 from '../../../assets/map_images/Basemapthumbnail1.png'\r\nimport Legend from '@/components/Legend'\r\n// 离线图标\r\nimport patrolUserGray from '../../../assets/boundaryMarker_images/guai_point3.png'\r\n// 在线图标\r\nimport patrolUserRed from '../../../assets/boundaryMarker_images/preset_bm3.png'\r\n// 巡查中图标\r\nimport patrolUserBlue from '../../../assets/boundaryMarker_images/preset_sign3.png'\r\nimport {\r\n  // 实时位置\r\n  listPhoneUserToView\r\n} from '@/api/workRegulation'\r\nexport default {\r\n  name: 'workRegulation',\r\n  data () {\r\n    return {\r\n      legendData: [\r\n        {\r\n          type: 1,\r\n          name: '离线',\r\n          background: 'url(' + patrolUserGray + ')',\r\n          id: 'patrolUserGray'\r\n        },\r\n        {\r\n          type: 1,\r\n          name: '在线',\r\n          background: 'url(' + patrolUserRed + ')',\r\n          id: 'patrolUserRed'\r\n        }\r\n        // {\r\n        //   type: 1,\r\n        //   name: '巡查中',\r\n        //   background: 'url(' + patrolUserBlue + ')',\r\n        //   id: 'patrolUserBlue'\r\n        // }\r\n      ],\r\n      popupTemplate: {}, // 点击地图中点的弹框对象\r\n      loadComplete: false, // 地图加载完成状态\r\n      spinShow: true\r\n    }\r\n  },\r\n  components: {\r\n    Legend\r\n  },\r\n  mounted () {\r\n    // 加载地图\r\n    this.createMap()\r\n    // 获取实时位置数据\r\n    this.getLedgerList()\r\n  },\r\n  methods: {\r\n    // 获取实时位置数据\r\n    async getLedgerList () {\r\n      await listPhoneUserToView({\r\n        data: {}\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          // 添加巡查人员\r\n          this.addPointToMap(res.data.data.data, config.inflectionPointcolor, 'graphicsLayer_patroluser')\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /**\r\n     * @Description:初始化地图的函数\r\n     * @author 张淼\r\n     * @date 2019/5/5\r\n     */\r\n    async createMap () {\r\n      // 加载arcgis地图的依赖\r\n      let MapView = await arcgisPackage.MapView\r\n      let Map = await arcgisPackage.Map\r\n      let Basemap = await arcgisPackage.Basemap\r\n      let BasemapToggle = await arcgisPackage.BasemapToggle\r\n      // 天地图影像地图\r\n      let tdtylayer = await tdtlayer().then(res => { return res })\r\n      // 天地图矢量地图\r\n      let tdtylayer1 = await tdtclayer().then(res => { return res })\r\n      // 天地图的矢量标注图层\r\n      let tdtylayer2 = await tdtcNoteslayer().then(res => { return res })\r\n      // 天地图影像标注图层\r\n      let tdtylayer3 = await tdtyNoteslayer().then(res => { return res })\r\n      // 省界\r\n      let layerProvince = await shengjie().then(res => { return res })\r\n      let customBasemap = new Basemap({\r\n        baseLayers: [tdtylayer1, layerProvince, tdtylayer2],\r\n        title: '矢量地图',\r\n        id: 'myBasemap',\r\n        thumbnailUrl: Basemapthumbnail\r\n      })\r\n      let customBasemap1 = new Basemap({\r\n        baseLayers: [tdtylayer, layerProvince, tdtylayer3],\r\n        title: '影像地图',\r\n        id: 'myBasemap1',\r\n        thumbnailUrl: Basemapthumbnail1\r\n      })\r\n      this.map = new Map({\r\n        basemap: customBasemap1\r\n      })\r\n      this.view = new MapView({\r\n        map: this.map,\r\n        container: 'viewDiv',\r\n        center: config.centerPoint,\r\n        zoom: 7\r\n      })\r\n      this.view.when(wes => {\r\n        this.loadComplete = true\r\n      })\r\n      // 弹框内容\r\n      this.popupTemplate = {\r\n        title: '巡查人员详情',\r\n        content: [{\r\n          type: 'fields',\r\n          fieldInfos: [{\r\n            fieldName: '用户名'\r\n          },\r\n          {\r\n            fieldName: '手机号'\r\n          },\r\n          {\r\n            fieldName: '真实姓名'\r\n          },\r\n          {\r\n            fieldName: '经度'\r\n          },\r\n          {\r\n            fieldName: '纬度'\r\n          },\r\n          {\r\n            fieldName: '邮箱'\r\n          }\r\n          ]\r\n        }]\r\n      }\r\n      // 增加底图切换插件\r\n      let basemapToggle = new BasemapToggle({\r\n        view: this.view,\r\n        nextBasemap: customBasemap\r\n      })\r\n      this.view.ui.add(basemapToggle, 'top-right')\r\n      // 添加图例\r\n      this.view.ui.add(document.getElementById('legendbar'), 'bottom-left')\r\n    },\r\n    /**\r\n     * 添加添加巡查人员\r\n     * @param pointArray 点数组\r\n     * @param symbolColor 符号颜色\r\n     * @param layerId 自定义图层id\r\n     */\r\n    async addPointToMap (pointArray, symbolColor, layerId) {\r\n      let GraphicsLayer = await arcgisPackage.GraphicsLayer\r\n      let Graphic = await arcgisPackage.Graphic\r\n      let layer = this.map.findLayerById(layerId)\r\n      let point = {}\r\n      let pointGraphic\r\n      let textGraphic\r\n      let wayPoint // 不同巡查状态图标\r\n      let status // 巡查状态\r\n      let lon // 经度\r\n      let lat // 纬度\r\n      let features = []\r\n      if (layer) {\r\n        this.map.remove(layer)\r\n      }\r\n      let graphicsLayer = new GraphicsLayer({\r\n        id: layerId,\r\n        elevationInfo: 'on-the-ground',\r\n        title: '实时位置'\r\n      })\r\n      if (pointArray && pointArray.length > 0) {\r\n        for (let i = 0; i < pointArray.length; i++) {\r\n          if (pointArray[i].CH003 === null) {\r\n            continue\r\n          } else if (pointArray[i].CH003.indexOf('°') !== -1) { // 度分秒转为经纬度\r\n            lon = cacuDMS(pointArray[i].CH003)\r\n            lat = cacuDMS(pointArray[i].CH004)\r\n          } else if (pointArray[i].CH003.indexOf('.') !== -1) {\r\n            lon = pointArray[i].CH003\r\n            lat = pointArray[i].CH004\r\n          }\r\n          point = {\r\n            type: 'point', // autocasts as new Point()\r\n            longitude: lon,\r\n            latitude: lat\r\n          }\r\n          if (pointArray[i].CH005 === 0) { // 离线\r\n            wayPoint = patrolUserGray\r\n            status = '离线'\r\n          } else if (pointArray[i].CH005 === 1) { // 在线\r\n            wayPoint = patrolUserRed\r\n            status = '在线'\r\n          }\r\n          // else if (pointArray[i].CH005 === 2) { // 巡查中\r\n          //   wayPoint = patrolUserBlue\r\n          //   status = '巡查中'\r\n          // }\r\n          // 属性信息\r\n          let lineAtt = {\r\n            'id': pointArray[i].SA001,\r\n            '用户名': pointArray[i].SA008,\r\n            '手机号': '<a style=\"color: blue\">' + pointArray[i].SA012 + '</a>',\r\n            '真实姓名': pointArray[i].SA019,\r\n            '经度': lon,\r\n            '纬度': lat,\r\n            '邮箱': pointArray[i].SA013,\r\n            '状态': status\r\n          }\r\n          if (pointArray[i].CH005 === 0) {\r\n            lineAtt['手机号'] = '<a style=\"color: blue\">' + pointArray[i].SA012 + '</a>'\r\n          }\r\n          let markerSymbol = {\r\n            type: 'picture-marker', // autocasts as new SimpleMarkerSymbol()\r\n            url: wayPoint,\r\n            width: 20,\r\n            height: 20,\r\n            outline: { // autocasts as new SimpleLineSymbol()\r\n              color: [255, 255, 255],\r\n              width: 1\r\n            }\r\n          }\r\n          let textSymbol = {\r\n            type: 'text', // autocasts as new TextSymbol()\r\n            color: 'white',\r\n            haloColor: 'black',\r\n            haloSize: '1px',\r\n            text: pointArray[i].SA019,\r\n            xoffset: 0,\r\n            yoffset: -20,\r\n            font: { // autocast as new Font()\r\n              size: 12,\r\n              family: 'sans-serif',\r\n              weight: 'bold'\r\n            }\r\n          }\r\n          // 构造点对象\r\n          pointGraphic = new Graphic({\r\n            geometry: point,\r\n            symbol: markerSymbol,\r\n            attributes: lineAtt,\r\n            popupTemplate: this.popupTemplate\r\n          })\r\n          textGraphic = new Graphic({\r\n            geometry: point,\r\n            symbol: textSymbol\r\n          })\r\n          features.push(pointGraphic)\r\n          features.push(textGraphic)\r\n          graphicsLayer.add(pointGraphic)\r\n          graphicsLayer.add(textGraphic)\r\n        }\r\n      }\r\n      // 如果问题点对象图层存在，则将新点位添加到该对象\r\n      this.spinShow = false\r\n      this.map.add(graphicsLayer)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" type=\"text/scss\" scoped>\r\n  .map-box{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    /* 地图框样式 */\r\n    #viewDiv{\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    #legendbar {\r\n      &>span {\r\n        background: #08304a;\r\n        border: 1px solid #93c2e6;\r\n        opacity: .8;\r\n        color: #00e5ff;\r\n        font-size: 16px;\r\n        line-height: 30px;\r\n        text-align: center;\r\n        letter-spacing: 20px;\r\n        padding-left: 15px;\r\n        height: 30px;\r\n        display: block;\r\n      }\r\n      .legend_box {\r\n        background: rgba(1,51,102,.85);\r\n        border: 1px solid rgba(147,194,230,.8);\r\n        border-top: none;\r\n        padding: 10px 0;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./workRegulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./workRegulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workRegulation.vue?vue&type=template&id=2c7d554e&scoped=true&\"\nimport script from \"./workRegulation.vue?vue&type=script&lang=js&\"\nexport * from \"./workRegulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workRegulation.vue?vue&type=style&index=0&id=2c7d554e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c7d554e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./workRegulation.vue?vue&type=style&index=0&id=2c7d554e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./workRegulation.vue?vue&type=style&index=0&id=2c7d554e&lang=scss&rel=stylesheet%2Fscss&scoped=true&\""],"sourceRoot":""}