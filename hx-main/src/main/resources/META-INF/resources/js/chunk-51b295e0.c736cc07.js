(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51b295e0"],{"02f4":function(e,t,r){var a=r("4588"),n=r("be13");e.exports=function(e){return function(t,r){var i,o,s=String(n(t)),c=a(r),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var a=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},"136f":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"legend_box"},[0!==e.data.length?r("ul",e._l(e.data,function(t,a){return r("li",{key:a,staticStyle:{"padding-right":"50px"}},[0===t.type?r("i",{staticStyle:{height:"12px",width:"12px",margin:"4px"},style:{backgroundColor:t.backgroundColor,border:t.border}}):e._e(),1===t.type?r("i",{class:t.class,staticStyle:{height:"20px",width:"20px","background-size":"100% 100%"},style:{backgroundImage:t.background}}):e._e(),2===t.type?r("i",{staticStyle:{width:"12px",margin:"9px 4px",display:"inline-block"},style:{backgroundColor:t.backgroundColor,height:t.weight+"px",margin:Math.floor(12-t.weight)/2+4+"px 4px"}}):e._e(),r("span",[e._v(e._s(t.name))]),r("i-switch",{directives:[{name:"show",rawName:"v-show",value:t.switchDis,expression:"item.switchDis"}],staticStyle:{position:"absolute",right:"15px"},attrs:{size:"small"},model:{value:t.switch,callback:function(r){e.$set(t,"switch",r)},expression:"item.switch"}})],1)}),0):e._e()])},n=[],i={name:"Legend",data:function(){return{}},props:{data:{default:[]}},mounted:function(){},methods:{}},o=i,s=(r("6505"),r("2877")),c=Object(s["a"])(o,a,n,!1,null,"013dd2a8",null);t["a"]=c.exports},"214f":function(e,t,r){"use strict";r("b0c5");var a=r("2aba"),n=r("32e9"),i=r("79e5"),o=r("be13"),s=r("2b4c"),c=r("520a"),l=s("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var d=s(e),h=!i(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),f=h?!i(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[d](""),!t}):void 0;if(!h||!f||"replace"===e&&!u||"split"===e&&!p){var g=/./[d],m=r(o,d,""[e],function(e,t,r,a,n){return t.exec===c?h&&!n?{done:!0,value:g.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),b=m[0],A=m[1];a(String.prototype,e,b),n(RegExp.prototype,d,2==t?function(e,t){return A.call(e,this,t)}:function(e){return A.call(e,this)})}}},"28a5":function(e,t,r){"use strict";var a=r("aae3"),n=r("cb7c"),i=r("ebd6"),o=r("0390"),s=r("9def"),c=r("5f1b"),l=r("520a"),u=r("79e5"),p=Math.min,d=[].push,h="split",f="length",g="lastIndex",m=4294967295,b=!u(function(){RegExp(m,"y")});r("214f")("split",2,function(e,t,r,u){var A;return A="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[f]||2!="ab"[h](/(?:ab)*/)[f]||4!="."[h](/(.?)(.?)/)[f]||"."[h](/()()/)[f]>1||""[h](/.?/)[f]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return r.call(n,e,t);var i,o,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=void 0===t?m:t>>>0,b=new RegExp(e.source,u+"g");while(i=l.call(b,n)){if(o=b[g],o>p&&(c.push(n.slice(p,i.index)),i[f]>1&&i.index<n[f]&&d.apply(c,i.slice(1)),s=i[0][f],p=o,c[f]>=h))break;b[g]===i.index&&b[g]++}return p===n[f]?!s&&b.test("")||c.push(""):c.push(n.slice(p)),c[f]>h?c.slice(0,h):c}:"0"[h](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,a){var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n,a):A.call(String(n),r,a)},function(e,t){var a=u(A,e,this,t,A!==r);if(a.done)return a.value;var l=n(e),d=String(this),h=i(l,RegExp),f=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),y=new h(b?l:"^(?:"+l.source+")",g),v=void 0===t?m:t>>>0;if(0===v)return[];if(0===d.length)return null===c(y,d)?[d]:[];var x=0,k=0,w=[];while(k<d.length){y.lastIndex=b?k:0;var B,F=c(y,b?d:d.slice(k));if(null===F||(B=p(s(y.lastIndex+(b?0:k)),d.length))===x)k=o(d,k,f);else{if(w.push(d.slice(x,k)),w.length===v)return w;for(var C=1;C<=F.length-1;C++)if(w.push(F[C]),w.length===v)return w;k=x=B}}return w.push(d.slice(x)),w}]})},"2b03":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEHklEQVR4Xu2aXVIaQRCAuxepkn0JniDmBCEniD6mkkV9TQniCYInSHIC9QQS1sqruiSVx5ATBE8gnkDyslglbKcGhCIJy85Pz6KBfeGBmZ6eb7p7unsXYcEfXPD9wxLA0gIWnMDSBdI2gKDsbiFAgYjy4ne0PgG2EaFNAK1iPbxIS69ULKCxu7pB6OwBwjYC5JM2RwAdJGoC0bF3ettMGm/yv1UA3yqr670+HgLitraSRE2n3zt4/fmupS1jxkRrAILSagXROeFTmqpevXvMJ28oyQqAoOSeIEKFW1kiqPUz4cFODTpcstkB2Nr8eMNETc/vbj5IAI2y+wEA3nMpFydHWELRD/c51mGzgMauuw0OnHEoJSUjgh3vNDyXGptGEAzKuSsEXDdVSHa+uCr7TvjMNB6wWMCXUq5KiIeyyjOO++jVQ+F22g8LgKDs3sgkOP9oSXBJQB0EzAPCc9VdcFiBMQAd3yeii2yGqq9qt+3Rps8qkF+J3CMA2FMBQRTtF/3bmsqcybHmAMq5IwB8J68AHXv1bjVuvEYC9cmrh9o5hzEAleBHRD+KfncjCVZQyjUR8WXSOPG/cINiPVyTGTttjDGARtkl2cVlzVXVrXpOuKZ7GxgBGBQ7kXMlC8Dp3b2QLWpUwEIUbepWjUYARJkLjvNdFsCKEz2bDHyz5v2XAEAye/v6NluIVrI/ZcHOzQJUXQAApCJ2Q/VmmZcLiBMKSm4HEZ5wnZby6QOAVw+1XVl74mjDQSl3johbsgAG7a4I9qcVMoPWmeOcqWSVsldrnH4MALQ7P6LFNVnNibbZuEkqCxSJDt74XZFBaj3GAO5T2But1RkmqdwsVhKhYRxQcwOGfQ9EmJq/kGFsAUKIaubGB8CsEGIDMIBQyrUB8SnX5hLlEF17fte4AcNiAUM30A6GiXuNGWDcDGG1ABEMM31XvN6Szwk0t04Ev/qZcF23AJpcls0CBm6QUlcYAFhOn9UChLA0rIDz9NkBpGQFbKdvBcAgMernWlZuBKLrXqZb4PD9URxgjQEjobZuBNmOkkpstQJgmBe4LZ1Wd6zyBJeeHyrXCkkw7AFQ7BYlKWrS9Jgl2xoA5hpBqpGSCHHKAKsARMforu+0TJIjce1lM1FBtpeoCsEqAKZrkfXa+xuQdQBGhZKlwGctFY4zP9X2+ViOQbNT1hVSsQC9gDj7HaLsBpPGpQZAqU6wkPHFgUgNwNAKJHsGki9Qkk5X5v9UAdy7wsw3v+LbgaLf1f+wUmbXE2NSBzArN+AudWVYpA5AKBX7TVGKpm+1GpQhP+UjCGvp7txqgVkL/+EKKUb9uWSCcSDGt0IKCc+DuAanKSFeqnB88SnjdtPGzCUI6iprY94SgA2qj0nm0gIe02nZ0HVpATaoPiaZC28BvwFAlclQ7nEeNwAAAABJRU5ErkJggg=="},"39f3":function(e,t,r){e.exports=r.p+"img/Basemapthumbnail1.5f8d6db2.png"},"3cf7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIUlEQVR4Xu2aUVLbSBCG/xZVATSuCrxs5KclJ4j3BIET4D1BwgkCJ0j2BIETJDlBkhPEe4L1ngD2yWJfcKo8gjxYnZKNvV7KkmY0PWMK7FfNdPd86u7pbovwyH/0yM+PNYC1BzxyAusQCO0AsU4PAeoQ8w6Azkw/E10AuAC4n6nkayi7gnjA1vVgP8qjV8TcBaE4ePWPMWRCL4/47Ga73atb7vLcK4Ct68FelNN7ArqNjWT0gOhEt37pN5ZRsdEbADUavAbRBymjc8LxdZycScmbyfECINaXHwj8WtpYBn3M4icnoN2hlGxxAL4OPz8wo6dbycG9BBDrwTsCvZUyrkzOxBPUsyMJPWIeEOvLLoE/SxhlIoNBv2fq2ReTtVVrBAGk5wTsuRpkvJ8x1GrzuWs+EAGwnaXHEeO9sfFCCxn8R6ba71zEiQBQo/TKqMC5YykDfxPzkIl2CHhhfRABL3AG0CT2GfiaR3x8s90uyt/pj6924uzmlECvrEAwH+lW+6PVnoXFzgDUKD0F4Y2xAYwz3UqOy9bbFlAM/pSpduOawxlArC2SH/OfutXer4OlRoMeiF7WrZt6Doa6lewarV2yyBmA0ikbKzd0V9uw0vHmbtPbwAlA0exs5HRuDiD6zbSpsQE7jvigadfoCmB/I6dvpgDGET//X+Kr2PggAZhWb2r0bweU/2UBdmUeYBUCphnb9mZZWQgUb0iN0iEIT6Xelu3bL/RqlTQO5cYbZweOdfqFgENTAMW1xURHyxqZYnS2MabPVlWl4dVaZp8zANvCZV74AX2AFro57tLCkNQUaE44uY6TU9P1d9c5AyhKWJX9uGpqgOs+m5tlmS53AACsw8D11HM3Mqssq9QJAQg7DJkfyLCy9A6gUBDrwQWBfpV6uXVyGPxPptrOAxgRD5heh7JjcAMAzsOQQocYgEky1D8ubGqCukOWPmd812pzr2kDtChXDsA0DAJNhd1HYTMIogCCeIHg25cNgVukvr1AYhDqLQQmgqezvb6PG2GS+eOtjkTs+wmBW6nebgSBe1++FC5J1bFO+41G3SXyihF6ppL5BxWNb5A7G2WT4ILwSWdnMS2qO5BLzx+kElymRKpHMB2k1EFc9tybBxTKJkPTMfWdiiPG9/EGd0xnibYQvAK47RGciiPpay9YElxU1LRR8pX4/NYBS3ywaUL0lfiCA5iGgvXssPI/RNtYL1vvPQfMFVt0iz4qvtUDsJgZmP6BIuEF4TzgvzK58p/f4tuBTCXNP6y0pBIcQGVtINzqmrAIDqAwquybopCu77UbNCF/9yMIn+XuynqBKsWLoRAy66+kEiwDMZsbhCh47sU1uLxjvOxKfPFpEnbBu8GmRoXct5JbIOQB63StAdQReujP1x7w0N9w3fnWHlBH6KE//wkHHstQWTn/4QAAAABJRU5ErkJggg=="},"42e8":function(e,t,r){e.exports=r.p+"img/Basemapthumbnail.6dc37597.png"},"472a":function(e,t,r){"use strict";var a=r("5e12"),n=r.n(a);n.a},"520a":function(e,t,r){"use strict";var a=r("0bfb"),n=RegExp.prototype.exec,i=String.prototype.replace,o=n,s="lastIndex",c=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[s]||0!==t[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(o=function(e){var t,r,o,u,p=this;return l&&(r=new RegExp("^"+p.source+"$(?!\\s)",a.call(p))),c&&(t=p[s]),o=n.call(p,e),c&&o&&(p[s]=p.global?o.index+o[0].length:t),l&&o&&o.length>1&&i.call(o[0],r,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),e.exports=o},"5d6b":function(e,t,r){var a=r("e53d").parseInt,n=r("a1ce").trim,i=r("e692"),o=/^[-+]?0[xX]/;e.exports=8!==a(i+"08")||22!==a(i+"0x16")?function(e,t){var r=n(String(e),3);return a(r,t>>>0||(o.test(r)?16:10))}:a},"5e12":function(e,t,r){},"5f1b":function(e,t,r){"use strict";var a=r("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},6505:function(e,t,r){"use strict";var a=r("b8bb"),n=r.n(a);n.a},"6c68":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIklEQVR4Xu1aTVIaURDuJs4YswkuUiVsgoskwyrkBNETaE6gniB4gpgTqCfQnCB6gpgTBFeMyUKyGazKIrgBGZBOvREMpQzzfnoeFkIVq+nXP9/r/xmER/7DR24/zACYecAjR2AWArYdIN99swaEJSLMAlBpIB8BaoDiT5Vg7uzYll5WPGCp461kCDYAcB0AshLGNYjghDK0f+H4JxL02iSpArBEXgFD3EUEYbjWj4BOunC9/cf9VdFikHAoNQCWQm8zA3jApTRBr1x3z/a5+A2FHjdLgHzoHQDgJj9nOmw6V9sNrDW4eLN7QHrG35gsQqLu+qsPEoB829sBxE9cysXzocPA9bc45LB5QL77eh16T75yKCXFI3P9IZj7eSRFO4aIDYBc2ztHxIKpQgrnG02ntWyaD1gAyIXFMgLsKijPQ0r0OZj3d0yYsQCQD4t/JRucO7rSKQE0MGqO8K2GIcZeYAyATuwTwTG5VL5AvzYwOkuF7LPO0z0A3FABoge0deH6hypnhmmNAciFxT0E+CirAAHs191qOY5evYGiL4Hra/cc5gAoJD8C+l53/ZUksHKhd4KA75Po+s8bgVtdlKS9R2YMQD4skqxwWXdVDaum01rUrQZGAIhhJ9PBc1kAOtB9JzvUKAGLtKo7NZoBEI25+E0WgJ5Dy8OJb9y5qQQAJLu3F+GrkgNzP6SBnZgHKIYAgFzGVq0svUkBIG4oH3oNAHzOdVuqty/kBm5VO5S1Dw4MzrWLR4iwJgsAADQgc701apC5WZ2hGKhk1maRSNnSGqefMQDqjcutKhVA+j/NUbQvvF2SygJKANt1t7onS3+XzhiAmxZ2QcwCE/mpVJZRChoDIJhqhAELWKbuL5RgAUC1c2OxHgBkO8tx8lgA6HtBDRFechmXxIcIftfnq8YLGDYADJJhkq2jnzMsQ9hCQDDqz/M1lZ5Az/Ko+F02nauC7gA0LJfNA6KmyNZWmOn2WT3Anhfw3T47AFa8gPH2UwFA5IKFcKGSRkUQmb/ltkocsT/IA6w5YMA0rYrAUffZW+G4TJ4PvYrmqjuGJZ0Grq88KyRVmlQ8QAjtT3bS26IkRU1mfiud4CghfDOC3CIlCcRRz1PzgMgLoo0RiFCQXpjcV5Iuew6UZHeJqiCkCgBLWWQue9aS4LCgXLuoOSilk/hSa4Xj3E83IaaV+KwDIASqJsSkd4iqsR5Hn3oOGAhWmRbT6PgmDkBUFWQ/nZN8gcLhBdY8YKBs0ptf8e1Afb6q/WGlKijWARjfG/COujJgWAcgSohx3xRZdP1Up0EZ5O+HQnrt7sRmgXGCh0PBZtafSCcY2yD1q4KNhudBlMFRSoiXKhxffMqEnfVpUFcpm+cmUgVsGpgkawZAEkLT/nzmAdN+w0n2zTwgCaFpf/4PzAXPUHTttLMAAAAASUVORK5CYII="},"6df0":function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"e",function(){return o}),r.d(t,"g",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"h",function(){return u}),r.d(t,"f",function(){return p});var a=r("b775"),n=function(e){return Object(a["a"])({url:"/task/listTask",method:"post",data:e})},i=function(e){return Object(a["a"])({url:"/task/ledgerSelect",method:"post",data:e})},o=function(e){return Object(a["a"])({url:"/task/insertTask",method:"post",data:e})},s=function(e){return Object(a["a"])({url:"/task/updateTask",method:"post",data:e})},c=function(e){return Object(a["a"])({url:"/task/deleteTask",method:"post",data:e})},l=function(e){return Object(a["a"])({url:"/task/getTaskById",method:"post",data:e})},u=function(e){return Object(a["a"])({url:"/user/listUser",method:"post",data:e})},p=function(e){return Object(a["a"])({url:"/checkPoint/sharePoint",method:"post",data:e})}},7445:function(e,t,r){var a=r("63b6"),n=r("5d6b");a(a.G+a.F*(parseInt!=n),{parseInt:n})},"7f7f":function(e,t,r){var a=r("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in n||r("9e1e")&&a(n,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},a1ce:function(e,t,r){var a=r("63b6"),n=r("25eb"),i=r("294c"),o=r("e692"),s="["+o+"]",c="​",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),p=function(e,t,r){var n={},s=i(function(){return!!o[e]()||c[e]()!=c}),l=n[e]=s?t(d):o[e];r&&(n[r]=l),a(a.P+a.F*s,"String",n)},d=p.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=p},aa1f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-box"},[a("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),a("div",{attrs:{id:"legendbar"}},[a("span",[e._v("图例")]),a("Legend",{attrs:{data:e.legendData,id:"legend"}})],1),a("div",{class:{activeBox:1===e.boxstate},attrs:{id:"toggleBox"}},[a("div",{ref:"searchBox",attrs:{id:"searchBox"}},[a("h3",[e._v("图层叠加")]),a("RadioGroup",{on:{"on-change":e.radioSearchType},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[a("Radio",{attrs:{label:"1",border:""}},[e._v("核查人员分布")]),a("Radio",{attrs:{label:"2",border:""}},[e._v("核查任务分布")]),a("Radio",{attrs:{label:"3",border:""}},[e._v("核查轨迹分布")])],1),"1"===e.searchType?a("Form",{ref:"searchForm1",attrs:{model:e.searchForm1,"label-width":100}},[a("FormItem",{attrs:{prop:"ch005",label:"人员状态："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择人员状态"},model:{value:e.searchForm1.ch005,callback:function(t){e.$set(e.searchForm1,"ch005","string"===typeof t?t.trim():t)},expression:"searchForm1.ch005"}},[a("i-option",{attrs:{value:"-1"}},[e._v("全部")]),a("i-option",{attrs:{value:"0"}},[e._v("离线")]),a("i-option",{attrs:{value:"1"}},[e._v("在线")])],1)],1),a("FormItem",{attrs:{prop:"sa019",label:"人员真实姓名："}},[a("Input",{attrs:{placeholder:"请输入人员真实姓名"},model:{value:e.searchForm1.sa019,callback:function(t){e.$set(e.searchForm1,"sa019","string"===typeof t?t.trim():t)},expression:"searchForm1.sa019"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"sa012",label:"人员手机号："}},[a("Input",{attrs:{placeholder:"请输入人员手机号"},model:{value:e.searchForm1.sa012,callback:function(t){e.$set(e.searchForm1,"sa012","string"===typeof t?t.trim():t)},expression:"searchForm1.sa012"}})],1)],1):"2"===e.searchType?a("Form",{ref:"searchForm2",attrs:{model:e.searchForm2,"label-width":85}},[a("FormItem",{attrs:{prop:"cl010",label:"任务年份："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{editable:!1,type:"year",placement:"right-end",placeholder:"请选择任务年份"},model:{value:e.searchForm2.cl010,callback:function(t){e.$set(e.searchForm2,"cl010","string"===typeof t?t.trim():t)},expression:"searchForm2.cl010"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"cl002",label:"任务名称："}},[a("Input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.searchForm2.cl002,callback:function(t){e.$set(e.searchForm2,"cl002","string"===typeof t?t.trim():t)},expression:"searchForm2.cl002"}})],1)],1):"3"===e.searchType?a("Form",{ref:"searchForm3",attrs:{model:e.searchForm3,"label-width":85}},[a("FormItem",{attrs:{prop:"taskName",label:"任务名称："}},[a("Input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.searchForm3.taskName,callback:function(t){e.$set(e.searchForm3,"taskName","string"===typeof t?t.trim():t)},expression:"searchForm3.taskName"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"ledgerId",label:"任务台账："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择任务台账"},model:{value:e.searchForm3.ledgerId,callback:function(t){e.$set(e.searchForm3,"ledgerId","string"===typeof t?t.trim():t)},expression:"searchForm3.ledgerId"}},e._l(e.ledgerList,function(t){return a("i-option",{attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)],1):e._e(),a("img",{attrs:{src:r("e821"),alt:"",id:"toggleImg"},on:{click:function(t){e.boxstate=1===e.boxstate?0:1}}}),a("div",{staticClass:"searchBtns"},[a("Button",{attrs:{type:"primary"},on:{click:e.addLayers}},[e._v("图层叠加")]),a("Button",{on:{click:e.cancelAddLayers}},[e._v("取消")])],1)],1)]),a("div",{attrs:{id:"controlLayerBox"}},[a("div",{ref:"layerBox",attrs:{id:"layerBox"}},[a("h3",[e._v("图层控制")]),a("p",[a("Checkbox",{attrs:{label:"1"},on:{"on-change":e.handlePatroluser},model:{value:e.patroluser,callback:function(t){e.patroluser="string"===typeof t?t.trim():t},expression:"patroluser"}},[e._v("核查人员分布")]),a("Checkbox",{attrs:{label:"2"},on:{"on-change":e.handlePatroltask},model:{value:e.patroltask,callback:function(t){e.patroltask="string"===typeof t?t.trim():t},expression:"patroltask"}},[e._v("核查任务分布")]),a("Checkbox",{attrs:{label:"3"},on:{"on-change":e.handlePatroltrack},model:{value:e.patroltrack,callback:function(t){e.patroltrack="string"===typeof t?t.trim():t},expression:"patroltrack"}},[e._v("核查轨迹分布")])],1)])])])},n=[],i=(r("96cf"),r("3b8d")),o=(r("7f7f"),r("ac6a"),r("9ed9")),s=r("149e"),c=r("f831"),l=r("cf45"),u=r("42e8"),p=r.n(u),d=r("39f3"),h=r.n(d),f=r("136f"),g=r("3cf7"),m=r.n(g),b=r("6c68"),A=r.n(b),y=(r("2b03"),r("6df0")),v=r("b775"),x=function(e){return Object(v["a"])({url:"/user/listPhoneUserToView",method:"post",data:e})},k=function(e){return Object(v["a"])({url:"/task/listCdByTask",method:"post",data:e})},w=function(e){return Object(v["a"])({url:"/ledger/trackDistribution",method:"post",data:e})},B={name:"workRegulation",data:function(){return{legendData:[{type:1,name:"离线",background:"url("+m.a+")",id:"patrolUserGray"},{type:1,name:"在线",background:"url("+A.a+")",id:"patrolUserRed"}],popupTemplate:{},loadComplete:!1,boxstate:0,searchType:"1",patroluser:!0,patroltask:!1,patroltrack:!1,searchForm1:{ch005:"-1",sa019:"",sa012:""},searchForm2:{cl010:"",cl002:""},searchForm3:{ledgerId:"",taskName:""},ledgerList:[],tablestate:0,tableHeight:Math.floor((window.innerHeight-326)/2),columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"用户名",align:"center",key:"SA008",ellipsis:!0,tooltip:!0,minWidth:200},{title:"手机号码",align:"center",key:"SA012",ellipsis:!0,tooltip:!0,minWidth:200},{title:"真实姓名",align:"center",key:"SA019",ellipsis:!0,tooltip:!0,minWidth:200},{title:"所属部门",align:"center",key:"SA015",ellipsis:!0,tooltip:!0,minWidth:200}],data1:[],columns2:[{title:"序号",key:"index",width:100,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"任务名称",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl002"},{title:"任务类型",align:"center",key:"cl004",width:100,render:function(e,t){var r=t.row.cl004;return 0===r?e("span",{},"巡护"):1===r?e("span",{},"核查"):null===r?e("span",{},""):void 0}},{title:"任务年份",align:"center",width:100,key:"cl010"},{title:"任务级别",align:"center",key:"cl011",width:100,render:function(e,t){var r=t.row.cl011;return 1===r?e("span",{},"国家级"):2===r?e("span",{},"市级"):null===r?e("span",{},""):void 0}},{title:"任务台账",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,render:function(e,t){var r=t.row,a=[];return r.rlhdGroupList.forEach(function(e){a.push(e.name)}),e("div",{},a.join("，"))}},{title:"任务描述",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl009"}],data2:[],columns3:[{title:"序号",key:"index",width:100,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"巡护记录名称",align:"center",key:"cy002",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护开始时间",align:"center",key:"cy004",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护结束时间",align:"center",key:"cy004",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护次数",align:"center",key:"rwcs",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护里程(m)",align:"center",key:"gjlc",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护时长(小时)",align:"center",key:"rwsc",ellipsis:!0,tooltip:!0,minWidth:200}],data3:[],addtaskLayer:{},pointArrays:[]}},components:{Legend:f["a"]},mounted:function(){this.createMap(),this.getLedgers(),setInterval(this.getLedgerList,1e4)},methods:{getLedgerList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"-1"===this.searchForm1.ch005&&(this.searchForm1.ch005=""),e.next=3,x({data:{ch005:this.searchForm1.ch005,sa019:this.searchForm1.sa019,sa012:this.searchForm1.sa012}}).then(function(e){"0000"===e.data.code&&(t.data1=e.data.data.data,t.addPointToMap(e.data.data.data,s["a"].inflectionPointcolor,"graphicsLayer_patroluser"))}).catch(function(){t.$Notice.error({title:"服务器错误"})});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getTaskList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k({data:{cl010:Object(l["f"])(this.searchForm2.cl010),cl002:this.searchForm2.cl002}}).then(function(e){"0000"===e.data.code&&(t.data2=e.data.data.data,t.layerAddData(t.data2))}).catch(function(){t.$Notice.error({title:"服务器错误"})});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getTrackDistribution:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w({data:{ledgerId:this.searchForm3.ledgerId,taskName:this.searchForm3.taskName}}).then(function(e){"0000"===e.data.code&&(t.data3=e.data.data,t.pointArrays=e.data.data,t.addTrackToMap(e.data.data))}).catch(function(){t.$Notice.error({title:"服务器错误"})});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),createMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,a,n,i,l,u,d,f,g,m,b,A=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].MapView;case 2:return t=e.sent,e.next=5,o["a"].Map;case 5:return r=e.sent,e.next=8,o["a"].Basemap;case 8:return a=e.sent,e.next=11,o["a"].BasemapToggle;case 11:return n=e.sent,e.next=14,o["a"].GraphicsLayer;case 14:return e.sent,e.next=17,Object(c["h"])().then(function(e){return e});case 17:return i=e.sent,e.next=20,Object(c["g"])().then(function(e){return e});case 20:return l=e.sent,e.next=23,Object(c["f"])().then(function(e){return e});case 23:return u=e.sent,e.next=26,Object(c["i"])().then(function(e){return e});case 26:return d=e.sent,e.next=29,Object(c["e"])().then(function(e){return e});case 29:f=e.sent,g=new a({baseLayers:[l,f,u],title:"矢量地图",id:"myBasemap",thumbnailUrl:p.a}),m=new a({baseLayers:[i,f,d],title:"影像地图",id:"myBasemap1",thumbnailUrl:h.a}),this.map=new r({basemap:m}),this.view=new t({map:this.map,container:"viewDiv",center:s["a"].centerPoint,zoom:7}),this.view.when(function(e){A.loadComplete=!0}),this.popupTemplate={title:"巡查人员详情",content:[{type:"fields",fieldInfos:[{fieldName:"用户名"},{fieldName:"手机号"},{fieldName:"真实姓名"},{fieldName:"经度"},{fieldName:"纬度"},{fieldName:"邮箱"}]}]},b=new n({view:this.view,nextBasemap:g}),this.view.ui.add(b,"top-right"),this.view.ui.add(document.getElementById("legendbar"),"bottom-right"),this.getLedgerList();case 40:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addPointToMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,r,a){var n,i,s,c,u,p,d,h,f,g,b,y,v,x,k,w;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].GraphicsLayer;case 2:return n=e.sent,e.next=5,o["a"].Graphic;case 5:if(i=e.sent,s=this.map.findLayerById(a),c={},b=[],s&&this.map.remove(s),y=new n({id:a,elevationInfo:"on-the-ground",title:"实时位置"}),!(t&&t.length>0)){e.next=34;break}v=0;case 13:if(!(v<t.length)){e.next=34;break}if(null!==t[v].CH003){e.next=18;break}return e.abrupt("continue",31);case 18:-1!==t[v].CH003.indexOf("°")?(f=Object(l["a"])(t[v].CH003),g=Object(l["a"])(t[v].CH004)):-1!==t[v].CH003.indexOf(".")&&(f=t[v].CH003,g=t[v].CH004);case 19:c={type:"point",longitude:f,latitude:g},0===t[v].CH005?(d=m.a,h="离线"):1===t[v].CH005&&(d=A.a,h="在线"),x={id:t[v].SA001,"用户名":t[v].SA008,"手机号":'<a style="color: blue">'+t[v].SA012+"</a>","真实姓名":t[v].SA019,"经度":f,"纬度":g,"邮箱":t[v].SA013,"状态":h},0===t[v].CH005&&(x["手机号"]='<a style="color: blue">'+t[v].SA012+"</a>"),k={type:"picture-marker",url:d,width:20,height:20,outline:{color:[255,255,255],width:1}},w={type:"text",color:"white",haloColor:"black",haloSize:"1px",text:t[v].SA019,xoffset:0,yoffset:-20,font:{size:12,family:"sans-serif",weight:"bold"}},u=new i({geometry:c,symbol:k,attributes:x,popupTemplate:this.popupTemplate}),p=new i({geometry:c,symbol:w}),b.push(u),b.push(p),y.add(u),y.add(p);case 31:v++,e.next=13;break;case 34:this.map.add(y);case 35:case"end":return e.stop()}},e,this)}));function t(t,r,a){return e.apply(this,arguments)}return t}(),addTrackToMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].GeoJSONLayer;case 2:r=e.sent,a=new Array,t.forEach(function(e){e.st4ScsCg.length>0&&e.st4ScsCg.forEach(function(e){if(null!==e.cg001){var t=n.map.findLayerById(e.cg001+"f");t&&n.map.remove(t)}var i,o={type:"simple",symbol:{type:"simple-line",color:"blue",width:2}};i=new r({url:s["a"].GeoJsonUrl+e.cg003,id:e.cg001+"f",renderer:o}),n.map.addMany([i]),a.push(i)})}),this.map.addMany(a),a[0].on("layerview-create",function(e){n.view.extent=a[0].fullExtent.expand(1.4)});case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),layerAddData:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].GraphicsLayer;case 2:return r=e.sent,this.map.findLayerById("taskLayer")?(this.map.findLayerById("taskLayer").removeAll(),this.map.findLayerById("taskLayer").visible=!0,a=this.map.findLayerById("taskLayer")):a=new r({id:"taskLayer"}),e.next=6,o["a"].Graphic;case 6:n=e.sent,[],t.forEach(function(e){if(e.geometry){var t={type:"polygon",rings:JSON.parse(e.geometry),spatialReference:4326},r=new n({geometry:t,symbol:{type:"simple-fill",color:[51,133,255,.5],style:"solid",outline:{color:[51,133,255,.8],width:1}}});a.add(r)}}),this.map.add(a);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getLedgers:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["b"])({data:{}}).then(function(e){"0000"===e.data.code&&e.data.data.data.forEach(function(e,r){t.ledgerList.push({value:e.id,label:e.name})})}).catch(function(){t.$Notice.error({title:"服务器错误"})});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addLayers:function(){"1"===this.searchType?this.getLedgerList():"2"===this.searchType?this.getTaskList():"3"===this.searchType&&this.getTrackDistribution()},cancelAddLayers:function(){},handlePatroluser:function(e){!0===e?this.getLedgerList():!1===e&&this.removePatrolUserFromMapNoPicAll()},handlePatroltask:function(e){!0===e?this.getTaskList():!1===e&&this.removePatrolTaskFromMapNoPicAll()},handlePatroltrack:function(e){!0===e?this.getTrackDistribution():!1===e&&this.removePatrolTrackFromMapNoPicAll()},removePatrolUserFromMapNoPicAll:function(){this.map.findLayerById("graphicsLayer_patroluser")&&(this.map.findLayerById("graphicsLayer_patroluser").visible=!1)},removePatrolTaskFromMapNoPicAll:function(){this.map.findLayerById("taskLayer")&&(this.map.findLayerById("taskLayer").visible=!1)},removePatrolTrackFromMapNoPicAll:function(){var e=this,t=this.pointArrays;t&&t.forEach(function(t){t.st4ScsCg.length>0&&t.st4ScsCg.forEach(function(t){null!==t.cg003&&(e.map.findLayerById(t.cg001+"f").visible=!1)})})},radioSearchType:function(e){"1"===e?(this.searchForm2={cl010:"",cl002:""},this.searchForm3={ledgerId:"",taskName:""}):"2"===e?(this.searchForm1={ch005:"-1",sa019:"",sa012:""},this.searchForm3={ledgerId:"",taskName:""}):"3"===e&&(this.searchForm1={ch005:"-1",sa019:"",sa012:""},this.searchForm2={cl010:"",cl002:""})},handleTaleBox:function(){2===this.tablestate?(this.tablestate=0,this.tableHeight=Math.floor((window.innerHeight-326)/2),this.pageSize=Math.floor((48*Math.floor((Math.floor((window.innerHeight-326)/2)-40)/48)+40)/48)):(this.tablestate=2,this.tableHeight=48*Math.floor((window.innerHeight-300-40)/48)+40,this.pageSize=Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48))}}},F=B,C=(r("472a"),r("2877")),L=Object(C["a"])(F,a,n,!1,null,"0135cabe",null);t["default"]=L.exports},aae3:function(e,t,r){var a=r("d3f4"),n=r("2d95"),i=r("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==n(e))}},b0c5:function(e,t,r){"use strict";var a=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},b8bb:function(e,t,r){},b9e9:function(e,t,r){r("7445"),e.exports=r("584a").parseInt},cf45:function(e,t,r){"use strict";r.d(t,"g",function(){return i}),r.d(t,"e",function(){return o}),r.d(t,"f",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"c",function(){return p});r("28a5");var a=r("e814"),n=r.n(a),i=(r("6b54"),function(e){var t="",r=0;e=(e||0).toString();for(var a=e.length-1;a>=0;a--)r++,t=e.charAt(a)+t,r%3||0===a||(t=","+t);return t}),o=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return r},s=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear();return r},c=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return r},l=function(e){if(void 0!==e&&null!==e){var t=n()(e),r=n()(60*(e-t)),a=(3600*(e-t)-60*r).toFixed(2),i="00"+r;return r=i.substring(i.length-2,i.length),t+"°"+r+"′"+a+"″"}},u=function(e){if(void 0!==e&&null!==e){var t=e.split("°")[0],r=e.split("°")[1].split("′")[0],a=e.split("°")[1].split("′")[1].split("″")[0];return Math.abs(t)+(Math.abs(r)/60+Math.abs(a)/3600)}},p=function(e){for(var t=e.concat(e),r=0,a=t.length;r<a;r++)for(var n=r+1;n<a;n++)t[r]===t[n]&&(t.splice(n,1),a--,n--);return t}},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,r){e.exports=r("b9e9")},e821:function(e,t,r){e.exports=r.p+"img/toggle.9e5f76f8.png"}}]);
//# sourceMappingURL=chunk-51b295e0.c736cc07.js.map