(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5242a3aa"],{"20fd":function(t,e,a){"use strict";var n=a("d9f6"),i=a("aebd");t.exports=function(t,e,a){e in t?n.f(t,e,i(0,a)):t[e]=a}},"28f1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tablet"}},[a("div",{staticClass:"queryBox"},[a("QueryBox",{staticStyle:{width:"calc(100% - 0px)"},attrs:{formArr:t.queryFrom},on:{query:t.getQueryData}}),a("div",{staticClass:"queryBtns"})],1),a("div",{staticClass:"content_box"},[a("div",{staticStyle:{height:"calc(100% - 15px)"}},[a("Table",{attrs:{loading:t.loading,border:"",stripe:"",columns:t.columns1,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}),a("div",{staticClass:"page_box"},[a("Page",{ref:"pages",attrs:{total:t.total,"page-size":t.pageSize,current:t.pageNum,"show-total":""},on:{"update:current":function(e){t.pageNum=e},"on-change":t.pageChange}})],1)],1)]),a("div",{staticClass:"add_box",class:{addActive:t.addActive}},[a("adjustmentAdd",{ref:"adjustmentAdd",on:{getNewList:t.getNewList}})],1),a("div",{staticClass:"map_box",class:{MapActive:t.MapActive}},[a("adjustmentMap",{ref:"activitiesInspectTableMap",on:{signOut:t.signOuta}})],1),a("div",{staticClass:"Comparison_box",class:{ComparisonActive:t.ComparisonActive}},[a("imageComparison",{ref:"imageComparison",attrs:{imageId:t.imageId},on:{ComparisonSignOut:t.ComparisonSignOut}})],1),a("Modal",{on:{"on-cancel":t.handleCancel},model:{value:t.auditModal,callback:function(e){t.auditModal=e},expression:"auditModal"}},[a("div",[a("Form",{ref:"statusForm",staticStyle:{padding:"0 50px","margin-top":"40px"},attrs:{model:t.auditData,"label-width":90,rules:t.DataRule}},[a("FormItem",{attrs:{prop:"ck070",label:"审核意见："}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入审核意见",size:"default"},model:{value:t.auditData.ck070,callback:function(e){t.$set(t.auditData,"ck070","string"===typeof e?e.trim():e)},expression:"auditData.ck070"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:t.handleAudit}},[t._v("审核通过")]),a("Button",{on:{click:t.cancelAudit}},[t._v("审核拒绝")])],1)])],1)},i=[],r=a("cebc"),s=a("aff7"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mobileUserAdd"}},[a("Modal",{attrs:{title:"新建红线调整审核数据"},on:{"on-cancel":t.reset},model:{value:t.mobileUserBuild,callback:function(e){t.mobileUserBuild=e},expression:"mobileUserBuild"}},[a("Form",{ref:"add",staticStyle:{padding:"0 50px"},attrs:{model:t.AddData,rules:t.AddRule,"label-width":90}},[a("FormItem",{attrs:{prop:"name",label:"红线调整审核数据名称"}},[a("Input",{attrs:{placeholder:"请输入红线调整审核数据名称",size:"default"},model:{value:t.AddData.name,callback:function(e){t.$set(t.AddData,"name","string"===typeof e?e.trim():e)},expression:"AddData.name"}})],1),a("FormItem",{attrs:{prop:"serviceUrl",label:"红线调整审核数据地址"}},[a("Input",{attrs:{placeholder:"请输入红线调整审核数据地址",size:"default"},model:{value:t.AddData.serviceUrl,callback:function(e){t.$set(t.AddData,"serviceUrl","string"===typeof e?e.trim():e)},expression:"AddData.serviceUrl"}})],1),a("FormItem",{attrs:{prop:"remark",label:"备注"}},[a("Input",{attrs:{placeholder:"请输入备注",size:"default"},model:{value:t.AddData.remark,callback:function(e){t.$set(t.AddData,"remark","string"===typeof e?e.trim():e)},expression:"AddData.remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",loading:t.loading1},on:{click:t.addSubmit}},[t._v("确定")])],1)],1)],1)},c=[],l=(a("7f7f"),a("b775")),u=function(t){return Object(l["a"])({url:"/ktdb/shpBatch/listShp",method:"post",data:t})},d=function(t){return Object(l["a"])({url:"/ktdb/shpBatch/list",method:"post",data:t})},p=function(t){return Object(l["a"])({url:"/ledger/pointStageExamine",method:"post",data:t})},f=function(t){return Object(l["a"])({url:"/ktdb/shpBatch/getShpDetailById",method:"post",data:t})},m=function(t){return Object(l["a"])({url:"/ktdb/shpBatch/addShp",method:"post",data:t})},h=function(t){return Object(l["a"])({url:"/ktdb/shpBatch/deleteShp",method:"post",data:t})},v={name:"mobileUserAdd",data:function(){return{AddData:{serviceUrl:"",name:"",remark:""},AddRule:{serviceUrl:[{required:!0,message:"红线调整审核数据地址不能为空",trigger:"blur"}],name:[{required:!0,message:"红线调整审核数据名称不能为空",trigger:"blur"}]},mobileUserBuild:!1,loading1:!1}},props:{},methods:{addSubmit:function(){var t=this;this.$refs.add.validate(function(e){e&&(t.loading1=!0,m({data:{serviceUrl:t.AddData.serviceUrl,name:t.AddData.name,remark:t.AddData.remark}}).then(function(e){"0000"===e.data.code?(t.loading1=!1,t.$emit("getNewList"),t.$Notice.success({title:"新建红线调整审核数据成功"}),t.mobileUserBuild=!1,t.AddData={},t.reset()):t.$Notice.error({title:e.data.msg})}).catch(function(){t.$Notice.error({title:"服务器错误"})}))})},reset:function(){this.AddData={serviceUrl:"",name:"",remark:""},this.$refs.add.resetFields(),this.loading1=!1}}},b=v,g=a("2877"),y=Object(g["a"])(b,o,c,!1,null,"45abf885",null),w=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-box"},[a("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),a("Button",{staticClass:"sign-btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$emit("MapSignOut",!1)}}},[t._v("返回")])],1)},k=[],_=(a("96cf"),a("3b8d")),C=a("9ed9"),D=a("149e"),S=a("f831"),O=a("42e8"),A=a.n(O),j=a("39f3"),L=a.n(j),I={name:"MapView",data:function(){return{map:{},view:{}}},computed:{},props:{},components:{},watch:{},mounted:function(){this.createMap()},methods:{createMap:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,r,s,o,c,l,u,d,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["a"].MapView;case 2:return e=t.sent,t.next=5,C["a"].Map;case 5:return a=t.sent,t.next=8,C["a"].Basemap;case 8:return n=t.sent,t.next=11,C["a"].BasemapToggle;case 11:return i=t.sent,t.next=14,Object(S["i"])().then(function(t){return t});case 14:return r=t.sent,t.next=17,Object(S["h"])().then(function(t){return t});case 17:return s=t.sent,t.next=20,Object(S["g"])().then(function(t){return t});case 20:return o=t.sent,t.next=23,Object(S["j"])().then(function(t){return t});case 23:return c=t.sent,t.next=26,Object(S["f"])().then(function(t){return t});case 26:l=t.sent,u=new n({baseLayers:[s,l,o],title:"矢量地图",id:"myBasemap",thumbnailUrl:A.a}),d=new n({baseLayers:[r,l,c],title:"影像地图",id:"myBasemap1",thumbnailUrl:L.a}),this.map=new a({basemap:d}),this.view=new e({map:this.map,container:"viewDiv",center:D["a"].centerPoint,zoom:6}),p=new i({view:this.view,nextBasemap:u}),this.view.ui.add(p,"top-right");case 33:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),initCom:function(t){this.map.remove(this.insercLayer),this.view.graphics.removeAll()}}},N=I,T=(a("dc44"),Object(g["a"])(N,x,k,!1,null,"64534442",null)),q=T.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contrast",attrs:{id:"contrast"}},[a("div",{staticClass:"contrast-body"},[a("Col",{staticStyle:{float:"left"},attrs:{span:"12"}},[a("div",{staticClass:"map1",attrs:{id:"contrast-map1"}},[a("div",{staticStyle:{height:"100%"},attrs:{id:"map1"}}),a("Select",{staticClass:"el-select1",attrs:{placeholder:"红线版本"},on:{"on-change":function(e){return t.redLineChange1(t.periods1)}},model:{value:t.periods1,callback:function(e){t.periods1=e},expression:"periods1"}},t._l(t.periods,function(t){return a("Option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)]),a("Col",{staticStyle:{float:"right"},attrs:{span:"12"}},[a("div",{staticClass:"map2",attrs:{id:"contrast-map2"}},[a("Button",{staticClass:"sign-btn",staticStyle:{position:"absolute",top:"15px",right:"15px","z-index":"999"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$emit("ComparisonSignOut",!1)}}},[t._v("返回")]),a("div",{staticStyle:{height:"100%"},attrs:{id:"map2"}}),a("Select",{staticClass:"el-select1",attrs:{placeholder:"红线版本"},on:{"on-change":function(e){return t.redLineChange2(t.periods2)}},model:{value:t.periods2,callback:function(e){t.periods2=e},expression:"periods2"}},t._l(t.periods,function(t){return a("Option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)])],1),a("div",{staticClass:"contrast-footer"},[a("Table",{staticStyle:{height:"100%"},attrs:{data:t.compareTableData,columns:t.columns1,"empty-text":"暂无数据",border:""}})],1)])},R=[],B=(a("ac6a"),a("a745")),E=a.n(B);function P(t){if(E()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var M=a("774e"),z=a.n(M),F=a("c8bb"),U=a.n(F);function V(t){if(U()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return z()(t)}function G(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function W(t){return P(t)||V(t)||G()}var J={name:"contrast",data:function(){return{periods1:"",periods2:"",columns1:[{title:"红线数据",align:"center",key:"year",minWidth:100},{title:"水源涵养(km²)",align:"center",key:"syhy",minWidth:120,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.syhy>0?(a="↓",n=e.row.syhy.toFixed(4),i="green",r="green"):e.row.syhy<0?(a="↑",n=-e.row.syhy.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.syhy)}},{title:"生物多样性维护(km²)",align:"center",key:"swdyx",minWidth:170,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.swdyx>0?(a="↓",n=e.row.swdyx.toFixed(4),i="green",r="green"):e.row.swdyx<0?(a="↑",n=-e.row.swdyx.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.swdyx)}},{title:"水土保持(km²)",align:"center",key:"stbc",minWidth:120,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.stbc>0?(a="↓",n=e.row.stbc.toFixed(4),i="green",r="green"):e.row.stbc<0?(a="↑",n=-e.row.stbc.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.stbc)}},{title:"防风固沙(km²)",align:"center",key:"ffgs",minWidth:120,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.ffgs>0?(a="↓",n=e.row.ffgs.toFixed(4),i="green",r="green"):e.row.ffgs<0?(a="↑",n=-e.row.ffgs.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.ffgs)}},{title:"其他生态功能(km²)",align:"center",key:"qtstgn",minWidth:180,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.qtstgn>0?(a="↓",n=e.row.qtstgn.toFixed(4),i="green",r="green"):e.row.qtstgn<0?(a="↑",n=-e.row.qtstgn.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.qtstgn)}},{title:"水土流失(km²)",align:"center",key:"stls",minWidth:120,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.stls>0?(a="↓",n=e.row.stls.toFixed(4),i="green",r="green"):e.row.stls<0?(a="↑",n=-e.row.stls.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.stls)}},{title:"土地沙化(km²)",align:"center",key:"tdsh",minWidth:120,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.tdsh>0?(a="↓",n=e.row.tdsh.toFixed(4),i="green",r="green"):e.row.tdsh<0?(a="↑",n=-e.row.tdsh.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#fff"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.tdsh)}},{title:"石漠化(km²)",align:"center",key:"smh",minWidth:120,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#fff";return e.row.smh>0?(a="↓",n=e.row.smh.toFixed(4),i="green",r="green"):e.row.smh<0?(a="↑",n=-e.row.smh.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.smh)}},{title:"其他敏感性(km²)",align:"center",key:"qtmgx",minWidth:140,render:function(t,e){if(2===e.index){var a="",n=0,i="#fff",r="#333";return e.row.qtmgx>0?(a="↓",n=e.row.qtmgx.toFixed(4),i="green",r="green"):e.row.qtmgx<0?(a="↑",n=-e.row.qtmgx.toFixed(4),i="red",r="red"):(a="",n=0,i="#fff",r="#333"),t("div",[t("span",{style:{marginRight:"5px",verticalAlign:"text-bottom",color:i}},a),t("span",{style:{fontSize:"14px",color:r}},n)])}return t("span",e.row.qtmgx)}}],tableData:[{year:1,syhy:0,swdyx:0,stbc:0,ffgs:0,qtstgn:0,stls:0,tdsh:0,smh:0,qtmgx:0},{year:0,syhy:0,swdyx:0,stbc:0,ffgs:0,qtstgn:0,stls:0,tdsh:0,smh:0,qtmgx:0}],map:null,periods:[]}},props:{imageId:""},mounted:function(){this.createMap()},computed:{compareTableData:function(){var t=this.tableData[0].syhy-this.tableData[1].syhy,e=this.tableData[0].swdyx-this.tableData[1].swdyx,a=this.tableData[0].stbc-this.tableData[1].stbc,n=this.tableData[0].ffgs-this.tableData[1].ffgs,i=this.tableData[0].qtstgn-this.tableData[1].qtstgn,r=this.tableData[0].stls-this.tableData[1].stls,s=this.tableData[0].tdsh-this.tableData[1].tdsh,o=this.tableData[0].smh-this.tableData[1].smh,c=this.tableData[0].qtmgx-this.tableData[1].qtmgx,l={year:"变化量",syhy:t,swdyx:e,stbc:a,ffgs:n,qtstgn:i,stls:r,tdsh:s,smh:o,qtmgx:c};return[].concat(W(this.tableData),[l])}},methods:{createMap:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,r,s,o,c,l=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["a"].MapView;case 2:return e=t.sent,t.next=5,C["a"].Map;case 5:return a=t.sent,t.next=8,C["a"].Basemap;case 8:return n=t.sent,t.next=11,C["a"].BasemapToggle;case 11:return t.sent,t.next=14,Object(S["i"])().then(function(t){return t});case 14:return i=t.sent,t.next=17,Object(S["h"])().then(function(t){return t});case 17:return t.sent,t.next=20,Object(S["g"])().then(function(t){return t});case 20:return r=t.sent,t.next=23,Object(S["j"])().then(function(t){return t});case 23:return s=t.sent,t.next=26,Object(S["f"])().then(function(t){return t});case 26:t.sent,new n({baseLayers:[i,r],title:"矢量地图",id:"myBasemap",thumbnailUrl:A.a}),o=new n({baseLayers:[i,s],title:"影像地图",id:"myBasemap1",thumbnailUrl:L.a}),this.map=new a({basemap:o}),this.map2=new a({basemap:o}),this.view=new e({map:this.map,container:"map1",center:D["a"].centerPoint,zoom:6}),this.view2=new e({map:this.map2,container:"map2",center:D["a"].centerPoint,zoom:6}),c=[],c.push(this.view),c.push(this.view2),this.view.on("mouse-wheel",function(t){window.setTimeout(function(){var t=l.view.extent;c&&c.forEach(function(e){e.extent=t})},1e3)}),this.view2.on("drag",function(t){var e=l.view.extent;c.forEach(function(t){t.extent=e})});case 38:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getVersionList:function(t){var e=this;u({data:{}}).then(function(t){t.data.data.forEach(function(t){t.version="第 "+t.version+" 版本"}),e.periods=t.data.data}).catch(function(){e.$Notice.error({title:"服务器错误"})})},redLineChange1:function(t){var e=this;f({data:{id:t}}).then(function(a){if("0000"===a.data.code){e.addFeatureLayer(a.data.data[0].service_url,e.map,e.view);for(var n=0;n<3;n++)e.$set(e.tableData,0,{year:3,syhy:0,swdyx:0,stbc:0,ffgs:0,qtstgn:0,stls:0,tdsh:0,smh:0,qtmgx:0});e.periods.forEach(function(a){a.id===t&&(e.tableData[0].year=a.name)}),a.data.data.forEach(function(t){switch(t.dtype){case"0101":e.tableData[0].syhy=t.area;break;case"0102":e.tableData[0].swdyx=t.area;break;case"0102":e.tableData[0].stbc=t.area;break;case"0103":e.tableData[0].ffgs=t.area;break;case"0104":e.tableData[0].qtstgn=t.area;break;case"0201":e.tableData[0].stls=t.area;break;case"0202":e.tableData[0].tdsh=t.area;break;case"0203":e.tableData[0].smh=t.area;break;case"0204":e.tableData[0].qtmgx=t.area;break;default:break}})}else e.$Notice.error({title:"获取红线数据失败"})})},redLineChange2:function(t){var e=this;f({data:{id:t}}).then(function(a){if("0000"===a.data.code){e.addFeatureLayer(a.data.data[0].service_url,e.map2,e.view2);for(var n=0;n<3;n++)e.$set(e.tableData,1,{year:3,syhy:0,swdyx:0,stbc:0,ffgs:0,qtstgn:0,stls:0,tdsh:0,smh:0,qtmgx:0});e.periods.forEach(function(a){a.id===t&&(e.tableData[1].year=a.name)}),a.data.data.forEach(function(t){switch(t.dtype){case"0101":e.tableData[1].syhy=t.area;break;case"0102":e.tableData[1].swdyx=t.area;break;case"0102":e.tableData[1].stbc=t.area;break;case"0103":e.tableData[1].ffgs=t.area;break;case"0104":e.tableData[1].qtstgn=t.area;break;case"0201":e.tableData[1].stls=t.area;break;case"0202":e.tableData[1].tdsh=t.area;break;case"0203":e.tableData[1].smh=t.area;break;case"0204":e.tableData[1].qtmgx=t.area;break;default:break}})}else e.$Notice.error({title:"获取红线数据失败"})})},addFeatureLayer:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,a,n){var i,r,s,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["a"].FeatureLayer;case 2:i=t.sent,r={type:"simple",symbol:{type:"simple-fill",color:[255,0,0,0],outline:{width:2,color:"red"}}},s=new i({url:e,renderer:r}),a?(a.add(s),s.on("layerview-create",function(t){n.extent=s.fullExtent.expand(1.4)})):(this.map.add(s),s.on("layerview-create",function(t){o.view.extent=s.fullExtent.expand(1.4)}));case 6:case"end":return t.stop()}},t,this)}));function e(e,a,n){return t.apply(this,arguments)}return e}(),addLayer:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e,a,n){var i,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["a"].MapImageLayer;case 2:i=t.sent,r=new i({url:e}),a?(a.add(r),r.on("layerview-create",function(t){n.extent=r.fullExtent.expand(1.4)})):(this.map.add(r),r.on("layerview-create",function(t){s.view.extent=r.fullExtent.expand(1.4)}));case 5:case"end":return t.stop()}},t,this)}));function e(e,a,n){return t.apply(this,arguments)}return e}()}},H=J,Q=(a("83d5"),Object(g["a"])(H,$,R,!1,null,"535af79e",null)),Z=Q.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-box"},[a("div",{staticClass:"viewDoms"},[a("Split",{staticStyle:{height:"100%"},style:{width:t.split?"100%":"calc(100% + 6px)",marginLeft:t.split?"0":"-6px"},attrs:{min:"400px",max:"480px"},model:{value:t.split,callback:function(e){t.split=e},expression:"split"}},[a("div",{staticClass:"splitPane",attrs:{slot:"left"},slot:"left"},[a("div",{ref:"referViewDiv",attrs:{id:"referViewDiv"}})]),a("div",{staticClass:"splitPane",attrs:{slot:"right"},slot:"right"},[a("div",{ref:"viewDiv",attrs:{id:"viewDiv"}})])])],1),a("p",{staticClass:"btns"},[a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$emit("signOut",!1)}}},[t._v("返回")])],1),a("div",{staticClass:"layerControl",attrs:{id:"layerControl"}},[a("button",{staticClass:"annoBtn",staticStyle:{"border-radius":"9px",display:"none"},on:{click:function(e){t.layerPanelStatus=!t.layerPanelStatus}}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.layerPanelStatus,expression:"layerPanelStatus"}],staticClass:"layerPanel"},[a("ul",[a("CheckboxGroup",{on:{"on-change":t.backSocialChange},model:{value:t.backSocial,callback:function(e){t.backSocial=e},expression:"backSocial"}},[a("li",{staticClass:"backLayer"},[a("Checkbox",{attrs:{label:"backLayer"}},[t._v(" ")]),a("p",{staticStyle:{"margin-left":"29px","margin-top":"-20px"},on:{click:function(e){t.backListStatus=!t.backListStatus}}},[t._v("\n                基年数据图层\n                "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.backListStatus,expression:"!backListStatus"}],staticStyle:{float:"right"}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.backListStatus,expression:"backListStatus"}],staticStyle:{float:"right"}},[a("i",{staticClass:"iconfont"},[t._v("")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.backListStatus,expression:"backListStatus"}],staticClass:"backListPanel"},[a("ul",[a("li",{directives:[{name:"show",rawName:"v-show",value:!t.backList.length,expression:"!backList.length"}]},[t._v("没有基年数据...")]),a("RadioGroup",{model:{value:t.selectBackId,callback:function(e){t.selectBackId=e},expression:"selectBackId"}},t._l(t.backList,function(e){return a("li",{key:e.ab001},[a("Radio",{attrs:{label:e.ab001}},[a("span",[t._v(t._s(e.ab008))])])],1)}),0)],1)])],1),1*t.$route.query.userType!==0?a("li",[a("Checkbox",{attrs:{label:"examLayer"}},[t._v(" ")]),t._v("批注图层")],1):t._e()])],1)])]),a("div",{staticClass:"layerControl",attrs:{id:"referLayerControl"}},[a("button",{staticClass:"annoBtn",staticStyle:{"border-radius":"10px"},on:{click:function(e){t.referPanelStatus=!t.referPanelStatus}}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.referPanelStatus,expression:"referPanelStatus"}],staticClass:"layerPanel"},[a("ul",[a("CheckboxGroup",{on:{"on-change":t.backSocialChangeRefer},model:{value:t.referbackSocial,callback:function(e){t.referbackSocial=e},expression:"referbackSocial"}},[a("li",{staticClass:"backLayer"},[a("Checkbox",{attrs:{label:"backLayer"}},[t._v(" ")]),a("p",{staticStyle:{"margin-left":"29px","margin-top":"-20px"},on:{click:function(e){t.referbackListStatus=!t.referbackListStatus}}},[t._v("\n                基年数据图层\n                "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.referbackListStatus,expression:"!referbackListStatus"}],staticStyle:{float:"right"}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.referbackListStatus,expression:"referbackListStatus"}],staticStyle:{float:"right"}},[a("i",{staticClass:"iconfont"},[t._v("")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.referbackListStatus,expression:"referbackListStatus"}],staticClass:"backListPanel"},[a("ul",[a("li",{directives:[{name:"show",rawName:"v-show",value:!t.backList.length,expression:"!backList.length"}]},[t._v("没有基年数据...")]),a("RadioGroup",{model:{value:t.referselectBackId,callback:function(e){t.referselectBackId=e},expression:"referselectBackId"}},t._l(t.backList,function(e){return a("li",{key:e.ab001},[a("Radio",{attrs:{label:e.ab001}},[a("span",[t._v(t._s(e.ab008))])])],1)}),0)],1)])],1)])],1)])]),a("div",{attrs:{id:"zoomIn"}},[a("button",{staticClass:"btnTools",on:{click:t.zoomIn}},[a("i",{staticClass:"iconfont"},[t._v("")])])]),a("div",{attrs:{id:"zoomOut"}},[a("button",{staticClass:"btnTools",on:{click:t.zoomOut}},[a("i",{staticClass:"iconfont"},[t._v("")])])]),a("div",{attrs:{id:"referZoomIn"}},[a("button",{staticClass:"btnTools",on:{click:t.zoomIn}},[a("i",{staticClass:"iconfont"},[t._v("")])])]),a("div",{attrs:{id:"referZoomOut"}},[a("button",{staticClass:"btnTools",on:{click:t.zoomOut}},[a("i",{staticClass:"iconfont"},[t._v("")])])]),a("div",{attrs:{id:"referBtn"}},[a("div",{staticClass:"tools",staticStyle:{padding:"1px","border-radius":"9px",display:"none"}},[a("button",{class:{active:t.referStatus},staticStyle:{"border-radius":"9px",outline:"none"},attrs:{title:"分屏"},on:{click:function(e){return e.stopPropagation(),t.referStateToggle(e)}}},[a("i",{staticClass:"iconfont"},[t._v("")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1*t.$route.query.userType!==3,expression:"$route.query.userType * 1 !==3"}],attrs:{id:"toolbar"}},[a("div",{staticClass:"tools",staticStyle:{display:"none"}},[1*t.$route.query.userType!==3?a("button",{attrs:{title:"保存"},on:{click:function(e){return e.stopPropagation(),t.IntersectError(1)}}},[a("i",{staticClass:"iconfont"},[t._v("")])]):t._e(),1*t.$route.query.userType===0||1*t.$route.query.userType===3||1*t.$route.query.userType===1?a("router-link",{attrs:{to:{name:"needDo"}}},[a("button",{attrs:{title:"返回"}},[a("i",{staticClass:"iconfont"},[t._v("")])])]):t._e(),1*t.$route.query.userType===2&&1*t.$route.query.personType===2?a("router-link",{attrs:{to:{name:"examDo"}}},[a("button",{attrs:{title:"返回"}},[a("i",{staticClass:"iconfont"},[t._v("")])])]):t._e(),1*t.$route.query.userType===2&&1*t.$route.query.personType===3?a("router-link",{staticStyle:{"margin-right":"10px"},attrs:{to:{name:"checkPage",query:{taskId:t.$route.query.taskId}}}},[a("button",{attrs:{title:"返回"}},[a("i",{staticClass:"iconfont"},[t._v("")])])]):t._e()],1)]),a("div",{attrs:{id:"orcharToolbar"}},[a("div",{staticClass:"tools"},[a("button",{class:{active:t.referChoiceStatus},attrs:{title:"选择"},on:{click:function(e){return e.stopPropagation(),t.referChoiceStateToggle(e)}}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("button",{attrs:{title:"将选中几何图形复制到业务图层"},on:{click:function(e){return e.stopPropagation(),t.copyClick(e)}}},[a("i",{staticClass:"iconfont"},[t._v("")])]),a("button",{attrs:{title:"将所有几何图形复制到业务图层"},on:{click:function(e){return e.stopPropagation(),t.loadClick(e)}}},[a("i",{staticClass:"iconfont"},[t._v("")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mergeModal,expression:"mergeModal"}],staticClass:"panel",attrs:{id:"mergeModal"}},[a("div",{staticClass:"attributeList"},[a("ul",t._l(t.originalSelectedGraphics,function(e,n){return a("li",{key:n,class:{attrLiActive:e.attributes.ObjectID===t.mergeObj.ObjectID,attrCopyActive:e.attributes.ObjectID===t.mergeObj.ObjectID},on:{click:function(a){return t.mergeChickList(e.attributes)}}},[a("span",[t._v("id：")]),a("span",[t._v(t._s(e.attributes.ObjectID))])])}),0)]),a("div",{staticClass:"attributeDetail"},[a("table",{staticClass:"tab",attrs:{border:"0",cellspacing:"1",cellpadding:"0"}},[t._m(0),a("tbody",t._l(t.mergeObj,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(t._f("nameToAlias")(n)))]),a("td",[t._v(t._s(e))])])}),0)])]),a("p",{staticStyle:{"text-align":"right"}},[a("button",{staticClass:"btn",class:{btnDisable:"{}"===JSON.stringify(t.mergeObj)},on:{click:t.mergeGeoms}},[t._v("融合")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.intersectModal,expression:"intersectModal"}],staticClass:"panel",attrs:{id:"intersectModal"}},[a("ul",[a("li",{directives:[{name:"show",rawName:"v-show",value:"intersect"===t.intersectType,expression:"intersectType === 'intersect'"}],on:{mouseover:function(e){return t.intersectAttrOver("left")},mouseout:t.intersectAttrOut,click:t.intersectGeoms}},[t._v("左切")]),a("li",{directives:[{name:"show",rawName:"v-show",value:"intersect"===t.intersectType,expression:"intersectType === 'intersect'"}],on:{mouseover:function(e){return t.intersectAttrOver("right")},mouseout:t.intersectAttrOut,click:t.intersectGeoms}},[t._v("右切")]),a("li",{directives:[{name:"show",rawName:"v-show",value:"intersect"===t.intersectType,expression:"intersectType === 'intersect'"}],class:{panelActive:"center"===t.intersectPanelType},on:{mouseover:function(e){return t.intersectAttrOver("center")},mouseout:t.intersectAttrOut,click:function(e){return t.openIntersectAttrPanel("center")}}},[t._v("交集")]),a("li",{directives:[{name:"show",rawName:"v-show",value:"intersect"===t.intersectType,expression:"intersectType === 'intersect'"}],class:{panelActive:"all"===t.intersectPanelType},on:{mouseover:function(e){return t.intersectAttrOver("all")},mouseout:t.intersectAttrOut,click:function(e){return t.openIntersectAttrPanel("all")}}},[t._v("切割")]),a("li",{directives:[{name:"show",rawName:"v-show",value:"contains"===t.intersectType,expression:"intersectType === 'contains'"}],on:{mouseover:function(e){return t.intersectAttrOver("contains")},mouseout:t.intersectAttrOut,click:t.intersectGeoms}},[t._v("抠图")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.intersectPanel,expression:"intersectPanel"}],staticClass:"panel",attrs:{id:"intersectPanel"}},[a("p",[t._v("请为交集部分选择属性模板：")]),a("div",{staticClass:"attributeList"},[a("ul",t._l(t.originalSelectedGraphics,function(e,n){return a("li",{key:n,class:{attrLiActive:e.attributes.ObjectID===t.intersectObj.ObjectID,attrCopyActive:e.attributes.ObjectID===t.intersectObj.ObjectID},on:{click:function(a){return t.intersectChickList(e.attributes)}}},[a("span",[t._v("id：")]),a("span",[t._v(t._s(e.attributes.ObjectID))])])}),0)]),a("div",{staticClass:"attributeDetail"},[a("table",{staticClass:"tab",attrs:{border:"0",cellspacing:"1",cellpadding:"0"}},[t._m(1),a("tbody",t._l(t.intersectObj,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(t._f("nameToAlias")(n)))]),a("td",[t._v(t._s(e))])])}),0)])]),a("p",{staticStyle:{"text-align":"right"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:"center"===t.intersectPanelType,expression:"intersectPanelType === 'center'"}],staticClass:"btn",class:{btnDisable:"{}"===JSON.stringify(t.intersectObj)},on:{click:function(e){return t.intersectGeoms("center")}}},[t._v("\n          交集\n        ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"all"===t.intersectPanelType,expression:"intersectPanelType === 'all'"}],staticClass:"btn",class:{btnDisable:"{}"===JSON.stringify(t.intersectObj)},on:{click:function(e){return t.intersectGeoms("all")}}},[t._v("\n          切割\n        ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.attributeStatus,expression:"attributeStatus"}],staticClass:"panel",attrs:{id:"attributePanel"}},[a("button",{staticClass:"btn",class:{btnDisable:"{}"===JSON.stringify(t.attributeCopy)},on:{click:t.attrCover}},[t._v("覆盖")]),a("div",{staticClass:"attributeList"},[a("p",{directives:[{name:"show",rawName:"v-show",value:!t.originalSelectedGraphics.length,expression:"!originalSelectedGraphics.length"}],staticStyle:{"text-align":"center","line-height":"80px"}},[t._v("请先选择几何")]),a("ul",t._l(t.originalSelectedGraphics,function(e,n){return a("li",{key:n,class:{attrLiActive:e.attributes.ObjectID===t.attributeObj.ObjectID,attrCopyActive:e.attributes.ObjectID===t.attributeCopy.ObjectID},on:{click:function(a){return t.attrChickList(e.attributes)}}},[a("span",[t._v("id：")]),a("span",[t._v(t._s(e.attributes.ObjectID))]),a("i",{staticClass:"iconfont",attrs:{title:"删除"},on:{click:function(a){return a.stopPropagation(),t.attrDelchoice(e.attributes.ObjectID)}}},[t._v("")]),a("i",{staticClass:"iconfont",class:{unActive:"{}"===JSON.stringify(t.attributeCopy)},attrs:{title:"粘贴"},on:{click:function(a){return a.stopPropagation(),t.attrPaste(e.attributes.ObjectID)}}},[t._v("")]),a("i",{staticClass:"iconfont",attrs:{title:"复制"},on:{click:function(a){return a.stopPropagation(),t.attrCopy(e.attributes)}}},[t._v("")])])}),0)]),a("div",{staticClass:"attributeDetail"},[a("button",{staticClass:"btn",class:{btnDisable:"{}"===JSON.stringify(t.attributeObj)},on:{click:t.attrEdit}},[t._v("编辑")]),a("button",{staticClass:"btn",class:{btnDisable:!("{}"!==JSON.stringify(t.attributeObj)&&t.attributeEdit)},on:{click:t.attrConserve}},[t._v("保存")]),a("table",{staticClass:"tab",attrs:{border:"0",cellspacing:"1",cellpadding:"0"}},[t._m(2),a("tbody",[a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("ObjectID")))]),a("td",{ref:"ObjectIDRef"})]),a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("name")))]),a("td",{directives:[{name:"show",rawName:"v-show",value:!t.attributeEdit,expression:"!attributeEdit"}],ref:"puctRef"}),t.attributeEdit?a("td",{ref:"typeRefName",staticStyle:{padding:"0"}},[a("Input",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:t.nameValue,callback:function(e){t.nameValue=e},expression:"nameValue"}})],1):t._e()]),a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("type")))]),a("td",{directives:[{name:"show",rawName:"v-show",value:!t.attributeEdit,expression:"!attributeEdit"}],ref:"typeRef"}),t.attributeEdit?a("td",{ref:"typeRefEdit",staticStyle:{padding:"0"}},[a("Select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:t.typeValue,callback:function(e){t.typeValue=e},expression:"typeValue"}},[a("Option",{attrs:{value:"农业用地"}},[t._v("农业用地")]),a("Option",{attrs:{value:"居民点"}},[t._v("居民点")]),a("Option",{attrs:{value:"工矿用地"}},[t._v("工矿用地")]),a("Option",{attrs:{value:"采石场"}},[t._v("采石场")]),a("Option",{attrs:{value:"能源设施"}},[t._v("能源设施")]),a("Option",{attrs:{value:"旅游设施"}},[t._v("旅游设施")]),a("Option",{attrs:{value:"交通设施"}},[t._v("交通设施")]),a("Option",{attrs:{value:"养殖场"}},[t._v("养殖场")]),a("Option",{attrs:{value:"道路"}},[t._v("道路")]),a("Option",{attrs:{value:"其他人工设施"}},[t._v("其他人工设施")])],1)],1):t._e()]),a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("region")))]),a("td",{directives:[{name:"show",rawName:"v-show",value:!t.attributeEdit,expression:"!attributeEdit"}],ref:"regionRef"}),t.attributeEdit?a("td",{ref:"regionRefEdit",staticStyle:{padding:"0"}},[a("Select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:t.regionValue,callback:function(e){t.regionValue=e},expression:"regionValue"}},[a("Option",{attrs:{value:"核心区"}},[t._v("核心区")]),a("Option",{attrs:{value:"缓冲区"}},[t._v("缓冲区")]),a("Option",{attrs:{value:"试验区"}},[t._v("试验区")])],1)],1):t._e()]),a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("position")))]),a("td",{directives:[{name:"show",rawName:"v-show",value:!t.attributeEdit,expression:"!attributeEdit"}],ref:"positionRef"}),t.attributeEdit?a("td",{ref:"positionRefEdit",staticStyle:{padding:"0"}},[a("Input",{attrs:{size:"small"},model:{value:t.positionValue,callback:function(e){t.positionValue=e},expression:"positionValue"}})],1):t._e()]),a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("area")))]),a("td",{ref:"areaRef"})]),a("tr",[a("td",[t._v(t._s(t._f("nameToAlias")("center")))]),a("td",{ref:"centerRef"})])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.annoStatus,expression:"annoStatus"}],staticClass:"panel",attrs:{id:"annoPanel"}},[a("div",{staticClass:"annoList"},[a("p",{directives:[{name:"show",rawName:"v-show",value:!t.changeData.length&&!t.pointData.length,expression:"!changeData.length && !pointData.length"}],staticStyle:{"text-align":"center","line-height":"80px"}},[t._v("暂无批注点")]),a("ul",[t._l(t.pointData,function(e,n){return a("li",{key:"point"+n,staticClass:"clr"},[a("i",{staticClass:"point",staticStyle:{background:"red"}}),e.attributes.annotat?a("p",{class:{attrActive:e.attributes.ObjectID===t.annoActive.attributes.ObjectID&&"point"===t.annoActive.attributes.type},on:{click:function(a){return t.pointAnnoLi(e,"point")}}},[t._v(t._s(e.attributes.annotat))]):t._e(),e.attributes.annotat?t._e():a("p",{class:{attrActive:e.attributes.ObjectID===t.annoActive.attributes.ObjectID&&"point"===t.annoActive.attributes.type},on:{click:function(a){return t.pointAnnoLi(e,"point")}}},[t._v(t._s(e.geometry.x)+","+t._s(e.geometry.y))]),a("span",{staticClass:"iconfont"},[1*t.$route.query.userType!==1?a("i",{staticClass:"icon",attrs:{title:"编辑"},on:{click:function(a){a.stopPropagation(),t.pointAnnoLi(e,"point"),t.editAnnotatLi(e)}}},[t._v("")]):t._e(),1*t.$route.query.userType!==1?a("i",{staticClass:"icon",attrs:{title:"删除"},on:{click:function(a){return a.stopPropagation(),t.annoDelete(e)}}},[t._v("")]):t._e(),1*t.$route.query.userType===1?a("i",{staticClass:"icon",attrs:{title:"确认修改"},on:{click:function(a){return a.stopPropagation(),t.editAnnoStatus(e)}}},[t._v("")]):t._e()]),e.attributes.ObjectID===t.annoActive.attributes.ObjectID&&"point"===t.annoActive.attributes.type&&t.listInputStatus?a("Input",{staticStyle:{margin:"5px 0 5px 20px",width:"calc(100% - 20px)"},attrs:{type:"textarea",rows:3,placeholder:"请填写批注"},model:{value:t.annoCon,callback:function(e){t.annoCon=e},expression:"annoCon"}}):t._e()],1)}),t._l(t.changeData,function(e,n){return a("li",{key:"change"+n,staticClass:"clr",on:{click:function(a){return t.pointAnnoLi(e,"change")}}},[a("i",{staticClass:"point",staticStyle:{background:"#19be6b"}}),e.attributes.annotat?a("p",{class:{attrActive:e.attributes.ObjectID===t.annoActive.attributes.ObjectID&&"change"===t.annoActive.attributes.type}},[t._v(t._s(e.attributes.annotat))]):t._e(),e.attributes.annotat?t._e():a("p",{class:{attrActive:e.attributes.ObjectID===t.annoActive.attributes.ObjectID&&"change"===t.annoActive.attributes.type}},[t._v(t._s(e.geometry.x)+","+t._s(e.geometry.y))])])})],2)]),1*t.$route.query.userType!==1?a("button",{staticClass:"btn",on:{click:t.addCnno}},[t._v("新增错误点")]):t._e()])])},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"50%"}},[t._v("属性")]),a("th",[t._v("值")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"50%"}},[t._v("属性")]),a("th",[t._v("值")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"50%"}},[t._v("属性")]),a("th",[t._v("值")])])])}],Y=a("1777"),tt=a("fa5ba"),et=a("138e"),at=a("d183"),nt=a("dcb2"),it=a("f3a7"),rt=a("dd71"),st=(a("91b2"),{name:"adjustmentMap",mixins:[Y["a"],tt["a"],nt["a"],it["a"],rt["a"],et["a"]],data:function(){return{map:{},view:{},layerCon:!1,type:"",orchardToolsStatus:!0,userType:0,configSocial:["orchardLayer","backLayer","examLayer"],featureData:[]}},computed:{},props:{},watch:{},mounted:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.createMap();case 2:return t.next=4,this.createReferMap();case 4:return t.next=6,this.addWidgets();case 6:return t.next=8,this.addAllToolLayers(this.map);case 8:return t.next=10,this.addReferToolLayers(this.refermap);case 10:return t.next=12,this.addTools();case 12:return this.view.ui.add(document.getElementById("referBtn"),"top-left"),this.view.ui.add(document.getElementById("layerControl"),"top-left"),this.referview.ui.add(document.getElementById("referLayerControl"),"top-left"),t.next=17,this.getBackList();case 17:return t.next=19,this.getGeoJson();case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{initCom:function(t){},getGeoJson:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addLayer:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var a,n,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["a"].MapImageLayer;case 2:a=t.sent,n=new a({url:e}),this.map.add(n),n.on("layerview-create",function(t){i.view.extent=n.fullExtent.expand(1.4)});case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),layerAddData:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=[{geometry:{spatialReference:at["a"].spatialReference,rings:[[[12594736.948163297,4340893.572568199],[13008108.397129422,4225932.282027324],[12932282.865070548,3731843.3311920734],[12391720.201037923,3912846.2141713235],[12589844.978353048,4321325.693327199],[12594736.948163297,4340893.572568199]]],type:"polygon"},attributes:{ObjectID:2,name:null,type:null,region:null,position:null,area:"16353431.46",center:"12699914°17′56.70″,4036368°27′6.77″"}}],this.map.findLayerById("orchardLayer").queryFeatures().then(function(t){a.map.findLayerById("orchardLayer").applyEdits({addFeatures:e})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),saveLayer0:function(){this.$emit("signOut",!1),this.$Notice.info({title:"保存成功！"})},addFeatureLayer:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(e){var a,n,i,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,C["a"].FeatureLayer;case 3:a=t.sent,n={type:"simple",symbol:{type:"simple-fill",color:[255,0,0,0],outline:{width:2,color:"red"}}},i=new a({url:e,renderer:n}),this.map.add(i),i.on("layerview-create",function(t){r.view.extent=i.fullExtent.expand(1.4)});case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}}),ot=st,ct=(a("410f"),a("7a7a"),Object(g["a"])(ot,K,X,!1,null,"332b8683",null)),lt=ct.exports,ut=a("cf45"),dt={name:"adjustment",data:function(){var t=this;return{queryData:{},tableHeight:window.innerHeight-190,columns1:[{title:"序号",key:"index",align:"center",minWidth:100,render:function(e,a){return e("span",a.index+(t.pageNum-1)*t.pageSize+1)}},{title:"红线调整审核数据名称",key:"name",align:"center",minWidth:200,ellipsis:!0,tooltip:!0},{title:"红线调整审核数据地址",key:"serviceUrl",align:"center",minWidth:200,ellipsis:!0,tooltip:!0},{title:"备注",key:"remark",align:"center",minWidth:200,ellipsis:!0,tooltip:!0},{title:"更新时间",key:"createDate",align:"center",width:120,render:function(t,e){return t("span",Object(ut["f"])(e.row.createDate))}},{title:"操作",key:"isBs",align:"center",width:150,render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small",icon:"ios-browsers"},style:{marginRight:"10px"},on:{click:function(){t.$refs.imageComparison.getVersionList(a.row.id),t.ComparisonActive=!0}}},"版本对比")])}}],data1:[],total:0,pageNum:1,pageSize:Math.floor((window.innerHeight-190)/48),loading:!1,addActive:!1,seeId:0,fileUrl:"",ComparisonActive:!1,imageId:0,MapActive:!1,mapId:0,auditModal:!1,auditData:{ck070:""},DataRule:{ck070:[{required:!0,message:"审核意见不能为空",trigger:"blur"}]}}},components:{QueryBox:s["a"],adjustmentAdd:w,MapView:q,imageComparison:Z,adjustmentMap:lt},computed:{queryFrom:function(){return[{type:1,field:"name",title:"红线调整审核数据名称"}]}},watch:{queryData:function(){this.getTableData()}},created:function(){this.getTableData()},mounted:function(){var t=this;window.addEventListener("resize",function(){t.tableHeight=window.innerHeight-320,t.pageSize=Math.floor((window.innerHeight-190)/48),t.getTableData()},!1)},methods:{getQueryData:function(t){this.queryData=t,this.getTableData()},signOuta:function(){this.MapActive=!1},getTableData:function(){var t=this;this.loading=!0,d({data:Object(r["a"])({pageSize:this.pageSize,pageNum:this.pageNum},this.queryData)}).then(function(e){t.data1=e.data.data.rows,t.total=e.data.data.total,t.loading=!1}).catch(function(){t.$Notice.error({title:"服务器错误"})})},pageChange:function(t){this.pageNum=t,this.getTableData()},infoDel:function(t){var e=this;h({data:{id:t}}).then(function(t){"0000"===t.data.code?(e.$Notice.success({title:"删除成功"}),1===e.data1.length&&e.pageNum>1&&(e.pageNum=e.pageNum-1),e.getTableData()):e.$Notice.error({title:t.data.msg})}).catch(function(){e.$Notice.error({title:"服务器错误"})})},signOut:function(t){this.addActive=t},getNewList:function(){this.getTableData(),this.pageNum=1},ComparisonSignOut:function(t){this.ComparisonActive=t},MapSignOut:function(t){this.MapActive=t},mapUrlData:function(t){this.MapActive=!0},handleAudit:function(){var t=this;this.$refs.statusForm.validate(function(e){e&&p({data:{ck001:t.data.ck001,ck067:"1",ck070:t.auditData.ck070}}).then(function(e){"0000"===e.data.code?(t.$Notice.success({title:"审核通过"}),t.handleCancel()):(t.$Notice.error({title:e.data.msg}),t.handleCancel())}).catch(function(){t.$Notice.error({title:"服务器错误"}),t.handleCancel()})})},handleCancel:function(){},cancelAudit:function(){var t=this;this.$refs.statusForm.validate(function(e){e&&p({data:{ck001:t.data.ck001,ck067:"2",ck070:t.auditData.ck070}}).then(function(e){"0000"===e.data.code?(t.$Notice.success({title:"审核拒绝"}),t.handleCancel()):(t.$Notice.error({title:e.data.msg}),t.handleCancel())}).catch(function(){t.$Notice.error({title:"服务器错误"}),t.handleCancel()})})}}},pt=dt,ft=(a("65a5"),Object(g["a"])(pt,n,i,!1,null,"14b1f470",null));e["default"]=ft.exports},"30fe":function(t,e,a){},"39f3":function(t,e,a){t.exports=a.p+"img/Basemapthumbnail1.5f8d6db2.png"},"410f":function(t,e,a){"use strict";var n=a("84b6"),i=a.n(n);i.a},"42e8":function(t,e,a){t.exports=a.p+"img/Basemapthumbnail.6dc37597.png"},"549b":function(t,e,a){"use strict";var n=a("d864"),i=a("63b6"),r=a("241e"),s=a("b0dc"),o=a("3702"),c=a("b447"),l=a("20fd"),u=a("7cd6");i(i.S+i.F*!a("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,i,d,p=r(t),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h,b=0,g=u(p);if(v&&(h=n(h,m>2?arguments[2]:void 0,2)),void 0==g||f==Array&&o(g))for(e=c(p.length),a=new f(e);e>b;b++)l(a,b,v?h(p[b],b):p[b]);else for(d=g.call(p),a=new f;!(i=d.next()).done;b++)l(a,b,v?s(d,h,[i.value,b],!0):i.value);return a.length=b,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},5968:function(t,e,a){},"65a5":function(t,e,a){"use strict";var n=a("8f7b"),i=a.n(n);i.a},"774e":function(t,e,a){t.exports=a("d2d5")},"7a7a":function(t,e,a){"use strict";var n=a("30fe"),i=a.n(n);i.a},"82bf":function(t,e,a){},"83d5":function(t,e,a){"use strict";var n=a("5968"),i=a.n(n);i.a},"84b6":function(t,e,a){},"8f7b":function(t,e,a){},"95d5":function(t,e,a){var n=a("40c3"),i=a("5168")("iterator"),r=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||r.hasOwnProperty(n(e))}},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},dc44:function(t,e,a){"use strict";var n=a("82bf"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-5242a3aa.2690ba51.js.map