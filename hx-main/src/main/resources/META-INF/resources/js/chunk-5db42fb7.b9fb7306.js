(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5db42fb7"],{"0987":function(t,e,n){},"11e9":function(t,e,n){var o=n("52a7"),r=n("4630"),i=n("6821"),a=n("6a99"),s=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=i(t),e=a(e,!0),c)try{return u(t,e)}catch(n){}if(s(t,e))return r(!o.f.call(t,e),t[e])}},"175a":function(t,e,n){},"36bd":function(t,e,n){"use strict";var o=n("4bf8"),r=n("77f1"),i=n("9def");t.exports=function(t){var e=o(this),n=i(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:r(c,n);while(u>s)e[s++]=t;return e}},"3e60":function(t,e,n){"use strict";var o=n("0987"),r=n.n(o);r.a},"4b4b":function(t,e,n){},"54eb":function(t,e,n){t.exports=n.p+"img/locked.700b75ab.png"},"5dbc":function(t,e,n){var o=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(t,i),t}},"5f87":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var o=n("a78e"),r=n.n(o),i="token";function a(){return r.a.get(i)}function s(){return r.a.remove(i)}},"6c7b":function(t,e,n){var o=n("5ca1");o(o.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"8b97":function(t,e,n){var o=n("d3f4"),r=n("cb7c"),i=function(t,e){if(r(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},9093:function(t,e,n){var o=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},a209:function(t,e,n){t.exports=n.p+"img/user.b2fdd610.png"},a21f:function(t,e,n){var o=n("584a"),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},a78e:function(t,e,n){var o,r;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(i){var a=!1;if(o=i,r="function"===typeof o?o.call(e,n,e,t):o,void 0===r||(t.exports=r),a=!0,t.exports=i(),a=!0,!a){var s=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=s,c}}})(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function e(n){function o(e,r,i){var a;if("undefined"!==typeof document){if(arguments.length>1){if(i=t({path:"/"},o.defaults,i),"number"===typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(g){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u]));return document.cookie=e+"="+r+c}e||(a={});for(var d=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,l=0;l<d.length;l++){var p=d[l].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=p[0].replace(f,decodeURIComponent);if(m=n.read?n.read(m,h):n(m,h)||m.replace(f,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(g){}if(e===h){a=m;break}e||(a[h]=m)}catch(g){}}return a}}return o.set=o,o.get=function(t){return o.call(o,t)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(e,n){o(e,"",t(n,{expires:-1}))},o.withConverter=e,o}return e(function(){})})},aa77:function(t,e,n){var o=n("5ca1"),r=n("be13"),i=n("79e5"),a=n("fdef"),s="["+a+"]",c="​",u=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),f=function(t,e,n){var r={},s=i(function(){return!!a[t]()||c[t]()!=c}),u=r[t]=s?e(l):a[t];n&&(r[n]=u),o(o.P+o.F*s,"String",r)},l=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(d,"")),t};t.exports=f},abe4:function(t,e,n){"use strict";var o=n("4b4b"),r=n.n(o);r.a},b775:function(t,e,n){"use strict";var o=n("795b"),r=n.n(o),i=n("bc3a"),a=n.n(i),s=(n("c0d6"),n("e069"),n("5f87")),c=n("a78e"),u=n.n(c),d=a.a.create({baseURL:"/epr/api/",timeout:5e5});d.interceptors.request.use(function(t){return t.headers["token"]=Object(s["a"])(),t.headers["uuid"]=u.a.get("uuid"),t},function(t){console.log(t),r.a.reject(t)}),d.interceptors.response.use(function(t){var e=t.data;return"2111"===e.code&&(Object(s["b"])("token"),location.reload()),t},function(t){return console.log("err"+t),r.a.reject(t)}),e["a"]=d},c5f6:function(t,e,n){"use strict";var o=n("7726"),r=n("69a8"),i=n("2d95"),a=n("5dbc"),s=n("6a99"),c=n("79e5"),u=n("9093").f,d=n("11e9").f,f=n("86cc").f,l=n("aa77").trim,p="Number",m=o[p],h=m,g=m.prototype,b=i(n("2aeb")(g))==p,v="trim"in String.prototype,C=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():l(e,3);var n,o,r,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+e}for(var a,c=e.slice(2),u=0,d=c.length;u<d;u++)if(a=c.charCodeAt(u),a<48||a>r)return NaN;return parseInt(c,o)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(b?c(function(){g.valueOf.call(n)}):i(n)!=p)?a(new h(C(e)),n,m):C(e)};for(var y,x=n("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;x.length>N;N++)r(h,y=x[N])&&!r(m,y)&&f(m,y,d(h,y));m.prototype=g,g.constructor=m,n("2aba")(o,p,m)}},d7a1:function(t,e,n){"use strict";var o=n("175a"),r=n.n(o);r.a},ede4:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"body"}},[o("div",{attrs:{id:"content"}},[o("div",{staticClass:"login-box",staticStyle:{position:"relative"}},[t._m(0),o("div",{staticClass:"login-box-left"},[o("Form",{ref:"loginForm",attrs:{model:t.loginData,rules:t.loginRules,"label-position":"top",id:"loginForm"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}}},[o("FormItem",{staticClass:"fromItems",attrs:{prop:"username"}},[o("i",[o("img",{attrs:{src:n("a209"),alt:""}})]),o("Input",{attrs:{size:"large",type:"text",placeholder:"请输入用户名",icon:""},model:{value:t.loginData.username,callback:function(e){t.$set(t.loginData,"username",e)},expression:"loginData.username"}})],1),o("FormItem",{staticClass:"fromItems",attrs:{prop:"password"}},[o("i",{staticClass:"locked"},[o("img",{attrs:{src:n("54eb"),alt:""}})]),o("Input",{attrs:{size:"large",type:"password",placeholder:"请输入密码",icon:""},model:{value:t.loginData.password,callback:function(e){t.$set(t.loginData,"password",e)},expression:"loginData.password"}})],1),o("FormItem",{staticClass:"verificationCode_box",attrs:{prop:"codetest"}},[o("Input",{staticClass:"verificationCode_text",attrs:{size:"large",type:"text",placeholder:"请输入验证码"},model:{value:t.loginData.codetest,callback:function(e){t.$set(t.loginData,"codetest",e)},expression:"loginData.codetest"}}),o("div",{staticClass:"verificationCode"},[o("Codetest",{ref:"codetest",on:{getCodetest:t.getCodetest}})],1)],1),o("FormItem",{staticClass:"fromItems fromBtns",staticStyle:{"margin-top":"20px"}},[o("Checkbox",[t._v("记住密码")]),o("Button",{ref:"submit",attrs:{size:"large",long:"",type:"primary"},on:{click:t.handleSubmit}},[t._v("登录")])],1)],1)],1)])]),t._m(1)])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[o("img",{attrs:{src:n("f4b3"),alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},[n("p",[n("span",[t._v("Copyright © 安徽省生态环境厅  版权所有")]),n("span",[t._v("技术支持单位：生态环境部卫星环境应用中心")])])])}],i=n("f499"),a=n.n(i),s=n("a78e"),c=n.n(s),u=n("b775"),d=function(t){return Object(u["a"])({url:"/sys/login/check",method:"post",data:t})},f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"code",on:{click:t.refreshCode}},[n("SIdentify",{attrs:{identifyCode:t.identifyCode,fontSizeMin:30,fontSizeMax:40,backgroundColorMin:200,backgroundColorMax:220,dotColorMin:200,dotColorMax:240}})],1)},l=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-canvas"},[n("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},m=[],h=(n("6c7b"),n("c5f6"),{name:"Identify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:16},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:75},contentHeight:{type:Number,default:40}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var n=this.randomNum(t,e),o=this.randomNum(t,e),r=this.randomNum(t,e);return"rgb("+n+","+o+","+r+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(e,this.identifyCode[n],n);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var o=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),r=this.randomNum(this.fontSizeMax,this.contentHeight-5),i=this.randomNum(-10,10);t.translate(o,r),t.rotate(i*Math.PI/180),t.fillText(e,0,0),t.rotate(-i*Math.PI/180),t.translate(-o,-r)},drawLine:function(t){for(var e=0;e<3;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<20;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),g=h,b=(n("d7a1"),n("2877")),v=Object(b["a"])(g,p,m,!1,null,"7e57d56b",null),C=v.exports,y={name:"Codetest",data:function(){return{identifyCodes:"1234567890",identifyCode:""}},components:{SIdentify:C},mounted:function(){this.refreshCode()},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var n=0;n<e;n++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];this.$emit("getCodetest",this.identifyCode)}}},x=y,N=(n("abe4"),Object(b["a"])(x,f,l,!1,null,"4266efbd",null)),I=N.exports,w={name:"Login",data:function(){var t=this,e=function(e,n,o){n!==t.loginData.verificationCode?o(new Error("验证码错误")):o()};return{loginData:{username:"",password:"",verificationCode:""},loginRules:{username:[{required:!0,message:"请填写手机号/邮箱/用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],codetest:[{required:!0,message:"请填写验证码",trigger:"blur"},{validator:e,trigger:"blur"}]}}},components:{Codetest:I},methods:{getCodetest:function(t){this.loginData.verificationCode=t},handleSubmit:function(){var t=this;this.$refs.loginForm.validate(function(e){e&&d({validate:!0,data:{username:t.loginData.username,password:t.loginData.password,type:0}}).then(function(e){t.$refs.codetest.refreshCode(),"0000"===e.data.code?(t.$store.commit("setloginInfor",e.data.data),sessionStorage.removeItem("loginInfo"),sessionStorage.setItem("loginInfo",a()(e.data.data)),c.a.set("token",e.data.data.token),c.a.set("uuid",e.data.data.uuid),t.$router.push({name:"dataCenter"})):t.$Notice.error({title:e.data.msg})}).catch(function(){t.$Notice.error({title:"服务器错误"})})})}},created:function(){this.$store.commit("setloginInfor",{}),sessionStorage.removeItem("loginInfo")}},k=w,S=(n("3e60"),Object(b["a"])(k,o,r,!1,null,"27c07882",null));e["default"]=S.exports},f499:function(t,e,n){t.exports=n("a21f")},f4b3:function(t,e,n){t.exports=n.p+"img/title1.811f89aa.png"},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-5db42fb7.b9fb7306.js.map