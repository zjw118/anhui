(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-603010e8"],{"014b":function(t,e,a){"use strict";var n=a("e53d"),i=a("07e3"),s=a("8e60"),r=a("63b6"),o=a("9138"),c=a("ebfd").KEY,l=a("294c"),u=a("dbdb"),d=a("45f2"),f=a("62a0"),p=a("5168"),h=a("ccb9"),m=a("6718"),g=a("47ee"),b=a("9003"),k=a("e4ae"),v=a("f772"),y=a("36c3"),w=a("1bc3"),I=a("aebd"),D=a("a159"),x=a("0395"),E=a("bf0b"),L=a("d9f6"),O=a("c3a1"),S=E.f,A=L.f,$=x.f,j=n.Symbol,T=n.JSON,N=T&&T.stringify,P="prototype",_=p("_hidden"),C=p("toPrimitive"),F={}.propertyIsEnumerable,M=u("symbol-registry"),z=u("symbols"),B=u("op-symbols"),R=Object[P],H="function"==typeof j,q=n.QObject,W=!q||!q[P]||!q[P].findChild,Q=s&&l(function(){return 7!=D(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,a){var n=S(R,e);n&&delete R[e],A(t,e,a),n&&t!==R&&A(R,e,n)}:A,J=function(t){var e=z[t]=D(j[P]);return e._k=t,e},G=H&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},K=function(t,e,a){return t===R&&K(B,e,a),k(t),e=w(e,!0),k(a),i(z,e)?(a.enumerable?(i(t,_)&&t[_][e]&&(t[_][e]=!1),a=D(a,{enumerable:I(0,!1)})):(i(t,_)||A(t,_,I(1,{})),t[_][e]=!0),Q(t,e,a)):A(t,e,a)},U=function(t,e){k(t);var a,n=g(e=y(e)),i=0,s=n.length;while(s>i)K(t,a=n[i++],e[a]);return t},V=function(t,e){return void 0===e?D(t):U(D(t),e)},Y=function(t){var e=F.call(this,t=w(t,!0));return!(this===R&&i(z,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,_)&&this[_][t])||e)},X=function(t,e){if(t=y(t),e=w(e,!0),t!==R||!i(z,e)||i(B,e)){var a=S(t,e);return!a||!i(z,e)||i(t,_)&&t[_][e]||(a.enumerable=!0),a}},Z=function(t){var e,a=$(y(t)),n=[],s=0;while(a.length>s)i(z,e=a[s++])||e==_||e==c||n.push(e);return n},tt=function(t){var e,a=t===R,n=$(a?B:y(t)),s=[],r=0;while(n.length>r)!i(z,e=n[r++])||a&&!i(R,e)||s.push(z[e]);return s};H||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(a){this===R&&e.call(B,a),i(this,_)&&i(this[_],t)&&(this[_][t]=!1),Q(this,t,I(1,a))};return s&&W&&Q(R,t,{configurable:!0,set:e}),J(t)},o(j[P],"toString",function(){return this._k}),E.f=X,L.f=K,a("6abf").f=x.f=Z,a("355d").f=Y,a("9aa9").f=tt,s&&!a("b8e3")&&o(R,"propertyIsEnumerable",Y,!0),h.f=function(t){return J(p(t))}),r(r.G+r.W+r.F*!H,{Symbol:j});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;et.length>at;)p(et[at++]);for(var nt=O(p.store),it=0;nt.length>it;)m(nt[it++]);r(r.S+r.F*!H,"Symbol",{for:function(t){return i(M,t+="")?M[t]:M[t]=j(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),r(r.S+r.F*!H,"Object",{create:V,defineProperty:K,defineProperties:U,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&r(r.S+r.F*(!H||l(function(){var t=j();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){var e,a,n=[t],i=1;while(arguments.length>i)n.push(arguments[i++]);if(a=e=n[1],(v(e)||void 0!==t)&&!G(t))return b(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!G(e))return e}),n[1]=e,N.apply(T,n)}}),j[P][C]||a("35e8")(j[P],C,j[P].valueOf),d(j,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},"0395":function(t,e,a){var n=a("36c3"),i=a("6abf").f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return i(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?o(t):i(n(t))}},"062a":function(t,e,a){},"268f":function(t,e,a){t.exports=a("fde4")},"27c0":function(t,e,a){},"32a6":function(t,e,a){var n=a("241e"),i=a("c3a1");a("ce7e")("keys",function(){return function(t){return i(n(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"39f3":function(t,e,a){t.exports=a.p+"img/Basemapthumbnail1.5f8d6db2.png"},"3c7b":function(t,e,a){"use strict";var n=a("8681"),i=a.n(n);i.a},"42e8":function(t,e,a){t.exports=a.p+"img/Basemapthumbnail.6dc37597.png"},"454f":function(t,e,a){a("46a7");var n=a("584a").Object;t.exports=function(t,e,a){return n.defineProperty(t,e,a)}},"46a7":function(t,e,a){var n=a("63b6");n(n.S+n.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"47ee":function(t,e,a){var n=a("c3a1"),i=a("9aa9"),s=a("355d");t.exports=function(t){var e=n(t),a=i.f;if(a){var r,o=a(t),c=s.f,l=0;while(o.length>l)c.call(t,r=o[l++])&&e.push(r)}return e}},6718:function(t,e,a){var n=a("e53d"),i=a("584a"),s=a("b8e3"),r=a("ccb9"),o=a("d9f6").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:r.f(t)})}},6722:function(t,e,a){"use strict";var n=a("062a"),i=a.n(n);i.a},"6abf":function(t,e,a){var n=a("e6f3"),i=a("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},"6df0":function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"e",function(){return r}),a.d(e,"g",function(){return o}),a.d(e,"a",function(){return c}),a.d(e,"c",function(){return l}),a.d(e,"h",function(){return u}),a.d(e,"f",function(){return d});var n=a("b775"),i=function(t){return Object(n["a"])({url:"/task/listTask",method:"post",data:t})},s=function(t){return Object(n["a"])({url:"/task/ledgerSelect",method:"post",data:t})},r=function(t){return Object(n["a"])({url:"/task/insertTask",method:"post",data:t})},o=function(t){return Object(n["a"])({url:"/task/updateTask",method:"post",data:t})},c=function(t){return Object(n["a"])({url:"/task/deleteTask",method:"post",data:t})},l=function(t){return Object(n["a"])({url:"/task/getTaskById",method:"post",data:t})},u=function(t){return Object(n["a"])({url:"/user/listUser",method:"post",data:t})},d=function(t){return Object(n["a"])({url:"/checkPoint/sharePoint",method:"post",data:t})}},"784d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tablet"}},[a("div",{staticClass:"queryBox"},[a("QueryBox",{ref:"getQuery",staticStyle:{width:"calc(100% - 75px)"},attrs:{formArr:t.queryFrom},on:{query:t.getQueryData}}),a("div",{staticClass:"queryBtns"},[a("Button",{staticClass:"btn-add",attrs:{type:"success",size:"small",icon:"md-add"},on:{click:function(e){e.stopPropagation(),t.$refs.taskAdd.taskBuild=!0}}},[t._v("新建")])],1)],1),a("div",{staticClass:"content_box"},[a("div",[a("Table",{ref:"multipleTable",attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns1,data:t.data1,"highlight-row":"","max-height":t.tableHeight},on:{"on-selection-change":t.handleSelectionChange}}),a("div",{staticClass:"page_box"},[a("Page",{ref:"pages",attrs:{total:t.total,"page-size":t.pageSize,current:t.pageNum,"show-total":""},on:{"update:current":function(e){t.pageNum=e},"on-change":t.pageChange}})],1)],1)]),a("taskAdd",{ref:"taskAdd",on:{getTableData:t.getClearQueryData}}),a("taskEdit",{ref:"taskEdit",attrs:{data:t.editDefaultData},on:{getTableData:t.getTableList}}),a("IssueList",{ref:"issueList",attrs:{taskIdArr:t.selectRow}}),a("div",{staticClass:"spotsTable",class:{addActive:t.addActive}},[a("spotsTable",{ref:"spotsTable",attrs:{seeId:t.spotsSeeId},on:{signOut:t.signOut}})],1)],1)},i=[],s=a("cebc"),r=(a("7f7f"),a("ac6a"),a("aff7")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"taskAdd"}},[a("Modal",{attrs:{title:"新建核查任务"},on:{"on-cancel":t.reset},model:{value:t.taskBuild,callback:function(e){t.taskBuild=e},expression:"taskBuild"}},[a("Form",{ref:"taskAddForm",staticStyle:{padding:"0 20%"},attrs:{model:t.taskAddData,rules:t.taskAddRuleValidate,"label-width":85}},[a("FormItem",{attrs:{prop:"cl002",label:"任务名称："}},[a("Input",{attrs:{placeholder:"请输入任务名称",size:"default"},model:{value:t.taskAddData.cl002,callback:function(e){t.$set(t.taskAddData,"cl002","string"===typeof e?e.trim():e)},expression:"taskAddData.cl002"}})],1),a("FormItem",{attrs:{prop:"cl004",label:"任务类型："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择任务类型"},model:{value:t.taskAddData.cl004,callback:function(e){t.$set(t.taskAddData,"cl004","string"===typeof e?e.trim():e)},expression:"taskAddData.cl004"}},[a("i-option",{attrs:{value:"0"}},[t._v("巡护")]),a("i-option",{attrs:{value:"1"}},[t._v("核查")])],1)],1),a("FormItem",{attrs:{prop:"cl010",label:"任务年份："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{size:"default",editable:!1,type:"year",placement:"bottom-end",placeholder:"请选择任务年份"},model:{value:t.taskAddData.cl010,callback:function(e){t.$set(t.taskAddData,"cl010","string"===typeof e?e.trim():e)},expression:"taskAddData.cl010"}})],1),a("FormItem",{attrs:{prop:"cl011",label:"任务级别："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择任务级别"},model:{value:t.taskAddData.cl011,callback:function(e){t.$set(t.taskAddData,"cl011","string"===typeof e?e.trim():e)},expression:"taskAddData.cl011"}},[a("i-option",{attrs:{value:"1"}},[t._v("国家级")]),a("i-option",{attrs:{value:"2"}},[t._v("市级")])],1)],1),a("FormItem",{attrs:{prop:"ledgerIdList",label:"任务台账："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择任务台账"},model:{value:t.taskAddData.ledgerIdList,callback:function(e){t.$set(t.taskAddData,"ledgerIdList","string"===typeof e?e.trim():e)},expression:"taskAddData.ledgerIdList"}},t._l(t.ledgerList,function(e){return a("i-option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("FormItem",{attrs:{prop:"cl009",label:"任务描述："}},[a("i-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入任务描述"},model:{value:t.taskAddData.cl009,callback:function(e){t.$set(t.taskAddData,"cl009","string"===typeof e?e.trim():e)},expression:"taskAddData.cl009"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.taskAddSubmit}},[t._v("确定")])],1)],1)],1)},c=[],l=(a("96cf"),a("3b8d")),u=a("cf45"),d=a("6df0"),f={name:"TaskAdd",data:function(){return{ledgerList:[],taskAddData:{},taskAddRuleValidate:{cl002:[{required:!0,message:"任务名称必须填写",trigger:"blur"}],ledgerIdList:[{required:!0,message:"任务台账必须选择",trigger:"change",type:"number"}],cl004:[{required:!0,message:"任务类型必须选择",trigger:"change",type:"string"}]},taskBuild:!1}},mounted:function(){this.getLedgerList()},methods:{getLedgerList:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["b"])({data:{}}).then(function(t){"0000"===t.data.code&&t.data.data.data.forEach(function(t,a){e.ledgerList.push({value:t.id,label:t.name})})}).catch(function(){e.$Notice.error({title:"服务器错误"})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),taskAddSubmit:function(){var t=this;this.$refs.taskAddForm.validate(function(e){if(e){var a=[];a.push(t.taskAddData.ledgerIdList),Object(d["e"])({data:{cl002:t.taskAddData.cl002,cl004:t.taskAddData.cl004,cl010:Object(u["f"])(t.taskAddData.cl010),ledgerIdList:a,cl011:t.taskAddData.cl011,cl009:t.taskAddData.cl009}}).then(function(e){"0000"===e.data.code?(t.$Notice.success({title:"新建核查任务成功"}),t.taskBuild=!1,t.taskAddData={},t.reset(),t.$emit("getTableData")):t.$Message.error(e.data.msg)}).catch(function(){t.$Notice.error({title:"服务器错误"})})}})},reset:function(){this.taskAddData={cl002:"",cl004:"",cl010:"",ledgerIdList:"",cl011:"",cl009:""},this.$refs.taskAddForm.resetFields()}}},p=f,h=a("2877"),m=Object(h["a"])(p,o,c,!1,null,"068a6198",null),g=m.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"taskEdit"}},[a("Modal",{attrs:{title:"修改核查任务"},model:{value:t.taskEdit,callback:function(e){t.taskEdit=e},expression:"taskEdit"}},[a("Form",{ref:"taskEditForm",staticStyle:{padding:"0 20%"},attrs:{model:t.taskEditData,rules:t.taskEditRule,"label-width":85}},[a("FormItem",{staticStyle:{display:"none"},attrs:{prop:"cl001",label:"ID："}},[a("Input",{model:{value:t.taskEditData.cl001,callback:function(e){t.$set(t.taskEditData,"cl001","string"===typeof e?e.trim():e)},expression:"taskEditData.cl001"}})],1),a("FormItem",{attrs:{prop:"cl002",label:"任务名称："}},[a("Input",{attrs:{placeholder:"请输入任务名称",size:"default"},model:{value:t.taskEditData.cl002,callback:function(e){t.$set(t.taskEditData,"cl002","string"===typeof e?e.trim():e)},expression:"taskEditData.cl002 "}})],1),a("FormItem",{attrs:{prop:"cl004",label:"任务类型："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择任务类型"},model:{value:t.taskEditData.cl004,callback:function(e){t.$set(t.taskEditData,"cl004","string"===typeof e?e.trim():e)},expression:"taskEditData.cl004"}},[a("i-option",{attrs:{value:"0"}},[t._v("巡护")]),a("i-option",{attrs:{value:"1"}},[t._v("核查")])],1)],1),a("FormItem",{attrs:{prop:"cl010",label:"任务年份："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{size:"default",type:"year",editable:!1,placement:"bottom-end",placeholder:"请选择任务年份"},model:{value:t.taskEditData.cl010,callback:function(e){t.$set(t.taskEditData,"cl010","string"===typeof e?e.trim():e)},expression:"taskEditData.cl010"}})],1),a("FormItem",{attrs:{prop:"cl011",label:"任务级别："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择任务级别"},model:{value:t.taskEditData.cl011,callback:function(e){t.$set(t.taskEditData,"cl011","string"===typeof e?e.trim():e)},expression:"taskEditData.cl011"}},[a("i-option",{attrs:{value:"1"}},[t._v("国家级")]),a("i-option",{attrs:{value:"2"}},[t._v("市级")])],1)],1),a("FormItem",{attrs:{prop:"ledgerIdList",label:"任务台账："}},[a("i-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择任务台账"},model:{value:t.taskEditData.ledgerIdList,callback:function(e){t.$set(t.taskEditData,"ledgerIdList","string"===typeof e?e.trim():e)},expression:"taskEditData.ledgerIdList"}},t._l(t.editLedgerList,function(e){return a("i-option",{attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("FormItem",{attrs:{prop:"cl009",label:"任务描述："}},[a("i-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入任务描述"},model:{value:t.taskEditData.cl009,callback:function(e){t.$set(t.taskEditData,"cl009","string"===typeof e?e.trim():e)},expression:"taskEditData.cl009"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.taskEditSubmit}},[t._v("确定")])],1)],1)],1)},k=[],v={name:"Taskedit",data:function(){return{taskEditRule:{cl002:[{required:!0,message:"任务名称必须填写",trigger:"blur"}],ledgerIdList:[{required:!0,message:"任务台账必须选择",trigger:"change",type:"number"}],cl004:[{required:!0,message:"任务类型必须选择",trigger:"change",type:"string"}]},taskEdit:!1,taskEditData:{},editLedgerList:[]}},props:{data:{}},watch:{data:function(){this.dataHandle()}},created:function(){this.getLedgerList()},methods:{getLedgerList:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["b"])({data:{}}).then(function(t){"0000"===t.data.code&&t.data.data.data.forEach(function(t,a){e.editLedgerList.push({value:t.id,label:t.name})})}).catch(function(){e.$Notice.error({title:"服务器错误"})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),dataHandle:function(){this.taskEditData.cl001=this.data.cl001,this.taskEditData.cl002=this.data.cl002,this.taskEditData.cl010=this.data.cl010,this.taskEditData.cl009=this.data.cl009;var t=this.data.rlhdGroupList,e=[];t&&t.length>0&&t.forEach(function(t,a){e.push(t.id)}),this.$set(this.taskEditData,"ledgerIdList",e[0]),this.$set(this.taskEditData,"cl004",String(this.data.cl004)),this.$set(this.taskEditData,"cl011",String(this.data.cl011))},taskEditSubmit:function(){var t=this;this.$refs.taskEditForm.validate(function(e){if(e){var a=[];a.push(t.taskEditData.ledgerIdList),Object(d["g"])({data:{cl001:t.taskEditData.cl001,cl002:t.taskEditData.cl002,cl010:Object(u["f"])(t.taskEditData.cl010),ledgerIdList:a,cl009:t.taskEditData.cl009,cl004:t.taskEditData.cl004,cl011:t.taskEditData.cl011}}).then(function(e){"0000"===e.data.code?(t.$Notice.success({title:"修改核查任务成功"}),t.$emit("getTableData"),t.taskEdit=!1,t.taskEditData={},t.reset()):t.$Message.error(e.data.msg)}).catch(function(){t.$Notice.error({title:"服务器错误"})})}})},reset:function(){this.taskEditData={cl003:"",cl002:"",cl010:"",ledgerIdList:"",cl009:"",cl004:"",cl011:""},this.$refs.taskEditForm.resetFields()}}},y=v,w=Object(h["a"])(y,b,k,!1,null,"19e0c87b",null),I=w.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"issueList"}},[a("Modal",{attrs:{id:"taskIssueModal",title:"下发人员列表",loading:t.modalIssueLoading},on:{"on-cancel":t.handleCancel},model:{value:t.issue,callback:function(e){t.issue=e},expression:"issue"}},[a("Form",{ref:"formInline",staticClass:"formInline",attrs:{inline:"","label-width":75,model:t.formInline}},[a("FormItem",{attrs:{label:"真实姓名："}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"请输入用户名称"},model:{value:t.formInline.sa019,callback:function(e){t.$set(t.formInline,"sa019",e)},expression:"formInline.sa019"}})],1),a("FormItem",{attrs:{label:"手机号："}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"请输入手机号"},model:{value:t.formInline.sa012,callback:function(e){t.$set(t.formInline,"sa012",e)},expression:"formInline.sa012"}})],1),a("FormItem",{staticClass:"ml20",attrs:{"label-width":0}},[a("Button",{staticClass:"mr10",attrs:{type:"primary",size:"small",icon:"ios-search"},on:{click:function(e){return e.stopPropagation(),t.getSearchIssueList(e)}}},[t._v("查询")]),a("Button",{attrs:{type:"primary",size:"small",icon:"md-refresh"},on:{click:function(e){return e.stopPropagation(),t.cleardata(e)}}},[t._v("重置")])],1)],1),a("div",[a("Table",{ref:"IssueMultipleTable",attrs:{border:"",stripe:"",loading:t.IssueLoading,columns:t.IssueColumns1,data:t.IssueData,"highlight-row":"","max-height":t.IssueTableHeight},on:{"on-selection-change":t.handleIssueSelectionChange}}),a("div",{staticClass:"page_box"},[a("Page",{ref:"IssuePages",attrs:{total:t.IssueTotal,"page-size":t.IssuePageSize,current:t.IssuePageNum,"show-total":""},on:{"update:current":function(e){t.IssuePageNum=e},"on-change":t.IssuePageChange}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{staticClass:"mr10",attrs:{type:"text"},on:{click:t.handleCancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.handleIssueTask}},[t._v("下发")])],1)],1)],1)},x=[],E={name:"IssueList",data:function(){var t=this;return{issue:!1,modalIssueLoading:!1,formInline:{sa019:"",sa012:""},IssueTableHeight:48*Math.floor((window.innerHeight-350-40)/48)+40,IssueColumns1:[{type:"selection",width:60,align:"center"},{title:"序号",key:"index",width:100,align:"center",render:function(e,a){return e("span",a.index+(t.IssuePageNum-1)*t.IssuePageSize+1)}},{title:"用户名",align:"center",minWidth:200,key:"sa008"},{title:"手机号码",align:"center",minWidth:200,key:"sa012"},{title:"真实姓名",align:"center",minWidth:200,key:"sa019"}],IssueData:[],IssueTotal:0,IssuePageNum:1,IssuePageSize:10,IssueLoading:!1,selectIssueRow:[],multipleIssueSelection:[],taskParamsArr:[]}},props:{taskIdArr:{}},created:function(){this.getIssueList()},watch:{multipleIssueSelection:function(t){var e=this;this.selectIssueRow=[],t.length>0&&t.forEach(function(t,a){e.selectIssueRow.push(t.sa001)})},taskIdArr:function(t){this.taskParamsArr=t}},mounted:function(){var t=this;window.addEventListener("resize",function(){t.IssueTableHeight=48*Math.floor((window.innerHeight-350-40)/48)+40,t.getIssueList()},!1)},methods:{getSearchIssueList:function(){this.IssuePageNum=1,this.getIssueList()},getIssueList:function(){var t=this;this.IssueLoading=!0,Object(d["h"])({data:{pageSize:this.IssuePageSize,pageNumber:this.IssuePageNum,sa019:this.formInline.sa019,sa012:this.formInline.sa012}}).then(function(e){"0000"===e.data.code&&(t.IssueData=e.data.data.rows,t.IssueTotal=e.data.data.total,t.IssueLoading=!1)}).catch(function(){t.$Notice.error({title:"服务器错误"})})},IssuePageChange:function(t){this.IssuePageNum=t,this.getIssueList()},handleIssueSelectionChange:function(t){this.multipleIssueSelection=t},handleIssueTask:function(){this.selectIssueRow.length<1?this.$Notice.error({title:"下发人员不能为空！"}):this.handleIssue(this.selectIssueRow)},handleIssue:function(t){var e=this;Object(d["f"])({data:{taskId:this.taskParamsArr.join(","),uidList:t}}).then(function(t){"0000"===t.data.code?(e.$Notice.success({title:"任务下发成功"}),e.handleCancel()):e.$Message.error(t.data.msg)}).catch(function(){e.$Notice.error({title:"服务器错误"})})},cleardata:function(){this.formInline={},this.getSearchIssueList()},handleCancel:function(){this.issue=!1,this.selectIssueRow=[],this.multipleIssueSelection=[],this.cleardata()}}},L=E,O=(a("afca"),Object(h["a"])(L,D,x,!1,null,"6266e61d",null)),S=O.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tablet"}},[a("div",{staticClass:"queryBox"},[a("Button",{staticClass:"sign-btn",attrs:{type:"primary",size:"small",icon:"ios-arrow-back"},on:{click:function(e){return t.$emit("signOut",!1)}}},[t._v("返回")])],1),a("div",{staticClass:"content_box"},[a("div",[a("Table",{attrs:{border:"",stripe:"",loading:t.spotsLoading,columns:t.spotsColumns1,data:t.spotsData1,"highlight-row":"","max-height":t.tableHeight}})],1)]),a("div",{staticClass:"extract_box",class:{spotsAddActive:t.spotsAddActive}},[a("taskManagementTableMap",{ref:"taskManagementTableMap",on:{signOut:t.signOut}})],1)])},$=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-box"},[a("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),a("Button",{staticClass:"sign-btn",attrs:{type:"primary",size:"small",icon:"ios-arrow-back"},on:{click:function(e){return t.$emit("signOut",!1)}}},[t._v("返回")])],1)},T=[],N=a("9ed9"),P=a("149e"),_=a("f831"),C=a("42e8"),F=a.n(C),M=a("39f3"),z=a.n(M),B={name:"checkInfoMap",data:function(){return{map:{},view:{}}},computed:{},props:{},components:{},watch:{},mounted:function(){this.createMap()},methods:{createMap:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,s,r,o,c,l,u,d,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N["a"].MapView;case 2:return e=t.sent,t.next=5,N["a"].Map;case 5:return a=t.sent,t.next=8,N["a"].Basemap;case 8:return n=t.sent,t.next=11,N["a"].BasemapToggle;case 11:return i=t.sent,t.next=14,Object(_["h"])().then(function(t){return t});case 14:return s=t.sent,t.next=17,Object(_["g"])().then(function(t){return t});case 17:return r=t.sent,t.next=20,Object(_["f"])().then(function(t){return t});case 20:return o=t.sent,t.next=23,Object(_["i"])().then(function(t){return t});case 23:return c=t.sent,t.next=26,Object(_["e"])().then(function(t){return t});case 26:l=t.sent,u=new n({baseLayers:[r,l,o],title:"矢量地图",id:"myBasemap",thumbnailUrl:F.a}),d=new n({baseLayers:[s,l,c],title:"影像地图",id:"myBasemap1",thumbnailUrl:z.a}),this.map=new a({basemap:d}),this.view=new e({map:this.map,container:"viewDiv",center:P["a"].centerPoint,zoom:7}),f=new i({view:this.view,nextBasemap:u}),this.view.ui.add(f,"top-right");case 33:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),initCom:function(t){this.map.remove(this.insercLayer),this.view.graphics.removeAll()}}},R=B,H=(a("6722"),Object(h["a"])(R,j,T,!1,null,"7c52b649",null)),q=H.exports,W={name:"spotsTable",data:function(){var t=this;return{tableHeight:Math.floor(window.innerHeight-280),spotsColumns1:[{title:"序号",key:"index",width:100,align:"center",render:function(t,e){return t("span",e.index+1)}},{title:"台账名称",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"name ",render:function(t,e){return t("span",e.row.name)}},{title:"台账备注",align:"center",ellipsis:!0,tooltip:!0,minWidth:100,key:"remark ",render:function(t,e){return t("span",e.row.remark)}},{title:"创建时间",align:"center",ellipsis:!0,tooltip:!0,minWidth:100,key:"createDate ",render:function(t,e){return t("span",Object(u["d"])(e.row.createDate))}},{title:"操作",key:"address",width:120,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"success",size:"small",icon:"ios-map"},style:{marginRight:"5px",background:"rgb(16,186,204)",borderColor:"rgb(16,186,204)"},on:{click:function(){t.spotsAddActive=!0,t.$refs.taskManagementTableMap.initCom()}}},"地图查看")])}}],spotsData1:[],spotsLoading:!1,spotsAddActive:!1}},props:{seeId:0},components:{taskManagementTableMap:q},watch:{seeId:function(){this.dataId()}},created:function(){this.getTableList()},mounted:function(){var t=this;window.addEventListener("resize",function(){t.tableHeight=Math.floor(window.innerHeight-280),t.getTableList()},!1)},methods:{dataId:function(){this.getTableList(this.seeId)},getTableList:function(t){var e=this;this.spotsLoading=!0,Object(d["c"])({data:{cl001:t}}).then(function(t){"0000"===t.data.code&&(e.spotsData1=t.data.data.data.rlhdGroupList,e.spotsLoading=!1)}).catch(function(){e.$Notice.error({title:"服务器错误"})})},signOut:function(t){this.spotsAddActive=t}}},Q=W,J=(a("3c7b"),Object(h["a"])(Q,A,$,!1,null,"0a16698a",null)),G=J.exports,K={name:"extracTable",data:function(){var t=this;return{queryData:{},tableHeight:48*Math.floor((window.innerHeight-300-40)/48)+40,loading:!1,columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(e,a){return e("span",a.index+(t.pageNum-1)*t.pageSize+1)}},{title:"任务名称",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl002"},{title:"任务类型",align:"center",key:"cl004",width:100,render:function(t,e){var a=e.row.cl004;return 0===a?t("span",{},"巡护"):1===a?t("span",{},"核查"):null===a?t("span",{},""):void 0}},{title:"任务年份",align:"center",width:100,key:"cl010"},{title:"任务级别",align:"center",key:"cl011",width:100,render:function(t,e){var a=e.row.cl011;return 1===a?t("span",{},"国家级"):2===a?t("span",{},"市级"):null===a?t("span",{},""):void 0}},{title:"任务台账",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,render:function(t,e){var a=e.row,n=[];return a.rlhdGroupList.forEach(function(t){n.push(t.name)}),t("div",{},n.join("，"))}},{title:"任务描述",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl009"},{title:"操作",key:"",width:260,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small",icon:"md-eye"},style:{marginRight:"5px"},on:{click:function(){t.spotsSeeId=a.row.cl001,t.addActive=!0}}},"查看台账"),e("Button",{props:{type:"warning",size:"small",icon:"md-create"},style:{marginRight:"5px"},on:{click:function(){t.editDefaultData=a.row,t.$refs.taskEdit.taskEdit=!0}}},"修改"),e("Button",{props:{type:"error",size:"small",icon:"md-trash"},on:{click:function(){t.$Modal.confirm({title:"确认",content:"请问您确定要删除该核查任务吗？",onOk:function(){t.infoDel(a.row.cl001)},onCancel:function(){}})}}},"删除")])}}],data1:[],total:0,pageNum:1,pageSize:Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48),editDefaultData:{},addActive:!1,spotsSeeId:0,selectRow:[],multipleSelection:[]}},components:{QueryBox:r["a"],taskAdd:g,taskEdit:I,IssueList:S,spotsTable:G},computed:{queryFrom:function(){return[{type:1,field:"cl002",title:"任务名称"},{type:2,field:"cl004",title:"任务类型",data:[{value:"",label:"请选择"},{value:0,label:"巡护"},{value:1,label:"核查"}]},{type:3,field:"cl010",title:"任务年份"}]}},watch:{multipleSelection:function(t){var e=this;this.selectRow=[],t.length>0&&t.forEach(function(t,a){e.selectRow.push(t.cl001)})}},created:function(){this.getTableList()},mounted:function(){var t=this;window.addEventListener("resize",function(){t.tableHeight=48*Math.floor((window.innerHeight-300-40)/48)+40,t.pageSize=Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48),t.getTableList()},!1)},methods:{getQueryData:function(t){this.queryData=t,this.pageNum=1,this.getTableList()},getTableList:function(){var t=this;this.loading=!0,Object(d["d"])({data:Object(s["a"])({pageSize:this.pageSize,pageNumber:this.pageNum},this.queryData)}).then(function(e){"0000"===e.data.code?(t.data1=e.data.data.rows,t.total=e.data.data.total,t.loading=!1):t.$Notice.error({title:e.data.msg})}).catch(function(){t.$Notice.error({title:"服务器错误"})})},pageChange:function(t){this.pageNum=t,this.getTableList()},infoDel:function(t){var e=this;Object(d["a"])({data:{cl001:t}}).then(function(t){"0000"===t.data.code?(e.$Notice.success({title:"删除成功"}),1===e.data1.length&&e.pageNum>1&&(e.pageNum=e.pageNum-1),e.getTableList()):e.$Message.error(t.data.msg)}).catch(function(){e.$Notice.error({title:"服务器错误"})})},handleSelectionChange:function(t){this.multipleSelection=t},handleIssue:function(){this.$refs.issueList.issue=!1,this.selectRow.length<1?this.$Notice.error({title:"请先勾选任务再点击下发！"}):this.selectRow.length>1?this.$Notice.error({title:"只能选择一个任务！"}):this.$refs.issueList.issue=!0},signOut:function(t){this.addActive=t},getClearQueryData:function(){this.queryData={},this.pageNum=1,this.getTableList(),this.$refs.getQuery.cleardata()}}},U=K,V=(a("e08a"),Object(h["a"])(U,n,i,!1,null,"8dbd19b0",null));e["default"]=V.exports},"7f7f":function(t,e,a){var n=a("86cc").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in i||a("9e1e")&&n(i,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"85f2":function(t,e,a){t.exports=a("454f")},8681:function(t,e,a){},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a4bb:function(t,e,a){t.exports=a("8aae")},afca:function(t,e,a){"use strict";var n=a("f45c"),i=a.n(n);i.a},bf0b:function(t,e,a){var n=a("355d"),i=a("aebd"),s=a("36c3"),r=a("1bc3"),o=a("07e3"),c=a("794b"),l=Object.getOwnPropertyDescriptor;e.f=a("8e60")?l:function(t,e){if(t=s(t),e=r(e,!0),c)try{return l(t,e)}catch(a){}if(o(t,e))return i(!n.f.call(t,e),t[e])}},bf90:function(t,e,a){var n=a("36c3"),i=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return i(n(t),e)}})},ccb9:function(t,e,a){e.f=a("5168")},ce7e:function(t,e,a){var n=a("63b6"),i=a("584a"),s=a("294c");t.exports=function(t,e){var a=(i.Object||{})[t]||Object[t],r={};r[t]=e(a),n(n.S+n.F*s(function(){a(1)}),"Object",r)}},cebc:function(t,e,a){"use strict";var n=a("268f"),i=a.n(n),s=a("e265"),r=a.n(s),o=a("a4bb"),c=a.n(o),l=a("85f2"),u=a.n(l);function d(t,e,a){return e in t?u()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=c()(a);"function"===typeof r.a&&(n=n.concat(r()(a).filter(function(t){return i()(a,t).enumerable}))),n.forEach(function(e){d(t,e,a[e])})}return t}a.d(e,"a",function(){return f})},e08a:function(t,e,a){"use strict";var n=a("27c0"),i=a.n(n);i.a},e265:function(t,e,a){t.exports=a("ed33")},ebfd:function(t,e,a){var n=a("62a0")("meta"),i=a("f772"),s=a("07e3"),r=a("d9f6").f,o=0,c=Object.isExtensible||function(){return!0},l=!a("294c")(function(){return c(Object.preventExtensions({}))}),u=function(t){r(t,n,{value:{i:"O"+ ++o,w:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[n].i},f=function(t,e){if(!s(t,n)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[n].w},p=function(t){return l&&h.NEED&&c(t)&&!s(t,n)&&u(t),t},h=t.exports={KEY:n,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},f45c:function(t,e,a){},fde4:function(t,e,a){a("bf90");var n=a("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-603010e8.3bbb041d.js.map