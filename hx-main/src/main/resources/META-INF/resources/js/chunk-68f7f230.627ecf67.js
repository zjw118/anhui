(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68f7f230"],{"2a8d":function(t,e,n){"use strict";var a=n("ff20"),i=n.n(a);i.a},3475:function(t,e,n){"use strict";var a=n("a8b2"),i=n.n(a);i.a},4634:function(t,e,n){for(var a=n("96dd"),i=n("7d56"),s=n("a6d5"),o=n("3f8b"),r=n("b8ea"),l=n("e3b3"),c=n("1277"),u=c("iterator"),d=c("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),g=0;g<h.length;g++){var m,b=h[g],v=p[b],y=o[b],I=y&&y.prototype;if(I&&(I[u]||r(I,u,f),I[d]||r(I,d,b),l[b]=f,v))for(m in a)I[m]||s(I,m,a[m],!0)}},4820:function(t,e,n){},"4cf8":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var a=n("b775"),i=function(t){return Object(a["a"])({url:"/ygjc/rlhdGroup/listReserveData",method:"post",data:t})},s=function(t){return Object(a["a"])({url:"/ygjc/rlhdGroup/getPersonAndPoint",method:"post",data:t})},o=function(t){return Object(a["a"])({url:"/ygjc/rlhdGroup/deletePersonAndPoint",method:"post",data:t})},r=function(t){return Object(a["a"])({url:"/ygjc/rlhdGroup/getPointFromStage",method:"post",data:t})}},"6df0":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return o})),n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return d}));var a=n("b775"),i=function(t){return Object(a["a"])({url:"/task/listTask",method:"post",data:t})},s=function(t){return Object(a["a"])({url:"/task/ledgerSelect",method:"post",data:t})},o=function(t){return Object(a["a"])({url:"/task/insertTask",method:"post",data:t})},r=function(t){return Object(a["a"])({url:"/task/updateTask",method:"post",data:t})},l=function(t){return Object(a["a"])({url:"/task/deleteTask",method:"post",data:t})},c=function(t){return Object(a["a"])({url:"/task/getTaskById",method:"post",data:t})},u=function(t){return Object(a["a"])({url:"/user/listUser",method:"post",data:t})},d=function(t){return Object(a["a"])({url:"/checkPoint/sharePoint",method:"post",data:t})}},"7cfd":function(t,e,n){var a=n("d3d8").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in i||n("f9a5")&&a(i,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},8868:function(t,e,n){var a=n("2498"),i=n("da27"),s=n("0cc1");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),a(a.S+a.F*s((function(){n(1)})),"Object",o)}},"903d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tablet"}},[n("div",{staticClass:"queryBox"},[n("QueryBox",{ref:"getQuery",staticStyle:{width:"100%"},attrs:{formArr:t.queryFrom},on:{query:t.getQueryData}})],1),n("div",{staticClass:"content_box"},[n("div",[n("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns1,data:t.data1,"highlight-row":"","max-height":t.tableHeight}}),n("div",{staticClass:"page_box"},[n("Page",{ref:"pages",attrs:{total:t.total,"page-size":t.pageSize,current:t.pageNum,"show-total":""},on:{"update:current":function(e){t.pageNum=e},"on-change":t.pageChange}})],1)],1)]),n("div",{staticClass:"spotsTable",class:{addActive:t.addActive}},[n("plaqueList",{ref:"plaqueList",attrs:{taskId:t.taskId},on:{signOut:t.signOut}})],1)])},i=[],s=(n("efce"),n("ed8b"),n("97a3")),o=(n("7cfd"),n("4634"),n("aff7")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tablets"}},[n("div",{staticClass:"queryBox"},[t._m(0),n("Button",{staticClass:"sign-btn",attrs:{type:"primary",size:"small",icon:"ios-arrow-back"},on:{click:function(e){return t.$emit("signOut",!1)}}},[t._v("返回")])],1),n("div",{staticClass:"content_box"},[n("div",{staticClass:"demo-split",style:{height:t.screenHeight+"px"}},[n("Split",{model:{value:t.split1,callback:function(e){t.split1=e},expression:"split1"}},[n("div",{staticClass:"demo-split-pane",attrs:{slot:"left"},slot:"left"},[n("Divider",{staticStyle:{position:"relative"},attrs:{orientation:"left"}},[t._v("未分配斑块列表"),n("Button",{staticClass:"btn-exportBtn",staticStyle:{position:"absolute",top:"-18px",right:"0px"},attrs:{type:"primary",size:"small",icon:"ios-paper-plane"},on:{click:function(e){return e.stopPropagation(),t.handleQlaque(e)}}},[t._v("下发")])],1),n("Table",{ref:"plaqueMultipleTable",attrs:{id:"fpbkList",loading:t.plaqueLoading,size:"small",columns:t.plaqueColumns1,data:t.plaqueData1,"highlight-row":"","max-height":t.plaqueTableHeight},on:{"on-selection-change":t.handleQlaqueSelectionChange}})],1),n("div",{staticClass:"demo-split-pane",attrs:{slot:"right",id:"right"},slot:"right"},[n("Divider",{attrs:{orientation:"left"}},[t._v("已下发斑块人员列表")]),n("Collapse",{attrs:{simple:"",accordion:!0}},t._l(t.plaquepeopleData1,(function(e,a){return n("Panel",{key:a},[t._v("\n              "+t._s(e.sa019)+"\n              "),n("Tag",{attrs:{color:"primary"}},[t._v("已下发斑块数量："+t._s(e.cdHelper.length))]),n("div",{attrs:{slot:"content",id:"content"},slot:"content"},[n("b",[t._v("所属斑块编码：")]),n("ul",t._l(e.cdHelper,(function(a,i){return n("li",{key:i},[n("span",{attrs:{title:a.active_name}},[t._v(t._s(a.cd001))]),n("Icon",{staticClass:"deleteBtn",attrs:{type:"ios-trash"},on:{click:function(n){return t.deleteSSBK(e.sa001,a.cd001)}}})],1)})),0)])],1)})),1)],1)])],1)]),n("IssueList",{ref:"issueList",attrs:{plaqueId:t.plaqueId,taskId:t.taskId},on:{getQlaques:t.getQlaques,getQlaquePeoples:t.getQlaquePeoples}})],1)},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"title"},[n("i",{staticClass:"iconfont icon-shenhe1"}),t._v("斑块分配管理")])}],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"issueList"}},[n("Modal",{attrs:{id:"taskIssueModal",title:"下发人员列表",loading:t.modalIssueLoading},on:{"on-cancel":t.handleCancel},model:{value:t.issue,callback:function(e){t.issue=e},expression:"issue"}},[n("Form",{ref:"formInline",staticClass:"formInline",attrs:{inline:"","label-width":75,model:t.formInline}},[n("FormItem",{attrs:{label:"真实姓名："}},[n("Input",{staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"请输入用户名称"},model:{value:t.formInline.sa019,callback:function(e){t.$set(t.formInline,"sa019",e)},expression:"formInline.sa019"}})],1),n("FormItem",{attrs:{label:"手机号："}},[n("Input",{staticStyle:{width:"150px"},attrs:{type:"text",placeholder:"请输入手机号"},model:{value:t.formInline.sa012,callback:function(e){t.$set(t.formInline,"sa012",e)},expression:"formInline.sa012"}})],1),n("FormItem",{staticClass:"ml20",attrs:{"label-width":0}},[n("Button",{staticClass:"mr10",attrs:{type:"primary",size:"small",icon:"ios-search"},on:{click:function(e){return e.stopPropagation(),t.getSearchIssueList(e)}}},[t._v("查询")]),n("Button",{attrs:{type:"primary",size:"small",icon:"md-refresh"},on:{click:function(e){return e.stopPropagation(),t.cleardata(e)}}},[t._v("重置")])],1)],1),n("div",[n("Table",{attrs:{border:"",stripe:"",loading:t.IssueLoading,columns:t.IssueColumns1,data:t.IssueData,"highlight-row":"","max-height":t.IssueTableHeight}}),n("div",{staticClass:"page_box"},[n("Page",{ref:"IssuePages",attrs:{total:t.IssueTotal,"page-size":t.IssuePageSize,current:t.IssuePageNum,"show-total":""},on:{"update:current":function(e){t.IssuePageNum=e},"on-change":t.IssuePageChange}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},u=[],d=n("6df0"),f={name:"IssueList",data:function(){var t=this;return{issue:!1,modalIssueLoading:!1,formInline:{sa019:"",sa012:""},IssueTableHeight:48*Math.floor((window.innerHeight-350-40)/48)+40,IssueColumns1:[{title:"序号",key:"index",width:100,align:"center",render:function(e,n){return e("span",n.index+(t.IssuePageNum-1)*t.IssuePageSize+1)}},{title:"用户名",align:"center",minWidth:200,key:"sa008"},{title:"手机号码",align:"center",minWidth:200,key:"sa012"},{title:"真实姓名",align:"center",minWidth:200,key:"sa019"},{title:"操作",key:"",width:120,align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small",icon:"ios-paper-plane"},style:{background:"#2d579b",borderColor:"#2d579b"},on:{click:function(){t.handleIssue(n.row.sa001)}}},"下发")])}}],IssueData:[],IssueTotal:0,IssuePageNum:1,IssuePageSize:10,IssueLoading:!1}},props:{plaqueId:{},taskId:{}},created:function(){this.getIssueList()},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.IssueTableHeight=48*Math.floor((window.innerHeight-350-40)/48)+40,t.getIssueList()}),!1)},methods:{getSearchIssueList:function(){this.IssuePageNum=1,this.getIssueList()},getIssueList:function(){var t=this;this.IssueLoading=!0,Object(d["h"])({data:{pageSize:this.IssuePageSize,pageNumber:this.IssuePageNum,sa019:this.formInline.sa019,sa012:this.formInline.sa012}}).then((function(e){"0000"===e.data.code&&(t.IssueData=e.data.data.rows,t.IssueTotal=e.data.data.total,t.IssueLoading=!1)})).catch((function(){t.$Notice.error({title:"服务器错误"})}))},IssuePageChange:function(t){this.IssuePageNum=t,this.getIssueList()},handleIssue:function(t){var e=this;Object(d["f"])({data:{pointIdList:this.plaqueId,uidList:[t]}}).then((function(t){"0000"===t.data.code?(e.$Notice.success({title:"斑块下发成功"}),e.handleCancel()):e.$Message.error(t.data.msg)})).catch((function(){e.$Notice.error({title:"服务器错误"})}))},cleardata:function(){this.formInline={},this.getSearchIssueList()},handleCancel:function(){this.issue=!1,this.$emit("getQlaques",this.taskId),this.$emit("getQlaquePeoples")}}},p=f,h=(n("e8be"),n("6691")),g=Object(h["a"])(p,c,u,!1,null,"e916cbf0",null),m=g.exports,b=n("4cf8"),v={name:"plaqueList",data:function(){return{plaqueTableHeight:window.innerHeight-385,plaqueLoading:!1,plaqueColumns1:[{type:"selection",width:60,align:"center"},{title:"斑块编码 ",align:"center",minWidth:120,key:"cd001"},{title:"斑块名称 ",align:"center",ellipsis:!0,tooltip:!0,minWidth:120,key:"activeName"}],plaqueData1:[],plaqueId:"",selectQlaqueRow:[],multipleQlaqueSelection:[],split1:.5,screenHeight:window.innerHeight-215,plaquepeopleLoading:!1,plaquepeopleData1:[]}},components:{IssueList:m},watch:{multipleQlaqueSelection:function(t){var e=this;console.log(t),this.selectQlaqueRow=[],t.length>0&&t.forEach((function(t,n){e.selectQlaqueRow.push(t.cd001)}))}},props:{taskId:{}},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.plaqueTableHeight=window.innerHeight-385,t.getQlaques(t.taskId)}),!1),this.getQlaquePeoples()},methods:{getQlaques:function(t){var e=this;this.multipleQlaqueSelection=[],this.selectQlaqueRow=[],this.plaqueLoading=!0,Object(b["c"])({data:{cl001:t}}).then((function(t){"0000"===t.data.code?(e.plaqueData1=t.data.data.data,e.plaqueLoading=!1):e.$Notice.error({title:t.data.msg})})).catch((function(){e.$Notice.error({title:"服务器错误"})}))},getQlaquePeoples:function(){var t=this;Object(b["d"])({data:{}}).then((function(e){"0000"===e.data.code?t.plaquepeopleData1=e.data.data:t.$Notice.error({title:e.data.msg})})).catch((function(){t.$Notice.error({title:"服务器错误"})}))},handleQlaqueSelectionChange:function(t){this.multipleQlaqueSelection=t},handleQlaque:function(){this.selectQlaqueRow.length<1?this.$Notice.error({title:"所选斑块不能为空！"}):(this.plaqueId=this.selectQlaqueRow,this.$refs.issueList.issue=!0)},deleteSSBK:function(t,e){var n=this;this.$Modal.confirm({title:"确认",content:"请问您确定要删除该斑块吗？",onOk:function(){Object(b["a"])({data:{uid:t,pointIdList:[e]}}).then((function(t){"0000"===t.data.code?(n.$Notice.success({title:"删除成功"}),n.getQlaquePeoples(),n.getQlaques(n.taskId)):n.$Message.error(t.data.msg)})).catch((function(){n.$Notice.error({title:"服务器错误"})}))},onCancel:function(){}})}}},y=v,I=(n("3475"),Object(h["a"])(y,r,l,!1,null,"474e59e0",null)),w=I.exports;function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k={name:"taskScheduler",data:function(){var t=this;return{queryData:{},tableHeight:48*Math.floor((window.innerHeight-300-40)/48)+40,loading:!1,columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(e,n){return e("span",n.index+(t.pageNum-1)*t.pageSize+1)}},{title:"任务名称",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl002"},{title:"任务年份",align:"center",width:100,key:"cl010"},{title:"任务台账",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,render:function(t,e){var n=e.row,a=[];return n.rlhdGroupList.forEach((function(t){a.push(t.name)})),t("div",{},a.join("，"))}},{title:"任务描述",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl009"},{title:"操作",key:"",width:120,align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small",icon:"md-eye"},on:{click:function(){t.addActive=!0,t.taskId=n.row.cl001,t.$refs.plaqueList.getQlaques(n.row.cl001)}}},"任务调度")])}}],data1:[],total:0,pageNum:1,pageSize:Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48),addActive:!1,taskId:""}},components:{QueryBox:o["a"],plaqueList:w},computed:{queryFrom:function(){return[{type:1,field:"cl002",title:"任务名称"},{type:3,field:"cl010",title:"任务年份"}]}},created:function(){this.getTableList()},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.tableHeight=48*Math.floor((window.innerHeight-300-40)/48)+40,t.pageSize=Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48),t.getTableList()}),!1)},methods:{getQueryData:function(t){this.queryData=t,this.pageNum=1,this.getTableList()},getTableList:function(){var t=this;this.loading=!0,Object(d["d"])({data:q({pageSize:this.pageSize,pageNumber:this.pageNum},this.queryData)}).then((function(e){"0000"===e.data.code?(t.data1=e.data.data.rows,t.total=e.data.data.total,t.loading=!1):t.$Notice.error({title:e.data.msg})})).catch((function(){t.$Notice.error({title:"服务器错误"})}))},pageChange:function(t){this.pageNum=t,this.getTableList()},signOut:function(t){this.addActive=t}}},S=k,O=(n("2a8d"),Object(h["a"])(S,a,i,!1,null,"10bcee84",null));e["default"]=O.exports},"97a3":function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return a}))},"9f7e":function(t,e,n){n("f9a5")&&"g"!=/./g.flags&&n("d3d8").f(RegExp.prototype,"flags",{configurable:!0,get:n("e7a1")})},a8b2:function(t,e,n){},cb2e:function(t,e,n){var a=n("7afe"),i=n("d93f").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,i)}},cc1d:function(t,e,n){"use strict";n("9f7e");var a=n("8cac"),i=n("e7a1"),s=n("f9a5"),o="toString",r=/./[o],l=function(t){n("a6d5")(RegExp.prototype,o,t,!0)};n("0cc1")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?l((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?i.call(t):void 0)})):r.name!=o&&l((function(){return r.call(this)}))},e323:function(t,e,n){"use strict";var a=n("d3d8"),i=n("0614");t.exports=function(t,e,n){e in t?a.f(t,e,i(0,n)):t[e]=n}},e493:function(t,e,n){var a=n("c864"),i=n("0614"),s=n("6117"),o=n("2ab1"),r=n("549d"),l=n("25ae"),c=Object.getOwnPropertyDescriptor;e.f=n("f9a5")?c:function(t,e){if(t=s(t),e=o(e,!0),l)try{return c(t,e)}catch(n){}if(r(t,e))return i(!a.f.call(t,e),t[e])}},e7a1:function(t,e,n){"use strict";var a=n("8cac");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},e8be:function(t,e,n){"use strict";var a=n("4820"),i=n.n(a);i.a},ed8b:function(t,e,n){var a=n("a9cf"),i=n("7d56");n("8868")("keys",(function(){return function(t){return i(a(t))}}))},efce:function(t,e,n){var a=n("2498"),i=n("f36d"),s=n("6117"),o=n("e493"),r=n("e323");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=s(t),l=o.f,c=i(a),u={},d=0;while(c.length>d)n=l(a,e=c[d++]),void 0!==n&&r(u,e,n);return u}})},f36d:function(t,e,n){var a=n("cb2e"),i=n("9d61"),s=n("8cac"),o=n("3f8b").Reflect;t.exports=o&&o.ownKeys||function(t){var e=a.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},ff20:function(t,e,n){}}]);
//# sourceMappingURL=chunk-68f7f230.627ecf67.js.map