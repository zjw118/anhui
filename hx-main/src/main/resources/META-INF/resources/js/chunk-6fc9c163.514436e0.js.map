{"version":3,"sources":["webpack:///./src/assets/map_images/Basemapthumbnail1.png","webpack:///./src/assets/map_images/Basemapthumbnail.png","webpack:///./src/views/dynamicManage/taskManagement/spotsTable.vue?cdc5","webpack:///./src/api/taskScheduler.js","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable_map.vue?ebcc","webpack:///./src/api/taskManager.js","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable.vue?b420","webpack:///./src/views/dynamicManage/taskManagement/TaskAdd.vue?9c16","webpack:///src/views/dynamicManage/taskManagement/TaskAdd.vue","webpack:///./src/views/dynamicManage/taskManagement/TaskAdd.vue?3558","webpack:///./src/views/dynamicManage/taskManagement/TaskAdd.vue","webpack:///./src/views/dynamicManage/taskManagement/TaskEdit.vue?ccdc","webpack:///src/views/dynamicManage/taskManagement/TaskEdit.vue","webpack:///./src/views/dynamicManage/taskManagement/TaskEdit.vue?d150","webpack:///./src/views/dynamicManage/taskManagement/TaskEdit.vue","webpack:///./src/views/dynamicManage/taskManagement/IssueList.vue?89f9","webpack:///src/views/dynamicManage/taskManagement/IssueList.vue","webpack:///./src/views/dynamicManage/taskManagement/IssueList.vue?0d9a","webpack:///./src/views/dynamicManage/taskManagement/IssueList.vue","webpack:///./src/views/dynamicManage/taskManagement/spotsTable.vue?b956","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable_map.vue?50b2","webpack:///src/views/dynamicManage/taskManagement/taskManagementTable_map.vue","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable_map.vue?072c","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable_map.vue","webpack:///src/views/dynamicManage/taskManagement/spotsTable.vue","webpack:///./src/views/dynamicManage/taskManagement/spotsTable.vue?e580","webpack:///./src/views/dynamicManage/taskManagement/spotsTable.vue","webpack:///src/views/dynamicManage/taskManagement/taskManagementTable.vue","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable.vue?a1f0","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable.vue","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/es6.function.name.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_object-sap.js","webpack:///./node_modules/_@babel_runtime@7.6.3@@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/views/dynamicManage/taskManagement/IssueList.vue?d170","webpack:///./src/views/dynamicManage/taskManagement/taskManagementTable.vue?c342","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_object-gopn.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_create-property.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_object-gopd.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/es6.object.keys.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/_core-js@2.6.10@core-js/modules/_own-keys.js"],"names":["module","exports","getQlaqueList","data","request","url","method","getQlaquePeopleList","deletePersonAndPoint","getPointFromStage","getTaskList","getLedgerList","insertTask","updateTask","deleteTask","getTaskById","userList","sharePoint","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","ref","staticStyle","queryFrom","on","getQueryData","$event","stopPropagation","$refs","taskAdd","taskBuild","_v","loading","columns1","data1","tableHeight","handleSelectionChange","total","pageSize","pageNum","pageChange","getClearQueryData","editDefaultData","getTableList","selectRow","class","addActive","spotsSeeId","signOut","staticRenderFns","reset","model","value","callback","$$v","expression","taskAddData","taskAddRuleValidate","$set","trim","_l","item","_s","label","minRows","maxRows","slot","taskAddSubmit","closeModal","name","ledgerList","cl002","ledgerIdList","mounted","methods","taskAddForm","validate","valid","arr","push","cl010","cl009","res","code","resetFields","component","taskEdit","taskEditData","taskEditRule","taskEditSubmit","editLedgerList","props","watch","dataHandle","created","cl001","row","length","forEach","arr1","id","taskEditForm","cl003","modalIssueLoading","handleCancel","issue","formInline","getSearchIssueList","cleardata","IssueLoading","IssueColumns1","IssueData","IssueTableHeight","handleIssueSelectionChange","IssueTotal","IssuePageSize","IssuePageNum","IssuePageChange","handleIssueTask","sa019","sa012","Math","floor","window","innerHeight","selectIssueRow","multipleIssueSelection","taskParamsArr","taskIdArr","getIssueList","val","addEventListener","pageNumber","$Notice","error","handleIssue","taskId","join","uidList","e","$emit","tzName","tzRemark","tzTime","goMap","spotsLoading","spotsColumns1","spotsData1","spotsAddActive","map","view","computed","components","createMap","initCom","remove","insercLayer","graphics","removeAll","seeId","taskManagementTableMap","dataId","getBkList","rlhdGroupList","queryData","multipleSelection","QueryBox","IssueList","spotsTable","infoDel","issueList","getQuery","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","$export","core","fails","KEY","exec","fn","Object","exp","S","F","_defineProperty","obj","key","defineProperty","enumerable","writable","$keys","hiddenKeys","concat","getOwnPropertyNames","O","$defineProperty","createDesc","object","index","pIE","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","P","call","toObject","it","ownKeys","createProperty","getOwnPropertyDescriptors","desc","getDesc","keys","result","i","undefined","gOPN","gOPS","anObject","Reflect","getSymbols"],"mappings":"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","file":"js/chunk-6fc9c163.514436e0.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/Basemapthumbnail1.5f8d6db2.png\";","module.exports = __webpack_public_path__ + \"img/Basemapthumbnail.6dc37597.png\";","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./spotsTable.vue?vue&type=style&index=0&id=9e059cba&lang=scss&scoped=true&rel=stylesheet%2Fscss&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./spotsTable.vue?vue&type=style&index=0&id=9e059cba&lang=scss&scoped=true&rel=stylesheet%2Fscss&\"","import request from '@/utils/request'\r\n\r\n/* 斑块列表  */\r\nexport const getQlaqueList = data => request({ url: '/ygjc/rlhdGroup/listReserveData', method: 'post', data })\r\n/* 已下发斑块人员列表  */\r\nexport const getQlaquePeopleList = data => request({ url: '/ygjc/rlhdGroup/getPersonAndPoint', method: 'post', data })\r\n/* 删除已下发斑块人员所属斑块  */\r\nexport const deletePersonAndPoint = data => request({ url: '/ygjc/rlhdGroup/deletePersonAndPoint', method: 'post', data })\r\n/* 斑块列表  */\r\nexport const getPointFromStage = data => request({ url: '/ygjc/rlhdGroup/getPointFromStage', method: 'post', data })\r\n","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable_map.vue?vue&type=style&index=0&id=7c52b649&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable_map.vue?vue&type=style&index=0&id=7c52b649&scoped=true&lang=scss&\"","import request from '@/utils/request'\r\n\r\n/* 任务列表 */\r\nexport const getTaskList = data => request({ url: '/task/listTask', method: 'post', data })\r\n/* 台账列表 */\r\nexport const getLedgerList = data => request({ url: '/task/ledgerSelect', method: 'post', data })\r\n/* 添加任务 */\r\nexport const insertTask = data => request({ url: '/task/insertTask', method: 'post', data })\r\n/* 修改任务 */\r\nexport const updateTask = data => request({ url: '/task/updateTask', method: 'post', data })\r\n/* 删除任务 */\r\nexport const deleteTask = data => request({ url: '/task/deleteTask', method: 'post', data })\r\n/* 任务批次单个详情 */\r\nexport const getTaskById = data => request({ url: '/task/getTaskById', method: 'post', data })\r\n/* 下发人员列表  */\r\nexport const userList = data => request({ url: '/user/listUser', method: 'post', data })\r\n/* 下发问题点  */\r\nexport const sharePoint = data => request({ url: '/checkPoint/sharePoint', method: 'post', data })\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tablet\"}},[_c('div',{staticClass:\"queryBox\"},[_c('QueryBox',{ref:\"getQuery\",staticStyle:{\"width\":\"calc(100% - 75px)\"},attrs:{\"formArr\":_vm.queryFrom},on:{\"query\":_vm.getQueryData}}),_c('div',{staticClass:\"queryBtns\"},[_c('Button',{staticClass:\"btn-add\",attrs:{\"type\":\"success\",\"size\":\"small\",\"icon\":\"md-add\"},on:{\"click\":function($event){$event.stopPropagation();_vm.$refs.taskAdd.taskBuild = true}}},[_vm._v(\"新建\")])],1)],1),_c('div',{staticClass:\"content_box\"},[_c('div',[_c('Table',{ref:\"multipleTable\",attrs:{\"border\":\"\",\"stripe\":\"\",\"loading\":_vm.loading,\"columns\":_vm.columns1,\"data\":_vm.data1,\"highlight-row\":\"\",\"max-height\":_vm.tableHeight},on:{\"on-selection-change\":_vm.handleSelectionChange}}),_c('div',{staticClass:\"page_box\"},[_c('Page',{ref:\"pages\",attrs:{\"total\":_vm.total,\"page-size\":_vm.pageSize,\"current\":_vm.pageNum,\"show-total\":\"\"},on:{\"update:current\":function($event){_vm.pageNum=$event},\"on-change\":_vm.pageChange}})],1)],1)]),_c('taskAdd',{ref:\"taskAdd\",on:{\"getTableData\":_vm.getClearQueryData}}),_c('taskEdit',{ref:\"taskEdit\",attrs:{\"data\":_vm.editDefaultData},on:{\"getTableData\":_vm.getTableList}}),_c('IssueList',{ref:\"issueList\",attrs:{\"taskIdArr\":_vm.selectRow}}),_c('div',{staticClass:\"spotsTable\",class:{addActive:_vm.addActive}},[_c('spotsTable',{ref:\"spotsTable\",attrs:{\"seeId\":_vm.spotsSeeId},on:{\"signOut\":_vm.signOut}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"taskAdd\"}},[_c('Modal',{attrs:{\"title\":\"新建核查任务\"},on:{\"on-cancel\":_vm.reset},model:{value:(_vm.taskBuild),callback:function ($$v) {_vm.taskBuild=$$v},expression:\"taskBuild\"}},[_c('Form',{ref:\"taskAddForm\",staticStyle:{\"padding\":\"0 20%\"},attrs:{\"model\":_vm.taskAddData,\"rules\":_vm.taskAddRuleValidate,\"label-width\":85}},[_c('FormItem',{attrs:{\"prop\":\"cl002\",\"label\":\"任务名称：\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入任务名称\",\"size\":\"default\"},model:{value:(_vm.taskAddData.cl002),callback:function ($$v) {_vm.$set(_vm.taskAddData, \"cl002\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskAddData.cl002\"}})],1),_c('FormItem',{attrs:{\"prop\":\"cl010\",\"label\":\"任务年份：\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"default\",\"editable\":false,\"type\":\"year\",\"placement\":\"bottom-end\",\"placeholder\":\"请选择任务年份\"},model:{value:(_vm.taskAddData.cl010),callback:function ($$v) {_vm.$set(_vm.taskAddData, \"cl010\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskAddData.cl010\"}})],1),_c('FormItem',{attrs:{\"prop\":\"ledgerIdList\",\"label\":\"任务台账：\"}},[_c('i-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择任务台账\"},model:{value:(_vm.taskAddData.ledgerIdList),callback:function ($$v) {_vm.$set(_vm.taskAddData, \"ledgerIdList\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskAddData.ledgerIdList\"}},_vm._l((_vm.ledgerList),function(item){return _c('i-option',{attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"prop\":\"cl009\",\"label\":\"任务描述：\"}},[_c('i-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"请输入任务描述\"},model:{value:(_vm.taskAddData.cl009),callback:function ($$v) {_vm.$set(_vm.taskAddData, \"cl009\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskAddData.cl009\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.taskAddSubmit}},[_vm._v(\"确定\")]),_c('Button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"taskAdd\">\r\n    <Modal\r\n      v-model=\"taskBuild\"\r\n      title=\"新建核查任务\"\r\n      @on-cancel=\"reset\"\r\n    >\r\n      <Form ref=\"taskAddForm\" :model=\"taskAddData\" :rules=\"taskAddRuleValidate\" :label-width=\"85\" style=\"padding:0 20%;\">\r\n        <FormItem prop=\"cl002\" label=\"任务名称：\">\r\n          <Input v-model.trim=\"taskAddData.cl002\" placeholder=\"请输入任务名称\" size=\"default\"/>\r\n        </FormItem>\r\n<!--        <FormItem prop=\"cl004\" label=\"任务类型：\">-->\r\n<!--          <i-select v-model.trim=\"taskAddData.cl004\" style=\"width: 100%\" placeholder=\"请选择任务类型\">-->\r\n<!--            <i-option value=\"0\">巡护</i-option>-->\r\n<!--            <i-option value=\"1\">核查</i-option>-->\r\n<!--          </i-select>-->\r\n<!--        </FormItem>-->\r\n        <FormItem prop=\"cl010\" label=\"任务年份：\">\r\n          <DatePicker size=\"default\" :editable=\"false\" type=\"year\" v-model.trim=\"taskAddData.cl010\" placement=\"bottom-end\" placeholder=\"请选择任务年份\" style=\"width: 100%\"></DatePicker>\r\n        </FormItem>\r\n<!--        <FormItem prop=\"cl011\" label=\"任务级别：\">-->\r\n<!--          <i-select v-model.trim=\"taskAddData.cl011\" style=\"width: 100%\" placeholder=\"请选择任务级别\">-->\r\n<!--            <i-option value=\"1\">国家级</i-option>-->\r\n<!--            <i-option value=\"2\">市级</i-option>-->\r\n<!--          </i-select>-->\r\n<!--        </FormItem>-->\r\n        <FormItem prop=\"ledgerIdList\" label=\"任务台账：\">\r\n          <i-select v-model.trim=\"taskAddData.ledgerIdList\" filterable style=\"width: 100%\" placeholder=\"请选择任务台账\">\r\n            <i-option v-for=\"item in ledgerList\" :value=\"item.value\">{{ item.label }}</i-option>\r\n          </i-select>\r\n        </FormItem>\r\n        <FormItem prop=\"cl009\" label=\"任务描述：\">\r\n          <i-input v-model.trim=\"taskAddData.cl009\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\" placeholder=\"请输入任务描述\"></i-input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"primary\" @click=\"taskAddSubmit\">确定</Button>\r\n        <Button @click=\"closeModal\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 格式化时间\r\nimport { renderYearTime } from '@/utils/common'\r\nimport {\r\n  // 台账列表\r\n  getLedgerList,\r\n  // 新建任务\r\n  insertTask\r\n} from '@/api/taskManager'\r\nexport default {\r\n  name: 'TaskAdd',\r\n  data () {\r\n    return {\r\n      /* 台账列表 */\r\n      ledgerList: [],\r\n      /* 添加数据表单参数 */\r\n      taskAddData: {},\r\n      /* 添加数据表单校验 */\r\n      taskAddRuleValidate: {\r\n        cl002: [\r\n          { required: true, message: '任务名称必须填写', trigger: 'blur' }\r\n        ],\r\n        ledgerIdList: [\r\n          { required: true, message: '任务台账必须选择', trigger: 'change', type: 'number' }\r\n        ],\r\n        // cl004: [\r\n        //   { required: true, message: '任务类型必须选择', trigger: 'change', type: 'string' }\r\n        // ]\r\n      },\r\n      /* 新建框 */\r\n      taskBuild: false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getLedgerList()\r\n  },\r\n  methods: {\r\n    // 获取台账列表\r\n    async getLedgerList () {\r\n      await getLedgerList({\r\n        data: {}\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          res.data.data.data.forEach((item, index) => {\r\n            this.ledgerList.push({ 'value': item.id, 'label': item.name })\r\n          })\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /* 添加核查任务 */\r\n    taskAddSubmit () {\r\n      this.$refs.taskAddForm.validate(valid => {\r\n        if (valid) {\r\n          let arr = []\r\n          arr.push(this.taskAddData.ledgerIdList)\r\n          insertTask({\r\n            data: {\r\n              cl002: this.taskAddData.cl002,\r\n              // cl004: this.taskAddData.cl004,\r\n              cl010: renderYearTime(this.taskAddData.cl010),\r\n              ledgerIdList: arr,\r\n              // cl011: this.taskAddData.cl011,\r\n              cl009: this.taskAddData.cl009\r\n            }\r\n          }).then(res => {\r\n            if (res.data.code === '0000') {\r\n              this.$Notice.success({ title: '新建核查任务成功' })\r\n              this.taskBuild = false\r\n              this.taskAddData = {}\r\n              this.reset()\r\n              this.$emit('getTableData')\r\n            } else {\r\n              this.$Message.error(res.data.msg)\r\n            }\r\n          }).catch(() => {\r\n            this.$Notice.error({ title: '服务器错误' })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 重置表單參數\r\n    reset () {\r\n      this.taskAddData = {\r\n        cl002: '',\r\n        // cl004: '',\r\n        cl010: '',\r\n        ledgerIdList: '',\r\n        // cl011: '',\r\n        cl009: ''\r\n      }\r\n      this.$refs.taskAddForm.resetFields()\r\n    },\r\n    closeModal () {\r\n      this.taskBuild = false\r\n      this.reset()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./TaskAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./TaskAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskAdd.vue?vue&type=template&id=5e8b3587&scoped=true&\"\nimport script from \"./TaskAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e8b3587\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"taskEdit\"}},[_c('Modal',{attrs:{\"title\":\"修改核查任务\"},model:{value:(_vm.taskEdit),callback:function ($$v) {_vm.taskEdit=$$v},expression:\"taskEdit\"}},[_c('Form',{ref:\"taskEditForm\",staticStyle:{\"padding\":\"0 20%\"},attrs:{\"model\":_vm.taskEditData,\"rules\":_vm.taskEditRule,\"label-width\":85}},[_c('FormItem',{staticStyle:{\"display\":\"none\"},attrs:{\"prop\":\"cl001\",\"label\":\"ID：\"}},[_c('Input',{model:{value:(_vm.taskEditData.cl001),callback:function ($$v) {_vm.$set(_vm.taskEditData, \"cl001\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskEditData.cl001\"}})],1),_c('FormItem',{attrs:{\"prop\":\"cl002\",\"label\":\"任务名称：\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入任务名称\",\"size\":\"default\"},model:{value:(_vm.taskEditData.cl002 ),callback:function ($$v) {_vm.$set(_vm.taskEditData, \"cl002\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskEditData.cl002 \"}})],1),_c('FormItem',{attrs:{\"prop\":\"cl010\",\"label\":\"任务年份：\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"default\",\"type\":\"year\",\"editable\":false,\"placement\":\"bottom-end\",\"placeholder\":\"请选择任务年份\"},model:{value:(_vm.taskEditData.cl010),callback:function ($$v) {_vm.$set(_vm.taskEditData, \"cl010\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskEditData.cl010\"}})],1),_c('FormItem',{attrs:{\"prop\":\"ledgerIdList\",\"label\":\"任务台账：\"}},[_c('i-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择任务台账\"},model:{value:(_vm.taskEditData.ledgerIdList),callback:function ($$v) {_vm.$set(_vm.taskEditData, \"ledgerIdList\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskEditData.ledgerIdList\"}},_vm._l((_vm.editLedgerList),function(item){return _c('i-option',{attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"prop\":\"cl009\",\"label\":\"任务描述：\"}},[_c('i-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"请输入任务描述\"},model:{value:(_vm.taskEditData.cl009),callback:function ($$v) {_vm.$set(_vm.taskEditData, \"cl009\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"taskEditData.cl009\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.taskEditSubmit}},[_vm._v(\"确定\")]),_c('Button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"taskEdit\">\r\n    <Modal\r\n      v-model=\"taskEdit\"\r\n      title=\"修改核查任务\">\r\n      <Form ref=\"taskEditForm\" :model=\"taskEditData\" :rules=\"taskEditRule\" :label-width=\"85\" style=\"padding:0 20%;\">\r\n        <FormItem prop=\"cl001\" label=\"ID：\" style=\"display: none\">\r\n          <Input v-model.trim=\"taskEditData.cl001\"/>\r\n        </FormItem>\r\n        <FormItem prop=\"cl002\" label=\"任务名称：\">\r\n          <Input v-model.trim=\"taskEditData.cl002 \" placeholder=\"请输入任务名称\" size=\"default\"/>\r\n        </FormItem>\r\n<!--        <FormItem prop=\"cl004\" label=\"任务类型：\">-->\r\n<!--          <i-select v-model.trim=\"taskEditData.cl004\" style=\"width: 100%\" placeholder=\"请选择任务类型\">-->\r\n<!--            <i-option value=\"0\">巡护</i-option>-->\r\n<!--            <i-option value=\"1\">核查</i-option>-->\r\n<!--          </i-select>-->\r\n<!--        </FormItem>-->\r\n        <FormItem prop=\"cl010\" label=\"任务年份：\">\r\n          <DatePicker size=\"default\" type=\"year\" :editable=\"false\" v-model.trim=\"taskEditData.cl010\" placement=\"bottom-end\" placeholder=\"请选择任务年份\" style=\"width: 100%\"></DatePicker>\r\n        </FormItem>\r\n<!--        <FormItem prop=\"cl011\" label=\"任务级别：\">-->\r\n<!--          <i-select v-model.trim=\"taskEditData.cl011\" style=\"width: 100%\" placeholder=\"请选择任务级别\">-->\r\n<!--            <i-option value=\"1\">国家级</i-option>-->\r\n<!--            <i-option value=\"2\">市级</i-option>-->\r\n<!--          </i-select>-->\r\n<!--        </FormItem>-->\r\n        <FormItem prop=\"ledgerIdList\" label=\"任务台账：\">\r\n          <i-select v-model.trim=\"taskEditData.ledgerIdList\" filterable style=\"width: 100%\" placeholder=\"请选择任务台账\">\r\n            <i-option v-for=\"item in editLedgerList\" :value=\"item.value\">{{ item.label }}</i-option>\r\n          </i-select>\r\n        </FormItem>\r\n        <FormItem prop=\"cl009\" label=\"任务描述：\">\r\n          <i-input v-model.trim=\"taskEditData.cl009\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\" placeholder=\"请输入任务描述\"></i-input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"primary\" @click=\"taskEditSubmit\">确定</Button>\r\n        <Button @click=\"closeModal\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 格式化时间\r\nimport { renderYearTime } from '@/utils/common'\r\nimport {\r\n  // 台账列表\r\n  getLedgerList,\r\n  // 修改任务\r\n  updateTask\r\n} from '@/api/taskManager'\r\nexport default {\r\n  name: 'Taskedit',\r\n  data () {\r\n    return {\r\n      /* 数据表单校验 */\r\n      taskEditRule: {\r\n        cl002: [\r\n          { required: true, message: '任务名称必须填写', trigger: 'blur' }\r\n        ],\r\n        ledgerIdList: [\r\n          { required: true, message: '任务台账必须选择', trigger: 'change', type: 'number' }\r\n        ],\r\n        // cl004: [\r\n        //   { required: true, message: '任务类型必须选择', trigger: 'change', type: 'string' }\r\n        // ]\r\n      },\r\n      /* 编辑框 */\r\n      taskEdit: false,\r\n      // 编辑数据\r\n      taskEditData: {},\r\n      // 任务台账\r\n      editLedgerList: []\r\n    }\r\n  },\r\n  props: {\r\n    /* 编辑行原数据 */\r\n    data: {}\r\n  },\r\n  watch: {\r\n    data () {\r\n      this.dataHandle()\r\n    }\r\n  },\r\n  created () {\r\n    this.getLedgerList()\r\n  },\r\n  methods: {\r\n    // 获取查询条件中台账列表\r\n    async getLedgerList () {\r\n      await getLedgerList({\r\n        data: {}\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          res.data.data.data.forEach((item, index) => {\r\n            this.editLedgerList.push({ 'value': item.id, 'label': item.name })\r\n          })\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /* 编辑框默认值数据处理 */\r\n    dataHandle () {\r\n      this.taskEditData.cl001 = this.data.cl001\r\n      this.taskEditData.cl002 = this.data.cl002\r\n      this.taskEditData.cl010 = this.data.cl010\r\n      this.taskEditData.cl009 = this.data.cl009\r\n      let row = this.data.rlhdGroupList\r\n      let arr1 = []\r\n      if (row) {\r\n        if (row.length > 0) {\r\n          row.forEach((item, index) => {\r\n            arr1.push(item.id)\r\n          })\r\n        }\r\n      }\r\n      // $set避免select附不上值\r\n      this.$set(this.taskEditData, 'ledgerIdList', arr1[0])\r\n      // this.$set(this.taskEditData, 'cl004', String(this.data.cl004))\r\n      // this.$set(this.taskEditData, 'cl011', String(this.data.cl011))\r\n    },\r\n    /* 编辑核查任务 */\r\n    taskEditSubmit () {\r\n      this.$refs.taskEditForm.validate(valid => {\r\n        if (valid) {\r\n          let arr = []\r\n          arr.push(this.taskEditData.ledgerIdList)\r\n          updateTask({\r\n            data: {\r\n              cl001: this.taskEditData.cl001,\r\n              cl002: this.taskEditData.cl002,\r\n              cl010: renderYearTime(this.taskEditData.cl010),\r\n              ledgerIdList: arr,\r\n              cl009: this.taskEditData.cl009,\r\n              // cl004: this.taskEditData.cl004,\r\n              // cl011: this.taskEditData.cl011\r\n            }\r\n          }).then(res => {\r\n            if (res.data.code === '0000') {\r\n              this.$Notice.success({ title: '修改核查任务成功' })\r\n              this.$emit('getTableData')\r\n              this.taskEdit = false\r\n              this.taskEditData = {}\r\n              this.reset()\r\n            } else {\r\n              this.$Message.error(res.data.msg)\r\n            }\r\n          }).catch(() => {\r\n            this.$Notice.error({ title: '服务器错误' })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 重置表單參數\r\n    reset () {\r\n      this.taskEditData = {\r\n        cl003: '',\r\n        cl002: '',\r\n        cl010: '',\r\n        ledgerIdList: '',\r\n        cl009: '',\r\n        // cl004: '',\r\n        // cl011: ''\r\n      }\r\n      this.$refs.taskEditForm.resetFields()\r\n    },\r\n    closeModal () {\r\n      this.taskEdit = false\r\n      this.reset()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./TaskEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./TaskEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskEdit.vue?vue&type=template&id=757c5af0&scoped=true&\"\nimport script from \"./TaskEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"757c5af0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"issueList\"}},[_c('Modal',{attrs:{\"id\":\"taskIssueModal\",\"title\":\"下发人员列表\",\"loading\":_vm.modalIssueLoading},on:{\"on-cancel\":_vm.handleCancel},model:{value:(_vm.issue),callback:function ($$v) {_vm.issue=$$v},expression:\"issue\"}},[_c('Form',{ref:\"formInline\",staticClass:\"formInline\",attrs:{\"inline\":\"\",\"label-width\":75,\"model\":_vm.formInline}},[_c('FormItem',{attrs:{\"label\":\"真实姓名：\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名称\"},model:{value:(_vm.formInline.sa019),callback:function ($$v) {_vm.$set(_vm.formInline, \"sa019\", $$v)},expression:\"formInline.sa019\"}})],1),_c('FormItem',{attrs:{\"label\":\"手机号：\"}},[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.formInline.sa012),callback:function ($$v) {_vm.$set(_vm.formInline, \"sa012\", $$v)},expression:\"formInline.sa012\"}})],1),_c('FormItem',{staticClass:\"ml20\",attrs:{\"label-width\":0}},[_c('Button',{staticClass:\"mr10\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"ios-search\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getSearchIssueList($event)}}},[_vm._v(\"查询\")]),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"md-refresh\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cleardata($event)}}},[_vm._v(\"重置\")])],1)],1),_c('div',[_c('Table',{ref:\"IssueMultipleTable\",attrs:{\"border\":\"\",\"stripe\":\"\",\"loading\":_vm.IssueLoading,\"columns\":_vm.IssueColumns1,\"data\":_vm.IssueData,\"highlight-row\":\"\",\"max-height\":_vm.IssueTableHeight},on:{\"on-selection-change\":_vm.handleIssueSelectionChange}}),_c('div',{staticClass:\"page_box\"},[_c('Page',{ref:\"IssuePages\",attrs:{\"total\":_vm.IssueTotal,\"page-size\":_vm.IssuePageSize,\"current\":_vm.IssuePageNum,\"show-total\":\"\"},on:{\"update:current\":function($event){_vm.IssuePageNum=$event},\"on-change\":_vm.IssuePageChange}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('i-button',{staticClass:\"mr10\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleIssueTask}},[_vm._v(\"下发\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"issueList\">\r\n    <Modal\r\n      id=\"taskIssueModal\"\r\n      v-model=\"issue\"\r\n      title=\"下发人员列表\"\r\n      :loading=\"modalIssueLoading\"\r\n      @on-cancel=\"handleCancel\">\r\n      <Form ref=\"formInline\" inline :label-width=\"75\" :model=\"formInline\" class=\"formInline\">\r\n        <FormItem label=\"真实姓名：\">\r\n          <Input type=\"text\" v-model=\"formInline.sa019\" style=\"width: 150px;\" placeholder=\"请输入用户名称\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"手机号：\">\r\n          <Input type=\"text\" v-model=\"formInline.sa012\" style=\"width: 150px;\" placeholder=\"请输入手机号\"></Input>\r\n        </FormItem>\r\n        <FormItem :label-width=\"0\" class=\"ml20\">\r\n          <Button type=\"primary\" size=\"small\" icon=\"ios-search\" @click.stop=\"getSearchIssueList\" class=\"mr10\">查询</Button>\r\n          <Button type=\"primary\" size=\"small\" icon=\"md-refresh\" @click.stop=\"cleardata\">重置</Button>\r\n        </FormItem>\r\n      </Form>\r\n      <div>\r\n        <Table border stripe :loading=\"IssueLoading\" :columns=\"IssueColumns1\" :data=\"IssueData\" highlight-row :max-height=\"IssueTableHeight\"\r\n               ref=\"IssueMultipleTable\"\r\n               @on-selection-change=\"handleIssueSelectionChange\">\r\n        </Table>\r\n        <div class=\"page_box\">\r\n          <Page :total=\"IssueTotal\" ref=\"IssuePages\" :page-size=\"IssuePageSize\" :current.sync=\"IssuePageNum\" @on-change=\"IssuePageChange\" show-total/>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <i-button type=\"text\" @click=\"handleCancel\" class=\"mr10\">取消</i-button>\r\n        <Button type=\"primary\" @click=\"handleIssueTask\">下发</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  // 表格列表\r\n  userList,\r\n  // 下发任务\r\n  sharePoint\r\n} from '@/api/taskManager'\r\nexport default {\r\n  name: 'IssueList',\r\n  data () {\r\n    return {\r\n      /* 弹框状态 */\r\n      issue: false,\r\n      /* 点击确定按钮时，确定按钮是否显示 loading 状态 */\r\n      modalIssueLoading: false,\r\n      /* 查询条件参数 */\r\n      formInline: {\r\n        sa019: '',\r\n        sa012: ''\r\n      },\r\n      /* 表格高度 */\r\n      IssueTableHeight: Math.floor((window.innerHeight - 350 - 40) / 48) * 48 + 40,\r\n      /* 表格数据 */\r\n      IssueColumns1: [\r\n        {\r\n          type: 'selection',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '序号',\r\n          key: 'index',\r\n          width: 100,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('span', params.index + (this.IssuePageNum - 1) * this.IssuePageSize + 1)\r\n          }\r\n        },\r\n        {\r\n          title: '用户名',\r\n          align: 'center',\r\n          minWidth: 200,\r\n          key: 'sa008'\r\n        },\r\n        {\r\n          title: '手机号码',\r\n          align: 'center',\r\n          minWidth: 200,\r\n          key: 'sa012'\r\n        },\r\n        {\r\n          title: '真实姓名',\r\n          align: 'center',\r\n          minWidth: 200,\r\n          key: 'sa019'\r\n        }\r\n      ],\r\n      IssueData: [],\r\n      /* 总条数 */\r\n      IssueTotal: 0,\r\n      IssuePageNum: 1,\r\n      IssuePageSize: 10,\r\n      /* 加载 */\r\n      IssueLoading: false,\r\n      // 多选相关参数\r\n      selectIssueRow: [],\r\n      multipleIssueSelection: [],\r\n      taskParamsArr: []\r\n    }\r\n  },\r\n  props: {\r\n    /* 问题点id集合 */\r\n    taskIdArr: {}\r\n  },\r\n  created () {\r\n    this.getIssueList()\r\n  },\r\n  watch: {\r\n    multipleIssueSelection (data) { // 存储选中的row\r\n      this.selectIssueRow = []\r\n      if (data.length > 0) {\r\n        data.forEach((item, index) => {\r\n          this.selectIssueRow.push(item.sa001)\r\n        })\r\n      }\r\n    },\r\n    taskIdArr (val) {\r\n      this.taskParamsArr = val\r\n    }\r\n  },\r\n  mounted () {\r\n    // 窗口改变时table自适应\r\n    window.addEventListener('resize', () => {\r\n      this.IssueTableHeight = Math.floor((window.innerHeight - 350 - 40) / 48) * 48 + 40\r\n      this.getIssueList()\r\n    }, false)\r\n  },\r\n  methods: {\r\n    /* 根据查询条件查询列表 */\r\n    getSearchIssueList () {\r\n      this.IssuePageNum = 1\r\n      this.getIssueList()\r\n    },\r\n    /* 查询列表 */\r\n    getIssueList () {\r\n      this.IssueLoading = true\r\n      userList({\r\n        data: {\r\n          pageSize: this.IssuePageSize,\r\n          pageNumber: this.IssuePageNum,\r\n          sa019: this.formInline.sa019,\r\n          sa012: this.formInline.sa012\r\n        }\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          this.IssueData = res.data.data.rows\r\n          this.IssueTotal = res.data.data.total\r\n          this.IssueLoading = false\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /* 分页跳转 */\r\n    IssuePageChange (pageNum) {\r\n      this.IssuePageNum = pageNum\r\n      this.getIssueList()\r\n    },\r\n    // 勾选checkbox事件\r\n    handleIssueSelectionChange (val) {\r\n      this.multipleIssueSelection = val\r\n    },\r\n    // 下发任务\r\n    handleIssueTask () {\r\n      if (this.selectIssueRow.length < 1) {\r\n        this.$Notice.error({ title: '下发人员不能为空！' })\r\n      } else {\r\n        this.handleIssue(this.selectIssueRow)\r\n      }\r\n    },\r\n    // 下发任务\r\n    handleIssue (e) {\r\n      sharePoint({\r\n        data: {\r\n          taskId: this.taskParamsArr.join(','),\r\n          uidList: e\r\n        }\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          this.$Notice.success({ title: '任务下发成功' })\r\n          this.handleCancel()\r\n        } else {\r\n          this.$Message.error(res.data.msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /* 清空查询数据 */\r\n    cleardata () {\r\n      this.formInline = {}\r\n      this.getSearchIssueList()\r\n    },\r\n    handleCancel () {\r\n      this.issue = false\r\n      this.selectIssueRow = []\r\n      this.multipleIssueSelection = []\r\n      this.cleardata()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" type=\"text/scss\" scoped>\r\n  .formInline {\r\n    overflow: hidden;\r\n    .ivu-form-item {\r\n      margin-bottom: 16px;\r\n    }\r\n  }\r\n  .mr10 {\r\n    margin-right: 10px;\r\n  }\r\n  .ml20 {\r\n    margin-left: 20px;\r\n  }\r\n  .page_box {\r\n    margin-top: 15px;\r\n    text-align: right;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IssueList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IssueList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IssueList.vue?vue&type=template&id=6266e61d&scoped=true&\"\nimport script from \"./IssueList.vue?vue&type=script&lang=js&\"\nexport * from \"./IssueList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IssueList.vue?vue&type=style&index=0&id=6266e61d&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6266e61d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tablet\"}},[_c('div',{staticClass:\"queryBox\"},[_c('Button',{staticClass:\"sign-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"ios-arrow-back\"},on:{\"click\":function($event){return _vm.$emit('signOut',false)}}},[_vm._v(\"返回\")])],1),_c('div',{staticClass:\"content_box\"},[_c('div',{staticClass:\"basicInfo\"},[_c('p',[_c('Icon',{attrs:{\"type\":\"ios-leaf\"}}),_vm._v(\"\\n        台账基础信息\\n      \")],1),_c('ul',[_c('li',[_c('b',[_vm._v(\"台账名称：\")]),_c('span',{attrs:{\"title\":_vm.tzName}},[_vm._v(\"\\n             \"+_vm._s(_vm.tzName)+\"\\n           \")])]),_c('li',[_c('b',[_vm._v(\"台账备注：\")]),_c('span',{attrs:{\"title\":_vm.tzRemark}},[_vm._v(\"\\n             \"+_vm._s(_vm.tzRemark)+\"\\n           \")])]),_c('li',[_c('b',[_vm._v(\"创建时间：\")]),_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.tzTime)+\"\\n           \")])]),_c('li',[_c('Button',{staticClass:\"btn-tabBtn\",attrs:{\"type\":\"success\",\"size\":\"small\",\"icon\":\"ios-map\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goMap($event)}}},[_vm._v(\"地图查看\")])],1)])]),_c('div',[_c('Table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"loading\":_vm.spotsLoading,\"columns\":_vm.spotsColumns1,\"data\":_vm.spotsData1,\"highlight-row\":\"\",\"max-height\":_vm.tableHeight}})],1)]),_c('div',{staticClass:\"extract_box\",class:{spotsAddActive:_vm.spotsAddActive}},[_c('taskManagementTableMap',{ref:\"taskManagementTableMap\",on:{\"signOut\":_vm.signOut}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-box\"},[_c('div',{ref:\"viewDiv\",attrs:{\"id\":\"viewDiv\"}}),_c('Button',{staticClass:\"sign-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"ios-arrow-back\"},on:{\"click\":function($event){return _vm.$emit('signOut',false)}}},[_vm._v(\"返回\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"map-box\">\r\n    <div id=\"viewDiv\" ref=\"viewDiv\"></div>\r\n    <Button type=\"primary\" size=\"small\" icon=\"ios-arrow-back\" class=\"sign-btn\" @click=\"$emit('signOut',false)\">返回</Button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport arcgisPackage from '../../../utils/arcgisTools'\r\nimport config from '../../../setting/mapConfig'\r\nimport { tdtlayer, tdtyNoteslayer, tdtclayer, tdtcNoteslayer, redLine, shengjie } from '@/utils/layers'\r\nimport Basemapthumbnail from '../../../assets/map_images/Basemapthumbnail.png'\r\nimport Basemapthumbnail1 from '../../../assets/map_images/Basemapthumbnail1.png'\r\nexport default {\r\n  name: 'checkInfoMap',\r\n  data () {\r\n    return {\r\n      map: {}, // 地图实例\r\n      view: {} // 地图视图实例\r\n    }\r\n  },\r\n  computed: {},\r\n  props: {},\r\n  components: {},\r\n  watch: {},\r\n  mounted () {\r\n    // 加载地图\r\n    this.createMap()\r\n  },\r\n  methods: {\r\n    /**\r\n     * @Description:初始化地图的函数\r\n     * @author 张淼\r\n     * @date 2019/5/5\r\n     */\r\n    async createMap () {\r\n      // 加载arcgis地图的依赖\r\n      let MapView = await arcgisPackage.MapView\r\n      let Map = await arcgisPackage.Map\r\n      let Basemap = await arcgisPackage.Basemap\r\n      let BasemapToggle = await arcgisPackage.BasemapToggle\r\n      // 天地图影像地图\r\n      let tdtylayer = await tdtlayer().then(res => { return res })\r\n      // 天地图矢量地图\r\n      let tdtylayer1 = await tdtclayer().then(res => { return res })\r\n      // 天地图的矢量标注图层\r\n      let tdtylayer2 = await tdtcNoteslayer().then(res => { return res })\r\n      // 天地图影像标注图层\r\n      let tdtylayer3 = await tdtyNoteslayer().then(res => { return res })\r\n      // 省界\r\n      let layerProvince = await shengjie().then(res => { return res })\r\n      let customBasemap = new Basemap({\r\n        baseLayers: [tdtylayer1, layerProvince, tdtylayer2],\r\n        title: '矢量地图',\r\n        id: 'myBasemap',\r\n        thumbnailUrl: Basemapthumbnail\r\n      })\r\n      let customBasemap1 = new Basemap({\r\n        baseLayers: [tdtylayer, layerProvince, tdtylayer3],\r\n        title: '影像地图',\r\n        id: 'myBasemap1',\r\n        thumbnailUrl: Basemapthumbnail1\r\n      })\r\n      this.map = new Map({\r\n        basemap: customBasemap1\r\n      })\r\n      this.view = new MapView({\r\n        map: this.map,\r\n        container: 'viewDiv',\r\n        center: config.centerPoint,\r\n        zoom: 7\r\n      })\r\n      // 增加底图切换插件\r\n      let basemapToggle = new BasemapToggle({\r\n        view: this.view,\r\n        nextBasemap: customBasemap\r\n      })\r\n\r\n      this.view.ui.add(basemapToggle, 'top-right')\r\n    },\r\n    /**\r\n     * 初始化组件\r\n     * */\r\n    initCom (id) {\r\n      this.map.remove(this.insercLayer)\r\n      this.view.graphics.removeAll()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .map-box{\r\n    width: 100%;\r\n    height: calc(100% + 20px);\r\n    padding: 15px;\r\n    position: relative;\r\n    /* 地图框样式 */\r\n    #viewDiv{\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .sign-btn {\r\n      position: absolute;\r\n      right: 20px;\r\n      bottom: 30px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable_map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable_map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskManagementTable_map.vue?vue&type=template&id=7c52b649&scoped=true&\"\nimport script from \"./taskManagementTable_map.vue?vue&type=script&lang=js&\"\nexport * from \"./taskManagementTable_map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taskManagementTable_map.vue?vue&type=style&index=0&id=7c52b649&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c52b649\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"tablet\">\r\n    <div class=\"queryBox\">\r\n      <Button type=\"primary\" size=\"small\" icon=\"ios-arrow-back\" class=\"sign-btn\" @click=\"$emit('signOut',false)\">返回</Button>\r\n    </div>\r\n    <div class=\"content_box\">\r\n      <div class=\"basicInfo\">\r\n        <p>\r\n          <Icon type=\"ios-leaf\" />\r\n          台账基础信息\r\n        </p>\r\n        <ul>\r\n          <li>\r\n            <b>台账名称：</b>\r\n            <span :title=\"tzName\">\r\n               {{ tzName }}\r\n             </span>\r\n          </li>\r\n          <li>\r\n            <b>台账备注：</b>\r\n            <span :title=\"tzRemark\">\r\n               {{ tzRemark }}\r\n             </span>\r\n          </li>\r\n          <li>\r\n            <b>创建时间：</b>\r\n            <span>\r\n              {{ tzTime }}\r\n             </span>\r\n          </li>\r\n          <li>\r\n            <Button type=\"success\" size=\"small\" icon=\"ios-map\" class=\"btn-tabBtn\" @click.stop=\"goMap\">地图查看</Button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div>\r\n        <Table border stripe :loading=\"spotsLoading\" :columns=\"spotsColumns1\" :data=\"spotsData1\" highlight-row :max-height=\"tableHeight\"></Table>\r\n      </div>\r\n    </div>\r\n    <!-- 地图查看-->\r\n    <div class=\"extract_box\" :class=\"{spotsAddActive:spotsAddActive}\">\r\n      <taskManagementTableMap ref=\"taskManagementTableMap\" @signOut=\"signOut\"></taskManagementTableMap>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport taskManagementTableMap from './taskManagementTable_map'\r\nimport { renderDateTime } from '@/utils/common'\r\nimport {\r\n  // 表格列表\r\n  getTaskById\r\n} from '@/api/taskManager'\r\nimport {\r\n  // 斑块表格列表\r\n  getPointFromStage\r\n} from '@/api/taskScheduler'\r\nexport default {\r\n  name: 'spotsTable',\r\n  data () {\r\n    return {\r\n      /* 表格高度 */\r\n      tableHeight: Math.floor(window.innerHeight - 330),\r\n      /* 表格数据 */\r\n      spotsColumns1: [\r\n        {\r\n          title: '序号',\r\n          key: 'index',\r\n          width: 100,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('span', params.index + 1)\r\n          }\r\n        },\r\n        {\r\n          title: '斑块名称',\r\n          align: 'center',\r\n          minWidth: 200,\r\n          key: 'activeName ',\r\n          render: (h, params) => {\r\n            return h('span', params.row.activeName)\r\n          }\r\n        },\r\n        {\r\n          title: '斑块编号',\r\n          align: 'center',\r\n          minWidth: 100,\r\n          key: 'cd001 ',\r\n          render: (h, params) => {\r\n            return h('span', params.row.cd001)\r\n          }\r\n        },\r\n        {\r\n          title: '下发状态',\r\n          align: 'center',\r\n          minWidth: 100,\r\n          key: 'sendStatus ',\r\n          render: (h, params) => {\r\n            if (params.row.activeName !== null && params.row.activeName !== '') {\r\n              if (params.row.sendStatus === 1) {\r\n                return h('span', '已下发')\r\n              } else {\r\n                return h('span', '未下发')\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: '下发人员',\r\n          align: 'center',\r\n          minWidth: 100,\r\n          // key: 'sa019 ',\r\n          render: (h, params) => {\r\n            if (params.row.st4SysSa && params.row.st4SysSa.sa019) {\r\n              return h('span', params.row.st4SysSa.sa019)\r\n            } else {\r\n              return h('span', '')\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      spotsData1: [],\r\n      /* 加载 */\r\n      spotsLoading: false,\r\n      /* 提取信息框状态 */\r\n      spotsAddActive: false,\r\n      tzTime: '',\r\n      tzName: '',\r\n      tzRemark: ''\r\n    }\r\n  },\r\n  props: {\r\n    /* 编辑行任务id */\r\n    seeId: {}\r\n  },\r\n  components: {\r\n    // 地图\r\n    taskManagementTableMap\r\n  },\r\n  watch: {\r\n    seeId () {\r\n      this.dataId()\r\n    }\r\n  },\r\n  mounted () {\r\n    // 窗口改变时table自适应\r\n    window.addEventListener('resize', () => {\r\n      this.tableHeight = Math.floor(window.innerHeight - 330)\r\n      this.dataId()\r\n    }, false)\r\n  },\r\n  methods: {\r\n    dataId () {\r\n      this.getTableList(this.seeId)\r\n      this.getBkList(this.seeId)\r\n    },\r\n    /* 获取台账基础字段列表 */\r\n    getTableList (e) {\r\n      getTaskById({\r\n        data: {\r\n          cl001: e\r\n        }\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          if (res.data.data.data.rlhdGroupList.length > 0) {\r\n            this.spotsData1 = res.data.data.data.rlhdGroupList\r\n            this.tzTime = renderDateTime(this.spotsData1[0].createDate)\r\n            this.tzName = this.spotsData1[0].name\r\n            this.tzRemark = this.spotsData1[0].remark\r\n          }\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /* 获取台账基础字段列表 */\r\n    getBkList (e) {\r\n      this.spotsLoading = true\r\n      getPointFromStage({\r\n        data: {\r\n          taskId: e\r\n        }\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          if (res.data.data !== '' && res.data.data !== null) {\r\n            this.spotsData1 = res.data.data.st4ScsCdList\r\n          } else {\r\n            this.spotsData1 = []\r\n            this.$Notice.warning({ title: '此任务下尚无绑定的问题斑块！' })\r\n          }\r\n          this.spotsLoading = false\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n        this.spotsLoading = false\r\n      })\r\n    },\r\n    /* 信息提取地图页面退出 */\r\n    signOut (spotsAddActive) {\r\n      this.spotsAddActive = spotsAddActive\r\n    },\r\n    // 查看地图\r\n    goMap () {\r\n      this.spotsAddActive = true\r\n      this.$refs.taskManagementTableMap.initCom()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped rel='stylesheet/scss'>\r\n  #tablet{\r\n    position: relative;\r\n    height: 100%;\r\n    .queryBox {\r\n      height: 50px;\r\n      border-bottom: 1px solid #d3d3d3;\r\n      margin: 0 15px 15px;\r\n      position: relative;\r\n      overflow: inherit;\r\n      line-height: 50px;\r\n      text-align: right;\r\n    }\r\n    .ml20 {\r\n      margin-left: 20px;\r\n    }\r\n    .mr20 {\r\n      margin-right: 20px;\r\n    }\r\n    .mt15 {\r\n      margin-top: 15px;\r\n    }\r\n    .pull-right {\r\n      float: right;\r\n    }\r\n    .btn-tabBtn {\r\n      background: rgb(16,186,204);\r\n      border-color: rgb(16,186,204);\r\n      margin-right: 10px;\r\n      &:hover {\r\n        background: #13B1CC;\r\n        border-color: #13B1CC;\r\n      }\r\n    }\r\n    .iconfont {\r\n      margin-right: 4px;\r\n      &.icon-xuanzewenjian {\r\n        font-size: 12px;\r\n      }\r\n      &.icon-xiazai {\r\n        font-size: 13px;\r\n      }\r\n      &.icon-upload {\r\n        font-size: 12px;\r\n      }\r\n      &.icon-leimupinleifenleileibie {\r\n        font-size: 12px;\r\n      }\r\n    }\r\n    .content_box {\r\n      margin: 20px 15px;\r\n      .page_box{\r\n        width: 100%;\r\n        padding: 15px;\r\n        text-align: right\r\n      }\r\n    }\r\n    .extract_box{\r\n      height: 100%;\r\n      width: 100%;\r\n      position: absolute;\r\n      right: -120%;\r\n      bottom:0;\r\n      z-index: 1356;\r\n      background: #fff;\r\n      transition: all 0.8s ease;\r\n      border-radius: 0 0 5px 5px;\r\n      .closeBtn{\r\n        position: absolute;\r\n        right:10px;\r\n        bottom:10px;\r\n        z-index: 131531313;\r\n      }\r\n    }\r\n    .spotsAddActive{\r\n      right:0;\r\n    }\r\n    .btn-add {\r\n      background-color: #01c296;\r\n      border-color: #01c296;\r\n      &:hover, &:focus {\r\n        background-color: #05ab85;\r\n        border-color: #05ab85;\r\n      }\r\n    }\r\n    .btn-exportBtn {\r\n      background: #2d579b;\r\n      border-color: #2d579b;\r\n      &:hover {\r\n        background: #1a3a6f;\r\n        border-color: #1a3a6f;\r\n      }\r\n    }\r\n    .btn-import {\r\n      background-color: rgb(194,146,1);\r\n      border-color: rgb(194,146,1);\r\n      &:hover, &:focus {\r\n        background-color: #B28301;\r\n        border-color: #B28301;\r\n      }\r\n    }\r\n    .basicInfo {\r\n      margin-top: -10px;\r\n      margin-bottom: 10px;\r\n      p {\r\n        text-align: left;\r\n        font-size: 16px;\r\n      }\r\n      ul {\r\n        overflow: hidden;\r\n        line-height: 28px;\r\n        padding: 0 20px;\r\n        text-align: left;\r\n        li {\r\n          float: left;\r\n          width: 20%;\r\n          overflow: hidden;\r\n          margin-right: 20px;\r\n          b {\r\n            float: left;\r\n          }\r\n          span {\r\n            float: left;\r\n            width: calc(100% - 69px);\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./spotsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./spotsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./spotsTable.vue?vue&type=template&id=9e059cba&scoped=true&\"\nimport script from \"./spotsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./spotsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./spotsTable.vue?vue&type=style&index=0&id=9e059cba&lang=scss&scoped=true&rel=stylesheet%2Fscss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e059cba\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"tablet\">\r\n    <div class=\"queryBox\">\r\n      <QueryBox :formArr=\"queryFrom\" @query=\"getQueryData\" style=\"width: calc(100% - 75px)\" ref=\"getQuery\"></QueryBox>\r\n      <div class=\"queryBtns\">\r\n<!--        <Button type=\"primary\" size=\"small\" icon=\"ios-paper-plane\" class=\"btn-exportBtn\" style=\"margin-right: 10px\" @click.stop=\"handleIssue\">下发</Button>-->\r\n        <Button type=\"success\" size=\"small\" icon=\"md-add\" class=\"btn-add\" @click.stop=\"$refs.taskAdd.taskBuild = true\">新建</Button>\r\n      </div>\r\n    </div>\r\n    <div class=\"content_box\">\r\n      <div>\r\n        <Table border stripe :loading=\"loading\" :columns=\"columns1\" :data=\"data1\" highlight-row :max-height=\"tableHeight\"\r\n               ref=\"multipleTable\"\r\n               @on-selection-change=\"handleSelectionChange\">\r\n        </Table>\r\n        <div class=\"page_box\">\r\n          <Page :total=\"total\" ref=\"pages\" :page-size=\"pageSize\" :current.sync=\"pageNum\" @on-change=\"pageChange\" show-total/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 新建-->\r\n    <taskAdd ref=\"taskAdd\" @getTableData=\"getClearQueryData\"></taskAdd>\r\n    <!-- 修改-->\r\n    <taskEdit ref=\"taskEdit\" :data=\"editDefaultData\" @getTableData=\"getTableList\"></taskEdit>\r\n    <!-- 下发任务列表-->\r\n    <IssueList ref=\"issueList\" :taskIdArr=\"selectRow\"></IssueList>\r\n    <!-- 查看问题点-->\r\n    <div class=\"spotsTable\" :class=\"{addActive:addActive}\">\r\n      <spotsTable ref=\"spotsTable\" :seeId=\"spotsSeeId\" @signOut=\"signOut\"></spotsTable>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport QueryBox from '@/components/publicQuery'\r\nimport taskAdd from './TaskAdd'\r\nimport taskEdit from './TaskEdit'\r\nimport IssueList from './IssueList'\r\nimport spotsTable from './spotsTable'\r\nimport {\r\n  // 表格列表\r\n  getTaskList,\r\n  // 删除单条记录\r\n  deleteTask\r\n} from '@/api/taskManager'\r\nexport default {\r\n  name: 'extracTable',\r\n  data () {\r\n    return {\r\n      /* 查询框查询条件 */\r\n      queryData: {},\r\n      /* 表格高度 */\r\n      tableHeight: Math.floor((window.innerHeight - 300 - 40) / 48) * 48 + 40,\r\n      /* 表格加载 */\r\n      loading: false,\r\n      /* 表格数据 */\r\n      columns1: [\r\n        // {\r\n        //   type: 'selection',\r\n        //   width: 60,\r\n        //   fixed: 'left',\r\n        //   align: 'center'\r\n        // },\r\n        {\r\n          title: '序号',\r\n          key: 'index',\r\n          width: 100,\r\n          align: 'center',\r\n          // fixed: 'left',\r\n          render: (h, params) => {\r\n            return h('span', params.index + (this.pageNum - 1) * this.pageSize + 1)\r\n          }\r\n        },\r\n        {\r\n          title: '任务名称',\r\n          align: 'center',\r\n          // fixed: 'left',\r\n          ellipsis: true,\r\n          tooltip: true,\r\n          minWidth: 200,\r\n          key: 'cl002'\r\n        },\r\n        // {\r\n        //   title: '任务类型',\r\n        //   align: 'center',\r\n        //   key: 'cl004',\r\n        //   width: 100,\r\n        //   render: (h, params) => {\r\n        //     let data = params.row.cl004\r\n        //     if (data === 0) {\r\n        //       return h('span', {}, '巡护')\r\n        //     } else if (data === 1) {\r\n        //       return h('span', {}, '核查')\r\n        //     } else if (data === null) {\r\n        //       return h('span', {}, '')\r\n        //     }\r\n        //   }\r\n        // },\r\n        {\r\n          title: '任务年份',\r\n          align: 'center',\r\n          width: 100,\r\n          key: 'cl010'\r\n        },\r\n        // {\r\n        //   title: '任务级别',\r\n        //   align: 'center',\r\n        //   key: 'cl011',\r\n        //   width: 100,\r\n        //   render: (h, params) => {\r\n        //     let data = params.row.cl011\r\n        //     if (data === 1) {\r\n        //       return h('span', {}, '国家级')\r\n        //     } else if (data === 2) {\r\n        //       return h('span', {}, '市级')\r\n        //     } else if (data === null) {\r\n        //       return h('span', {}, '')\r\n        //     }\r\n        //   }\r\n        // },\r\n        {\r\n          title: '任务台账',\r\n          align: 'center',\r\n          ellipsis: true,\r\n          tooltip: true,\r\n          minWidth: 200,\r\n          render: (h, params) => {\r\n            let row = params.row\r\n            let optionArr = []\r\n            if (row.rlhdGroupList.length > 0) {\r\n              row.rlhdGroupList.forEach(item => {\r\n                if (item.name) {\r\n                  optionArr.push(item.name)\r\n                }\r\n              })\r\n            }\r\n            return h('div', {}, optionArr.join('，'))\r\n          }\r\n        },\r\n        {\r\n          title: '任务描述',\r\n          align: 'center',\r\n          ellipsis: true,\r\n          tooltip: true,\r\n          minWidth: 200,\r\n          key: 'cl009'\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: '',\r\n          width: 260,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              // 查看台账\r\n              h('Button', {\r\n                props: {\r\n                  type: 'primary',\r\n                  size: 'small',\r\n                  icon: 'md-eye'\r\n                },\r\n                style: {\r\n                  marginRight: '5px'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.spotsSeeId = params.row.cl001\r\n                    this.addActive = true\r\n                    this.$refs.spotsTable.getTableList(this.spotsSeeId)\r\n                  }\r\n                }\r\n              }, '查看台账'),\r\n              // 修改\r\n              h('Button', {\r\n                props: {\r\n                  type: 'warning',\r\n                  size: 'small',\r\n                  icon: 'md-create'\r\n                },\r\n                style: {\r\n                  marginRight: '5px'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.editDefaultData = params.row\r\n                    this.$refs.taskEdit.taskEdit = true\r\n                  }\r\n                }\r\n              }, '修改'),\r\n              // 删除\r\n              h('Button', {\r\n                props: {\r\n                  type: 'error',\r\n                  size: 'small',\r\n                  icon: 'md-trash'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: '确认',\r\n                      content: '请问您确定要删除该核查任务吗？',\r\n                      onOk: () => {\r\n                        this.infoDel(params.row.cl001)\r\n                      },\r\n                      onCancel: () => {\r\n                      }\r\n                    })\r\n                  }\r\n                }\r\n              }, '删除')\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      data1: [],\r\n      /* 总条数 */\r\n      total: 0,\r\n      /* 初始化页码 */\r\n      pageNum: 1,\r\n      /* 页容量自适应 */\r\n      pageSize: Math.floor((Math.floor((window.innerHeight - 300 - 40) / 48) * 48 + 40) / 48),\r\n      /* 编辑框默认原数据 */\r\n      editDefaultData: {},\r\n      /* 查看问题点弹框状态 */\r\n      addActive: false,\r\n      /* 查看问题点的任务id */\r\n      spotsSeeId: 0,\r\n      // 多选相关参数\r\n      selectRow: [],\r\n      multipleSelection: []\r\n    }\r\n  },\r\n  components: {\r\n    QueryBox,\r\n    // 新建任务弹窗\r\n    taskAdd,\r\n    // 编辑任务弹窗\r\n    taskEdit,\r\n    // 下发人员列表\r\n    IssueList,\r\n    // 查看问题点\r\n    spotsTable\r\n  },\r\n  computed: {\r\n    // 查询表单参数\r\n    queryFrom: function () {\r\n      return [\r\n        {\r\n          type: 1,\r\n          field: 'cl002',\r\n          title: '任务名称'\r\n        },\r\n        // {\r\n        //   type: 2,\r\n        //   field: 'cl004',\r\n        //   title: '任务类型',\r\n        //   data: [\r\n        //     {\r\n        //       value: '',\r\n        //       label: '请选择'\r\n        //     },\r\n        //     {\r\n        //       value: 0,\r\n        //       label: '巡护'\r\n        //     },\r\n        //     {\r\n        //       value: 1,\r\n        //       label: '核查'\r\n        //     }\r\n        //   ]\r\n        // },\r\n        {\r\n          type: 3,\r\n          field: 'cl010',\r\n          title: '任务年份'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  watch: {\r\n    multipleSelection (data) { // 存储选中的row\r\n      this.selectRow = []\r\n      if (data.length > 0) {\r\n        data.forEach((item, index) => {\r\n          this.selectRow.push(item.cl001)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getTableList()\r\n  },\r\n  mounted () {\r\n    // 窗口改变时table自适应\r\n    window.addEventListener('resize', () => {\r\n      this.tableHeight = Math.floor((window.innerHeight - 300 - 40) / 48) * 48 + 40\r\n      this.pageSize = Math.floor((Math.floor((window.innerHeight - 300 - 40) / 48) * 48 + 40) / 48)\r\n      this.getTableList()\r\n    }, false)\r\n  },\r\n  methods: {\r\n    /* 获取查询数据 */\r\n    getQueryData (data) {\r\n      this.queryData = data\r\n      this.pageNum = 1\r\n      this.getTableList()\r\n    },\r\n    /* 获取字段列表 */\r\n    getTableList () {\r\n      this.loading = true\r\n      getTaskList({\r\n        data: {\r\n          pageSize: this.pageSize,\r\n          pageNumber: this.pageNum,\r\n          ...this.queryData\r\n        }\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          this.data1 = res.data.data.rows\r\n          this.total = res.data.data.total\r\n          this.loading = false\r\n        } else {\r\n          this.$Notice.error({ title: res.data.msg })\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    /* 分页跳转 */\r\n    pageChange (pageNum) {\r\n      this.pageNum = pageNum\r\n      this.getTableList()\r\n    },\r\n    /* axios: 删除数据 */\r\n    infoDel (e) {\r\n      deleteTask({\r\n        data: {\r\n          cl001: e\r\n        }\r\n      }).then((res) => {\r\n        if (res.data.code === '0000') {\r\n          this.$Notice.success({ title: '删除成功' })\r\n          // 避免刪除当前页最后一条数据时显示--无数据\r\n          if (this.data1.length === 1 && this.pageNum > 1) {\r\n            this.pageNum = this.pageNum - 1\r\n          }\r\n          this.getTableList()\r\n        } else {\r\n          this.$Message.error(res.data.msg)\r\n        }\r\n      }).catch(() => {\r\n        this.$Notice.error({ title: '服务器错误' })\r\n      })\r\n    },\r\n    // 勾选checkbox事件\r\n    handleSelectionChange (val) {\r\n      this.multipleSelection = val\r\n    },\r\n    // 下发事件\r\n    handleIssue () {\r\n      this.$refs.issueList.issue = false\r\n      if (this.selectRow.length < 1) {\r\n        this.$Notice.error({ title: '请先勾选任务再点击下发！' })\r\n      } else if (this.selectRow.length > 1) {\r\n        this.$Notice.error({ title: '只能选择一个任务！' })\r\n      } else {\r\n        this.$refs.issueList.issue = true\r\n      }\r\n    },\r\n    /* 查看问题点页面退出 */\r\n    signOut (addActive) {\r\n      this.addActive = addActive\r\n      if (addActive === false) {\r\n        this.spotsSeeId = ''\r\n      }\r\n    },\r\n    /* 新添加任务之后返回的任务列表同时清空查询条件 */\r\n    getClearQueryData () {\r\n      this.queryData = {}\r\n      this.pageNum = 1\r\n      this.getTableList()\r\n      this.$refs.getQuery.cleardata()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped rel='stylesheet/scss'>\r\n  #tablet{\r\n    position: relative;\r\n    .ml20 {\r\n      margin-left: 20px;\r\n    }\r\n    .mr20 {\r\n      margin-right: 20px;\r\n    }\r\n    .mt15 {\r\n      margin-top: 15px;\r\n    }\r\n    .pull-right {\r\n      float: right;\r\n    }\r\n    .btn-tabBtn {\r\n      background: rgb(16,186,204);\r\n      border-color: rgb(16,186,204);\r\n      margin-right: 10px;\r\n      &:hover {\r\n        background: #13B1CC;\r\n        border-color: #13B1CC;\r\n      }\r\n    }\r\n    .iconfont {\r\n      margin-right: 4px;\r\n      &.icon-xuanzewenjian {\r\n        font-size: 12px;\r\n      }\r\n      &.icon-xiazai {\r\n        font-size: 13px;\r\n      }\r\n      &.icon-upload {\r\n        font-size: 12px;\r\n      }\r\n      &.icon-leimupinleifenleileibie {\r\n        font-size: 12px;\r\n      }\r\n    }\r\n    .queryBox {\r\n      height: 50px;\r\n      border-bottom: 1px solid #d3d3d3;\r\n      margin: 0 15px 15px;\r\n      position: relative;\r\n      overflow: inherit;\r\n      .queryBtns {\r\n        float: right;\r\n        margin-top: 14px;\r\n      }\r\n    }\r\n    .content_box {\r\n      margin: 0 15px 0;\r\n      .page_box{\r\n        width: 100%;\r\n        padding: 15px 0;\r\n        text-align: right\r\n      }\r\n    }\r\n    .spotsTable {\r\n      height: 100%;\r\n      width: 100%;\r\n      position: absolute;\r\n      right: -120%;\r\n      top:0;\r\n      z-index: 1356;\r\n      background: #fff;\r\n      transition: all 0.8s ease;\r\n      border-radius: 0 0 5px 5px;\r\n      .closeBtn{\r\n        position: absolute;\r\n        right:10px;\r\n        bottom:10px;\r\n        z-index: 131531313;\r\n      }\r\n    }\r\n    .addActive{\r\n      right:0;\r\n    }\r\n    .btn-add {\r\n      background-color: #01c296;\r\n      border-color: #01c296;\r\n      &:hover, &:focus {\r\n        background-color: #05ab85;\r\n        border-color: #05ab85;\r\n      }\r\n    }\r\n    .btn-exportBtn {\r\n      background: #2d579b;\r\n      border-color: #2d579b;\r\n      &:hover {\r\n        background: #1a3a6f;\r\n        border-color: #1a3a6f;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./taskManagementTable.vue?vue&type=template&id=7854f98e&scoped=true&\"\nimport script from \"./taskManagementTable.vue?vue&type=script&lang=js&\"\nexport * from \"./taskManagementTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./taskManagementTable.vue?vue&type=style&index=0&id=7854f98e&lang=scss&scoped=true&rel=stylesheet%2Fscss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7854f98e\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IssueList.vue?vue&type=style&index=0&id=6266e61d&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IssueList.vue?vue&type=style&index=0&id=6266e61d&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable.vue?vue&type=style&index=0&id=7854f98e&lang=scss&scoped=true&rel=stylesheet%2Fscss&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./taskManagementTable.vue?vue&type=style&index=0&id=7854f98e&lang=scss&scoped=true&rel=stylesheet%2Fscss&\"","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n"],"sourceRoot":""}