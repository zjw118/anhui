(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9fcbee4"],{"133b":function(e,t,r){"use strict";var n=r("e7a1"),a=RegExp.prototype.exec,i=String.prototype.replace,s=a,o="lastIndex",c=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[o]||0!==t[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(s=function(e){var t,r,s,u,d=this;return l&&(r=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),c&&(t=d[o]),s=a.call(d,e),c&&s&&(d[o]=d.global?s.index+s[0].length:t),l&&s&&s.length>1&&i.call(s[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),e.exports=s},"136f":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"legend_box"},[0!==e.data.length?r("ul",e._l(e.data,(function(t,n){return r("li",{key:n,staticStyle:{"padding-right":"50px"}},[0===t.type?r("i",{staticStyle:{height:"12px",width:"12px",margin:"4px"},style:{backgroundColor:t.backgroundColor,border:t.border}}):e._e(),1===t.type?r("i",{class:t.class,staticStyle:{height:"20px",width:"20px","background-size":"100% 100%"},style:{backgroundImage:t.background}}):e._e(),2===t.type?r("i",{staticStyle:{width:"12px",margin:"9px 4px",display:"inline-block"},style:{backgroundColor:t.backgroundColor,height:t.weight+"px",margin:Math.floor(12-t.weight)/2+4+"px 4px"}}):e._e(),r("span",[e._v(e._s(t.name))]),r("i-switch",{directives:[{name:"show",rawName:"v-show",value:t.switchDis,expression:"item.switchDis"}],staticStyle:{position:"absolute",right:"15px"},attrs:{size:"small"},model:{value:t.switch,callback:function(r){e.$set(t,"switch",r)},expression:"item.switch"}})],1)})),0):e._e()])},a=[],i={name:"Legend",data:function(){return{}},props:{data:{default:[]}},mounted:function(){},methods:{}},s=i,o=(r("6505"),r("6691")),c=Object(o["a"])(s,n,a,!1,null,"013dd2a8",null);t["a"]=c.exports},"1eb0":function(e,t,r){var n=r("a6ad"),a=r("3038");e.exports=function(e){return function(t,r){var i,s,o=String(a(t)),c=n(r),l=o.length;return c<0||c>=l?e?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===l||(s=o.charCodeAt(c+1))<56320||s>57343?e?o.charAt(c):i:e?o.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},2137:function(e,t,r){"use strict";var n=r("02f2"),a=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"2b03":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEHklEQVR4Xu2aXVIaQRCAuxepkn0JniDmBCEniD6mkkV9TQniCYInSHIC9QQS1sqruiSVx5ATBE8gnkDyslglbKcGhCIJy85Pz6KBfeGBmZ6eb7p7unsXYcEfXPD9wxLA0gIWnMDSBdI2gKDsbiFAgYjy4ne0PgG2EaFNAK1iPbxIS69ULKCxu7pB6OwBwjYC5JM2RwAdJGoC0bF3ettMGm/yv1UA3yqr670+HgLitraSRE2n3zt4/fmupS1jxkRrAILSagXROeFTmqpevXvMJ28oyQqAoOSeIEKFW1kiqPUz4cFODTpcstkB2Nr8eMNETc/vbj5IAI2y+wEA3nMpFydHWELRD/c51mGzgMauuw0OnHEoJSUjgh3vNDyXGptGEAzKuSsEXDdVSHa+uCr7TvjMNB6wWMCXUq5KiIeyyjOO++jVQ+F22g8LgKDs3sgkOP9oSXBJQB0EzAPCc9VdcFiBMQAd3yeii2yGqq9qt+3Rps8qkF+J3CMA2FMBQRTtF/3bmsqcybHmAMq5IwB8J68AHXv1bjVuvEYC9cmrh9o5hzEAleBHRD+KfncjCVZQyjUR8WXSOPG/cINiPVyTGTttjDGARtkl2cVlzVXVrXpOuKZ7GxgBGBQ7kXMlC8Dp3b2QLWpUwEIUbepWjUYARJkLjvNdFsCKEz2bDHyz5v2XAEAye/v6NluIVrI/ZcHOzQJUXQAApCJ2Q/VmmZcLiBMKSm4HEZ5wnZby6QOAVw+1XVl74mjDQSl3johbsgAG7a4I9qcVMoPWmeOcqWSVsldrnH4MALQ7P6LFNVnNibbZuEkqCxSJDt74XZFBaj3GAO5T2But1RkmqdwsVhKhYRxQcwOGfQ9EmJq/kGFsAUKIaubGB8CsEGIDMIBQyrUB8SnX5hLlEF17fte4AcNiAUM30A6GiXuNGWDcDGG1ABEMM31XvN6Szwk0t04Ev/qZcF23AJpcls0CBm6QUlcYAFhOn9UChLA0rIDz9NkBpGQFbKdvBcAgMernWlZuBKLrXqZb4PD9URxgjQEjobZuBNmOkkpstQJgmBe4LZ1Wd6zyBJeeHyrXCkkw7AFQ7BYlKWrS9Jgl2xoA5hpBqpGSCHHKAKsARMforu+0TJIjce1lM1FBtpeoCsEqAKZrkfXa+xuQdQBGhZKlwGctFY4zP9X2+ViOQbNT1hVSsQC9gDj7HaLsBpPGpQZAqU6wkPHFgUgNwNAKJHsGki9Qkk5X5v9UAdy7wsw3v+LbgaLf1f+wUmbXE2NSBzArN+AudWVYpA5AKBX7TVGKpm+1GpQhP+UjCGvp7txqgVkL/+EKKUb9uWSCcSDGt0IKCc+DuAanKSFeqnB88SnjdtPGzCUI6iprY94SgA2qj0nm0gIe02nZ0HVpATaoPiaZC28BvwFAlclQ7nEeNwAAAABJRU5ErkJggg=="},"39f3":function(e,t,r){e.exports=r.p+"img/Basemapthumbnail1.5f8d6db2.png"},"3cf7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIUlEQVR4Xu2aUVLbSBCG/xZVATSuCrxs5KclJ4j3BIET4D1BwgkCJ0j2BIETJDlBkhPEe4L1ngD2yWJfcKo8gjxYnZKNvV7KkmY0PWMK7FfNdPd86u7pbovwyH/0yM+PNYC1BzxyAusQCO0AsU4PAeoQ8w6Azkw/E10AuAC4n6nkayi7gnjA1vVgP8qjV8TcBaE4ePWPMWRCL4/47Ga73atb7vLcK4Ct68FelNN7ArqNjWT0gOhEt37pN5ZRsdEbADUavAbRBymjc8LxdZycScmbyfECINaXHwj8WtpYBn3M4icnoN2hlGxxAL4OPz8wo6dbycG9BBDrwTsCvZUyrkzOxBPUsyMJPWIeEOvLLoE/SxhlIoNBv2fq2ReTtVVrBAGk5wTsuRpkvJ8x1GrzuWs+EAGwnaXHEeO9sfFCCxn8R6ba71zEiQBQo/TKqMC5YykDfxPzkIl2CHhhfRABL3AG0CT2GfiaR3x8s90uyt/pj6924uzmlECvrEAwH+lW+6PVnoXFzgDUKD0F4Y2xAYwz3UqOy9bbFlAM/pSpduOawxlArC2SH/OfutXer4OlRoMeiF7WrZt6Doa6lewarV2yyBmA0ikbKzd0V9uw0vHmbtPbwAlA0exs5HRuDiD6zbSpsQE7jvigadfoCmB/I6dvpgDGET//X+Kr2PggAZhWb2r0bweU/2UBdmUeYBUCphnb9mZZWQgUb0iN0iEIT6Xelu3bL/RqlTQO5cYbZweOdfqFgENTAMW1xURHyxqZYnS2MabPVlWl4dVaZp8zANvCZV74AX2AFro57tLCkNQUaE44uY6TU9P1d9c5AyhKWJX9uGpqgOs+m5tlmS53AACsw8D11HM3Mqssq9QJAQg7DJkfyLCy9A6gUBDrwQWBfpV6uXVyGPxPptrOAxgRD5heh7JjcAMAzsOQQocYgEky1D8ubGqCukOWPmd812pzr2kDtChXDsA0DAJNhd1HYTMIogCCeIHg25cNgVukvr1AYhDqLQQmgqezvb6PG2GS+eOtjkTs+wmBW6nebgSBe1++FC5J1bFO+41G3SXyihF6ppL5BxWNb5A7G2WT4ILwSWdnMS2qO5BLzx+kElymRKpHMB2k1EFc9tybBxTKJkPTMfWdiiPG9/EGd0xnibYQvAK47RGciiPpay9YElxU1LRR8pX4/NYBS3ywaUL0lfiCA5iGgvXssPI/RNtYL1vvPQfMFVt0iz4qvtUDsJgZmP6BIuEF4TzgvzK58p/f4tuBTCXNP6y0pBIcQGVtINzqmrAIDqAwquybopCu77UbNCF/9yMIn+XuynqBKsWLoRAy66+kEiwDMZsbhCh47sU1uLxjvOxKfPFpEnbBu8GmRoXct5JbIOQB63StAdQReujP1x7w0N9w3fnWHlBH6KE//wkHHstQWTn/4QAAAABJRU5ErkJggg=="},"42e8":function(e,t,r){e.exports=r.p+"img/Basemapthumbnail.6dc37597.png"},"5f9c":function(e,t,r){var n=r("da0b"),a=r("6077"),i=r("1277")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},6505:function(e,t,r){"use strict";var n=r("66d3"),a=r.n(n);a.a},"66d3":function(e,t,r){},"684d":function(e,t,r){},"6af6":function(e,t,r){"use strict";r("b3f3");var n=r("a6d5"),a=r("b8ea"),i=r("0cc1"),s=r("3038"),o=r("1277"),c=r("133b"),l=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=o(e),h=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h?!i((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[p](""),!t})):void 0;if(!h||!f||"replace"===e&&!u||"split"===e&&!d){var g=/./[p],m=r(s,p,""[e],(function(e,t,r,n,a){return t.exec===c?h&&!a?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),A=m[0],v=m[1];n(String.prototype,e,A),a(RegExp.prototype,p,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"6c68":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIklEQVR4Xu1aTVIaURDuJs4YswkuUiVsgoskwyrkBNETaE6gniB4gpgTqCfQnCB6gpgTBFeMyUKyGazKIrgBGZBOvREMpQzzfnoeFkIVq+nXP9/r/xmER/7DR24/zACYecAjR2AWArYdIN99swaEJSLMAlBpIB8BaoDiT5Vg7uzYll5WPGCp461kCDYAcB0AshLGNYjghDK0f+H4JxL02iSpArBEXgFD3EUEYbjWj4BOunC9/cf9VdFikHAoNQCWQm8zA3jApTRBr1x3z/a5+A2FHjdLgHzoHQDgJj9nOmw6V9sNrDW4eLN7QHrG35gsQqLu+qsPEoB829sBxE9cysXzocPA9bc45LB5QL77eh16T75yKCXFI3P9IZj7eSRFO4aIDYBc2ztHxIKpQgrnG02ntWyaD1gAyIXFMgLsKijPQ0r0OZj3d0yYsQCQD4t/JRucO7rSKQE0MGqO8K2GIcZeYAyATuwTwTG5VL5AvzYwOkuF7LPO0z0A3FABoge0deH6hypnhmmNAciFxT0E+CirAAHs191qOY5evYGiL4Hra/cc5gAoJD8C+l53/ZUksHKhd4KA75Po+s8bgVtdlKS9R2YMQD4skqxwWXdVDaum01rUrQZGAIhhJ9PBc1kAOtB9JzvUKAGLtKo7NZoBEI25+E0WgJ5Dy8OJb9y5qQQAJLu3F+GrkgNzP6SBnZgHKIYAgFzGVq0svUkBIG4oH3oNAHzOdVuqty/kBm5VO5S1Dw4MzrWLR4iwJgsAADQgc701apC5WZ2hGKhk1maRSNnSGqefMQDqjcutKhVA+j/NUbQvvF2SygJKANt1t7onS3+XzhiAmxZ2QcwCE/mpVJZRChoDIJhqhAELWKbuL5RgAUC1c2OxHgBkO8tx8lgA6HtBDRFechmXxIcIftfnq8YLGDYADJJhkq2jnzMsQ9hCQDDqz/M1lZ5Az/Ko+F02nauC7gA0LJfNA6KmyNZWmOn2WT3Anhfw3T47AFa8gPH2UwFA5IKFcKGSRkUQmb/ltkocsT/IA6w5YMA0rYrAUffZW+G4TJ4PvYrmqjuGJZ0Grq88KyRVmlQ8QAjtT3bS26IkRU1mfiud4CghfDOC3CIlCcRRz1PzgMgLoo0RiFCQXpjcV5Iuew6UZHeJqiCkCgBLWWQue9aS4LCgXLuoOSilk/hSa4Xj3E83IaaV+KwDIASqJsSkd4iqsR5Hn3oOGAhWmRbT6PgmDkBUFWQ/nZN8gcLhBdY8YKBs0ptf8e1Afb6q/WGlKijWARjfG/COujJgWAcgSohx3xRZdP1Up0EZ5O+HQnrt7sRmgXGCh0PBZtafSCcY2yD1q4KNhudBlMFRSoiXKhxffMqEnfVpUFcpm+cmUgVsGpgkawZAEkLT/nzmAdN+w0n2zTwgCaFpf/4PzAXPUHTttLMAAAAASUVORK5CYII="},"6df0":function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"h",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"g",(function(){return d})),r.d(t,"b",(function(){return p}));var n=r("b775"),a=function(e){return Object(n["a"])({url:"/task/listTask",method:"post",data:e})},i=function(e){return Object(n["a"])({url:"/task/ledgerSelect",method:"post",data:e})},s=function(e){return Object(n["a"])({url:"/task/insertTask",method:"post",data:e})},o=function(e){return Object(n["a"])({url:"/task/updateTask",method:"post",data:e})},c=function(e){return Object(n["a"])({url:"/task/deleteTask",method:"post",data:e})},l=function(e){return Object(n["a"])({url:"/task/getTaskById",method:"post",data:e})},u=function(e){return Object(n["a"])({url:"/user/listUser",method:"post",data:e})},d=function(e){return Object(n["a"])({url:"/checkPoint/sharePoint",method:"post",data:e})},p=function(e){return Object(n["a"])({url:"/task/exportTask",method:"post",data:e})}},"7cfd":function(e,t,r){var n=r("d3d8").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in a||r("f9a5")&&n(a,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},aa1f:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-box"},[n("div",{ref:"viewDiv",attrs:{id:"viewDiv"}}),n("div",{attrs:{id:"legendbar"}},[n("span",[e._v("图例")]),n("Legend",{attrs:{data:e.legendData,id:"legend"}})],1),n("div",{class:{activeBox:1===e.boxstate},attrs:{id:"toggleBox"}},[n("div",{ref:"searchBox",attrs:{id:"searchBox"}},[n("h3",[e._v("图层叠加")]),n("RadioGroup",{on:{"on-change":e.radioSearchType},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[n("Radio",{attrs:{label:"1",border:""}},[e._v("核查人员分布")]),n("Radio",{attrs:{label:"2",border:""}},[e._v("核查任务分布")]),n("Radio",{attrs:{label:"3",border:""}},[e._v("核查轨迹分布")])],1),"1"===e.searchType?n("Form",{ref:"searchForm1",attrs:{model:e.searchForm1,"label-width":100}},[n("FormItem",{attrs:{prop:"ch005",label:"人员状态："}},[n("i-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择人员状态"},model:{value:e.searchForm1.ch005,callback:function(t){e.$set(e.searchForm1,"ch005","string"===typeof t?t.trim():t)},expression:"searchForm1.ch005"}},[n("i-option",{attrs:{value:"-1"}},[e._v("全部")]),n("i-option",{attrs:{value:"0"}},[e._v("离线")]),n("i-option",{attrs:{value:"1"}},[e._v("在线")])],1)],1),n("FormItem",{attrs:{prop:"sa019",label:"人员真实姓名："}},[n("Input",{attrs:{placeholder:"请输入人员真实姓名"},model:{value:e.searchForm1.sa019,callback:function(t){e.$set(e.searchForm1,"sa019","string"===typeof t?t.trim():t)},expression:"searchForm1.sa019"}})],1),n("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"sa012",label:"人员手机号："}},[n("Input",{attrs:{placeholder:"请输入人员手机号"},model:{value:e.searchForm1.sa012,callback:function(t){e.$set(e.searchForm1,"sa012","string"===typeof t?t.trim():t)},expression:"searchForm1.sa012"}})],1)],1):"2"===e.searchType?n("Form",{ref:"searchForm2",attrs:{model:e.searchForm2,"label-width":85}},[n("FormItem",{attrs:{prop:"cl010",label:"任务年份："}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{editable:!1,type:"year",placement:"right-end",placeholder:"请选择任务年份"},model:{value:e.searchForm2.cl010,callback:function(t){e.$set(e.searchForm2,"cl010","string"===typeof t?t.trim():t)},expression:"searchForm2.cl010"}})],1),n("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"cl002",label:"任务名称："}},[n("Input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.searchForm2.cl002,callback:function(t){e.$set(e.searchForm2,"cl002","string"===typeof t?t.trim():t)},expression:"searchForm2.cl002"}})],1)],1):"3"===e.searchType?n("Form",{ref:"searchForm3",attrs:{model:e.searchForm3,"label-width":85}},[n("FormItem",{attrs:{prop:"taskName",label:"任务名称："}},[n("Input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.searchForm3.taskName,callback:function(t){e.$set(e.searchForm3,"taskName","string"===typeof t?t.trim():t)},expression:"searchForm3.taskName"}})],1),n("FormItem",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"ledgerId",label:"任务台账："}},[n("i-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择任务台账"},model:{value:e.searchForm3.ledgerId,callback:function(t){e.$set(e.searchForm3,"ledgerId","string"===typeof t?t.trim():t)},expression:"searchForm3.ledgerId"}},e._l(e.ledgerList,(function(t){return n("i-option",{attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1):e._e(),n("img",{attrs:{src:r("e821"),alt:"",id:"toggleImg"},on:{click:function(t){e.boxstate=1===e.boxstate?0:1}}}),n("div",{staticClass:"searchBtns"},[n("Button",{attrs:{type:"primary"},on:{click:e.addLayers}},[e._v("图层叠加")]),n("Button",{on:{click:e.cancelAddLayers}},[e._v("取消")])],1)],1)]),n("div",{attrs:{id:"controlLayerBox"}},[n("div",{ref:"layerBox",attrs:{id:"layerBox"}},[n("h3",[e._v("图层控制")]),n("p",[n("Checkbox",{attrs:{label:"1"},on:{"on-change":e.handlePatroluser},model:{value:e.patroluser,callback:function(t){e.patroluser="string"===typeof t?t.trim():t},expression:"patroluser"}},[e._v("核查人员分布")]),n("Checkbox",{attrs:{label:"2"},on:{"on-change":e.handlePatroltask},model:{value:e.patroltask,callback:function(t){e.patroltask="string"===typeof t?t.trim():t},expression:"patroltask"}},[e._v("核查任务分布")]),n("Checkbox",{attrs:{label:"3"},on:{"on-change":e.handlePatroltrack},model:{value:e.patroltrack,callback:function(t){e.patroltrack="string"===typeof t?t.trim():t},expression:"patroltrack"}},[e._v("核查轨迹分布")])],1)])]),e._m(0)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"switchDiv"}},[r("input",{staticClass:"esri-component esri-widget--button esri-widget esri-interactive",attrs:{type:"button",id:"switch-btn",value:"3D"}})])}],i=(r("63ff"),r("f8f9")),s=(r("7cfd"),r("4634"),r("9ed9")),o=r("149e"),c=r("f831"),l=r("cf45"),u=r("42e8"),d=r.n(u),p=r("39f3"),h=r.n(p),f=r("136f"),g=r("3cf7"),m=r.n(g),A=r("6c68"),v=r.n(A),y=(r("2b03"),r("6df0")),b=r("b775"),w=function(e){return Object(b["a"])({url:"/user/listPhoneUserToView",method:"post",data:e})},k=function(e){return Object(b["a"])({url:"/task/listCdByTask",method:"post",data:e})},x=function(e){return Object(b["a"])({url:"/ledger/trackDistribution",method:"post",data:e})},B={name:"workRegulation",data:function(){return{legendData:[{type:1,name:"离线",background:"url("+m.a+")",id:"patrolUserGray"},{type:1,name:"在线",background:"url("+v.a+")",id:"patrolUserRed"}],popupTemplate:{},loadComplete:!1,boxstate:0,searchType:"1",patroluser:!0,patroltask:!1,patroltrack:!1,searchForm1:{ch005:"-1",sa019:"",sa012:""},searchForm2:{cl010:"",cl002:""},searchForm3:{ledgerId:"",taskName:""},ledgerList:[],tablestate:0,tableHeight:Math.floor((window.innerHeight-326)/2),columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"用户名",align:"center",key:"SA008",ellipsis:!0,tooltip:!0,minWidth:200},{title:"手机号码",align:"center",key:"SA012",ellipsis:!0,tooltip:!0,minWidth:200},{title:"真实姓名",align:"center",key:"SA019",ellipsis:!0,tooltip:!0,minWidth:200},{title:"所属部门",align:"center",key:"SA015",ellipsis:!0,tooltip:!0,minWidth:200}],data1:[],columns2:[{title:"序号",key:"index",width:100,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"任务名称",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl002"},{title:"任务类型",align:"center",key:"cl004",width:100,render:function(e,t){var r=t.row.cl004;return 0===r?e("span",{},"巡护"):1===r?e("span",{},"核查"):null===r?e("span",{},""):void 0}},{title:"任务年份",align:"center",width:100,key:"cl010"},{title:"任务级别",align:"center",key:"cl011",width:100,render:function(e,t){var r=t.row.cl011;return 1===r?e("span",{},"国家级"):2===r?e("span",{},"市级"):null===r?e("span",{},""):void 0}},{title:"任务台账",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,render:function(e,t){var r=t.row,n=[];return r.rlhdGroupList.forEach((function(e){n.push(e.name)})),e("div",{},n.join("，"))}},{title:"任务描述",align:"center",ellipsis:!0,tooltip:!0,minWidth:200,key:"cl009"}],data2:[],columns3:[{title:"序号",key:"index",width:100,align:"center",render:function(e,t){return e("span",t.index+1)}},{title:"巡护记录名称",align:"center",key:"cy002",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护开始时间",align:"center",key:"cy004",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护结束时间",align:"center",key:"cy004",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护次数",align:"center",key:"rwcs",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护里程(m)",align:"center",key:"gjlc",ellipsis:!0,tooltip:!0,minWidth:200},{title:"巡护时长(小时)",align:"center",key:"rwsc",ellipsis:!0,tooltip:!0,minWidth:200}],data3:[],addtaskLayer:{},pointArrays:[]}},components:{Legend:f["a"]},mounted:function(){this.createMap(),this.getLedgers(),setInterval(this.getLedgerList,1e4)},methods:{switch2D3D:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].MapView;case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getLedgerList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"-1"===this.searchForm1.ch005&&(this.searchForm1.ch005=""),e.next=3,w({data:{ch005:this.searchForm1.ch005,sa019:this.searchForm1.sa019,sa012:this.searchForm1.sa012}}).then((function(e){"0000"===e.data.code&&(t.data1=e.data.data.data,t.addPointToMap(e.data.data.data,o["a"].inflectionPointcolor,"graphicsLayer_patroluser"))})).catch((function(){t.$Notice.error({title:"服务器错误"})}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTaskList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k({data:{cl010:Object(l["g"])(this.searchForm2.cl010),cl002:this.searchForm2.cl002}}).then((function(e){"0000"===e.data.code&&(t.data2=e.data.data.data,t.layerAddData(t.data2))})).catch((function(){t.$Notice.error({title:"服务器错误"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTrackDistribution:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({data:{ledgerId:this.searchForm3.ledgerId,taskName:this.searchForm3.taskName}}).then((function(e){"0000"===e.data.code&&(t.data3=e.data.data,t.pointArrays=e.data.data,t.addTrackToMap(e.data.data))})).catch((function(){t.$Notice.error({title:"服务器错误"})}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,l,u,p,f,g,m,A,v,y,b,w,k,x,B,F,C,L,E,I=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return E=function(e,n){var a,i="2d"===n;return i?(a=new t(e),a):(a=new r(e),a)},e.next=3,s["a"].MapView;case 3:return t=e.sent,e.next=6,s["a"].SceneView;case 6:return r=e.sent,e.next=9,s["a"].Map;case 9:return n=e.sent,e.next=12,s["a"].Basemap;case 12:return a=e.sent,e.next=15,s["a"].BasemapToggle;case 15:return i=e.sent,e.next=18,s["a"].GraphicsLayer;case 18:return e.sent,e.next=21,s["a"].ElevationLayer;case 21:return l=e.sent,e.next=24,s["a"].TileLayer;case 24:return u=e.sent,e.next=27,s["a"].esriConfig;case 27:return p=e.sent,p.fontsUrl=o["a"].fontsUrl,e.next=31,Object(c["i"])().then((function(e){return e}));case 31:return f=e.sent,e.next=34,Object(c["h"])().then((function(e){return e}));case 34:return g=e.sent,e.next=37,Object(c["g"])().then((function(e){return e}));case 37:return m=e.sent,e.next=40,Object(c["j"])().then((function(e){return e}));case 40:return A=e.sent,e.next=43,Object(c["f"])().then((function(e){return e}));case 43:e.sent,v=new a({baseLayers:[g,m],title:"矢量地图",id:"myBasemap",thumbnailUrl:d.a}),y=new a({baseLayers:[f,A],title:"影像地图",id:"myBasemap1",thumbnailUrl:h.a}),this.map=new n({basemap:y}),b=new l({url:"http://10.34.100.135:6080/arcgis/rest/services/anhx/anhuiDEM3857/ImageServer"}),w=new u({url:"http://10.34.100.135:6080/arcgis/rest/services/anhx/chinaImage/MapServer"}),k=new u({url:"http://10.34.100.135:6080/arcgis/rest/services/anhx/anhuiImg/MapServer"}),this.map3D=new n({layers:[w,k]}),this.map3D.ground.layers.add(b),this.currentD="2d",x={mapView:null,sceneView:null,activeView:null,container:"viewDiv"},B={zoom:7,center:o["a"].centerPoint,container:x.container},x.mapView=E(B,"2d"),x.mapView.map=this.map,x.activeView=x.mapView,B.container=null,B.map=this.map3D,x.sceneView=E(B,"3d"),x.sceneView.ui.remove("navigation-toggle"),x.sceneView.ui.remove("compass"),F=document.getElementById("switch-btn"),F.addEventListener("click",(function(){L()})),this.popupTemplate={title:"巡查人员详情",content:[{type:"fields",fieldInfos:[{fieldName:"用户名"},{fieldName:"手机号"},{fieldName:"真实姓名"},{fieldName:"经度"},{fieldName:"纬度"},{fieldName:"邮箱"}]}]},C=new i({view:x.mapView,nextBasemap:v}),x.mapView.ui.add(C,"top-right"),this.getLedgerList(),L=function(){var e="3d"===x.activeView.type;x.activeView.container=null,e?(x.mapView.container=x.container,x.activeView=x.mapView,F.value="3D",I.currentD="2d"):(x.sceneView.container=x.container,x.sceneView.zoom=8,x.sceneView.center={longitude:117.328239,latitude:31.784646,spatialReference:{wkid:4326}},x.activeView=x.sceneView,F.value="2D",I.currentD="3d")};case 70:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addPointToMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i,o,c,u,d,p,h,f,g,A,y,b,w,k,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].GraphicsLayer;case 2:return a=e.sent,e.next=5,s["a"].Graphic;case 5:if(i=e.sent,o={},[],g="2d"===this.currentD?this.map:this.map3D,A=g.findLayerById(n),A&&g.remove(A),y=new a({id:n,elevationInfo:"relative-the-ground",title:"实时位置"}),!(t&&t.length>0)){e.next=33;break}b=0;case 14:if(!(b<t.length)){e.next=33;break}if(null!==t[b].CH003){e.next=19;break}return e.abrupt("continue",30);case 19:-1!==t[b].CH003.indexOf("°")?(h=Object(l["a"])(t[b].CH003),f=Object(l["a"])(t[b].CH004)):-1!==t[b].CH003.indexOf(".")&&(h=t[b].CH003,f=t[b].CH004);case 20:o={type:"point",longitude:h,latitude:f,z:100},0===t[b].CH005?(d=m.a,p="离线"):1===t[b].CH005&&(d=v.a,p="在线"),w={id:t[b].SA001,"用户名":t[b].SA008,"手机号":'<a style="color: blue">'+t[b].SA012+"</a>","真实姓名":t[b].SA019,"经度":h,"纬度":f,"邮箱":t[b].SA013,"状态":p},0===t[b].CH005&&(w["手机号"]='<a style="color: blue">'+t[b].SA012+"</a>"),k={type:"picture-marker",url:d,width:20,height:20,outline:{color:[255,255,255],width:1}},x={type:"text",color:"white",haloColor:"black",haloSize:"1px",text:t[b].SA019,xoffset:0,yoffset:-20,font:{size:12,family:"sans-serif",weight:"bold"}},c=new i({geometry:o,symbol:k,attributes:w,popupTemplate:this.popupTemplate}),u=new i({geometry:o,symbol:x}),y.add(c),y.add(u);case 30:b++,e.next=14;break;case 33:g.add(y);case 34:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),addTrackToMap:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].GeoJSONLayer;case 2:r=e.sent,n=new Array,t.forEach((function(e){e.st4ScsCg.length>0&&e.st4ScsCg.forEach((function(e){if(null!==e.cg001){var t=a.map.findLayerById(e.cg001+"f");t&&a.map.remove(t)}var i,s={type:"simple",symbol:{type:"simple-line",color:"blue",width:2}};i=new r({url:o["a"].GeoJsonUrl+e.cg003,id:e.cg001+"f",renderer:s}),a.map.addMany([i]),n.push(i)}))})),this.map.addMany(n);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),layerAddData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].GraphicsLayer;case 2:return r=e.sent,this.map.findLayerById("taskLayer")?(this.map.findLayerById("taskLayer").removeAll(),this.map.findLayerById("taskLayer").visible=!0,n=this.map.findLayerById("taskLayer")):n=new r({id:"taskLayer"}),e.next=6,s["a"].Graphic;case 6:a=e.sent,[],t.forEach((function(e){if(e.geometry){var t={type:"polygon",rings:JSON.parse(e.geometry),spatialReference:4326},r=new a({geometry:t,symbol:{type:"simple-fill",color:[51,133,255,.5],style:"solid",outline:{color:[51,133,255,.8],width:1}}});n.add(r)}})),this.map.add(n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getLedgers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["c"])({data:{}}).then((function(e){"0000"===e.data.code&&e.data.data.data.forEach((function(e,r){t.ledgerList.push({value:e.id,label:e.name})}))})).catch((function(){t.$Notice.error({title:"服务器错误"})}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),addLayers:function(){"1"===this.searchType?this.getLedgerList():"2"===this.searchType?this.getTaskList():"3"===this.searchType&&this.getTrackDistribution()},cancelAddLayers:function(){},handlePatroluser:function(e){!0===e?this.getLedgerList():!1===e&&this.removePatrolUserFromMapNoPicAll()},handlePatroltask:function(e){!0===e?this.getTaskList():!1===e&&this.removePatrolTaskFromMapNoPicAll()},handlePatroltrack:function(e){!0===e?this.getTrackDistribution():!1===e&&this.removePatrolTrackFromMapNoPicAll()},removePatrolUserFromMapNoPicAll:function(){this.map.findLayerById("graphicsLayer_patroluser")&&(this.map.findLayerById("graphicsLayer_patroluser").visible=!1)},removePatrolTaskFromMapNoPicAll:function(){this.map.findLayerById("taskLayer")&&(this.map.findLayerById("taskLayer").visible=!1)},removePatrolTrackFromMapNoPicAll:function(){var e=this,t=this.pointArrays;t&&t.forEach((function(t){t.st4ScsCg.length>0&&t.st4ScsCg.forEach((function(t){null!==t.cg003&&(e.map.findLayerById(t.cg001+"f").visible=!1)}))}))},radioSearchType:function(e){"1"===e?(this.searchForm2={cl010:"",cl002:""},this.searchForm3={ledgerId:"",taskName:""}):"2"===e?(this.searchForm1={ch005:"-1",sa019:"",sa012:""},this.searchForm3={ledgerId:"",taskName:""}):"3"===e&&(this.searchForm1={ch005:"-1",sa019:"",sa012:""},this.searchForm2={cl010:"",cl002:""})},handleTaleBox:function(){2===this.tablestate?(this.tablestate=0,this.tableHeight=Math.floor((window.innerHeight-326)/2),this.pageSize=Math.floor((48*Math.floor((Math.floor((window.innerHeight-326)/2)-40)/48)+40)/48)):(this.tablestate=2,this.tableHeight=48*Math.floor((window.innerHeight-300-40)/48)+40,this.pageSize=Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48))}}},F=B,C=(r("f45f"),r("6691")),L=Object(C["a"])(F,n,a,!1,null,"f9865fc2",null);t["default"]=L.exports},b3f3:function(e,t,r){"use strict";var n=r("133b");r("2498")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},cf45:function(e,t,r){"use strict";r.d(t,"h",(function(){return n})),r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return u}));r("e6d1"),r("cc1d");var n=function(e){var t="",r=0;e=(e||0).toString();for(var n=e.length-1;n>=0;n--)r++,t=e.charAt(n)+t,r%3||0===n||(t=","+t);return t},a=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return r},i=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear();return r},s=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes();return r},o=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return r},c=function(e){if(void 0!==e&&null!==e){var t=parseInt(e),r=parseInt(60*(e-t)),n=(3600*(e-t)-60*r).toFixed(2),a="00"+r;return r=a.substring(a.length-2,a.length),t+"°"+r+"′"+n+"″"}},l=function(e){if(void 0!==e&&null!==e){var t=e.split("°")[0],r=e.split("°")[1].split("′")[0],n=e.split("°")[1].split("′")[1].split("″")[0];return Math.abs(t)+(Math.abs(r)/60+Math.abs(n)/3600)}},u=function(e){for(var t=e.concat(e),r=0,n=t.length;r<n;r++)for(var a=r+1;a<n;a++)t[r]===t[a]&&(t.splice(a,1),n--,a--);return t}},e6d1:function(e,t,r){"use strict";var n=r("5f9c"),a=r("8cac"),i=r("95e3"),s=r("ff04"),o=r("8941"),c=r("2137"),l=r("133b"),u=r("0cc1"),d=Math.min,p=[].push,h="split",f="length",g="lastIndex",m=4294967295,A=!u((function(){RegExp(m,"y")}));r("6af6")("split",2,(function(e,t,r,u){var v;return v="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[f]||2!="ab"[h](/(?:ab)*/)[f]||4!="."[h](/(.?)(.?)/)[f]||"."[h](/()()/)[f]>1||""[h](/.?/)[f]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);var i,s,o,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?m:t>>>0,A=new RegExp(e.source,u+"g");while(i=l.call(A,a)){if(s=A[g],s>d&&(c.push(a.slice(d,i.index)),i[f]>1&&i.index<a[f]&&p.apply(c,i.slice(1)),o=i[0][f],d=s,c[f]>=h))break;A[g]===i.index&&A[g]++}return d===a[f]?!o&&A.test("")||c.push(""):c.push(a.slice(d)),c[f]>h?c.slice(0,h):c}:"0"[h](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,n):v.call(String(a),r,n)},function(e,t){var n=u(v,e,this,t,v!==r);if(n.done)return n.value;var l=a(e),p=String(this),h=i(l,RegExp),f=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(A?"y":"g"),y=new h(A?l:"^(?:"+l.source+")",g),b=void 0===t?m:t>>>0;if(0===b)return[];if(0===p.length)return null===c(y,p)?[p]:[];var w=0,k=0,x=[];while(k<p.length){y.lastIndex=A?k:0;var B,F=c(y,A?p:p.slice(k));if(null===F||(B=d(o(y.lastIndex+(A?0:k)),p.length))===w)k=s(p,k,f);else{if(x.push(p.slice(w,k)),x.length===b)return x;for(var C=1;C<=F.length-1;C++)if(x.push(F[C]),x.length===b)return x;k=w=B}}return x.push(p.slice(w)),x}]}))},e821:function(e,t,r){e.exports=r.p+"img/toggle.9e5f76f8.png"},f45f:function(e,t,r){"use strict";var n=r("684d"),a=r.n(n);a.a},ff04:function(e,t,r){"use strict";var n=r("1eb0")(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}}}]);
//# sourceMappingURL=chunk-a9fcbee4.4a9b23b1.js.map