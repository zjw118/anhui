(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac4c7ef2"],{"015e":function(t,a,e){"use strict";e.d(a,"b",function(){return n}),e.d(a,"c",function(){return r}),e.d(a,"a",function(){return o});var i=e("b775"),n=function(t){return Object(i["a"])({url:"/ledger/listStage",method:"post",data:t})},r=function(t){return Object(i["a"])({url:"/statis/examineQuality",method:"post",data:t})},o=function(t){return Object(i["a"])({url:"/statis/examineQualityExport",method:"post",data:t})}},"33c2":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"QualityAssessment"}},[e("Form",{staticClass:"searchesBox",attrs:{"label-width":100,id:"humanPc"}},[e("FormItem",{attrs:{prop:"province",label:"人类活动批次："}},[e("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"success",size:"small"},domProps:{innerHTML:t._s(t.activitiesContent)},on:{click:function(a){t.activitiesModal=!0}},model:{value:t.activitiesValue,callback:function(a){t.activitiesValue=a},expression:"activitiesValue"}})],1),e("div",{staticClass:"queryBtns",staticStyle:{float:"right","margin-top":"6px"}},[e("Button",{staticClass:"exportBtn",attrs:{type:"primary",size:"small",icon:"md-cloud-download"},on:{click:t.handleExport}},[t._v("导出")])],1)],1),e("div",{staticClass:"assessmentBox"},[e("div",{staticClass:"left"},[e("Table",{attrs:{border:"",stripe:"",loading:t.loading,columns:t.columns1,data:t.data1,maxHeight:t.tableHeight}})],1),e("div",{staticClass:"right"},[e("BarChart",{attrs:{data:t.data1}}),t.spinShow?e("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)]),e("Modal",{attrs:{title:"人类活动批次列表",width:"1000"},on:{"on-cancel":t.handleCancel},model:{value:t.activitiesModal,callback:function(a){t.activitiesModal=a},expression:"activitiesModal"}},[e("div",[e("Table",{ref:"activitiesMultipleTable",attrs:{border:"",stripe:"",loading:t.aLoading,columns:t.aColumns1,data:t.aData1,"highlight-row":"",height:t.aTableHeight,id:"reportAnalysisTable"},on:{"on-current-change":t.changeAccount}}),e("div",{staticClass:"page_box",staticStyle:{width:"100%",padding:"15px","text-align":"right"}},[e("Page",{attrs:{total:t.aTotal,"page-size":t.aPageSize,current:t.aPageNum,"show-total":""},on:{"update:current":function(a){t.aPageNum=a},"on-change":t.aPageChange}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("i-button",{staticClass:"mr10",attrs:{type:"text"},on:{click:t.handleCancel}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:t.selectActivities}},[t._v("确定")])],1)])],1)},n=[],r=(e("ac6a"),e("7f7f"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"resize",rawName:"v-resize",value:t.redraw,expression:"redraw"}],ref:"chart",staticStyle:{width:"100%",height:"100%"},attrs:{id:"myChart"}})}),o=[],s=e("5d73"),c=e.n(s),l={name:"BarChart",data:function(){return{myChart:{},datas:{}}},computed:{xAxisData:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=c()(this.datas);!(a=(n=r.next()).done);a=!0){var o=n.value;null===o.name&&(o.name=""),t.push(o.name)}}catch(s){e=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},originNum:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=c()(this.datas);!(a=(n=r.next()).done);a=!0){var o=n.value;t.push(o.originNum)}}catch(s){e=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t},todayNum:function(){var t=[],a=!0,e=!1,i=void 0;try{for(var n,r=c()(this.datas);!(a=(n=r.next()).done);a=!0){var o=n.value;t.push(o.todayNum)}}catch(s){e=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(e)throw i}}return t}},props:{data:{}},watch:{data:function(){this.dataHandle()}},methods:{dataHandle:function(){this.datas=this.data,this.drawLine()},drawLine:function(){var t=this;this.myChart=this.$echarts.init(this.$refs.chart),this.myChart.setOption({grid:{left:"40px",right:"40px",top:"20%",containLabel:!0},legend:{data:["原始数量","当前数量"],top:20,right:30},tooltip:{trigger:"axis"},xAxis:{type:"category",data:this.xAxisData},yAxis:[{type:"value",name:"数量/个",min:0,axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"slider",show:!0}],series:[{name:"原始数量",type:"bar",z:3,itemStyle:{normal:{color:"rgb(116, 159, 131)"}},yAxisIndex:0,data:this.todayNum,barMaxWidth:30},{name:"当前数量",type:"bar",z:3,itemStyle:{normal:{color:"rgb(212,130,101)"}},yAxisIndex:0,data:this.originNum,barMaxWidth:30}]}),window.addEventListener("resize",function(){return t.myChart.resize()},!1)},redraw:function(){void 0!==this.myChart.id&&this.myChart.resize()}}},u=l,d=e("2877"),h=Object(d["a"])(u,r,o,!1,null,"91676802",null),f=h.exports,g=e("e294"),m=e("015e"),p={name:"QualityAssessment",data:function(){var t=this;return{activitiesValue:"",activitiesContent:"请选择人类活动批次",activitiesModal:!1,aTableHeight:48*Math.floor((window.innerHeight-300-70)/48)+40,aColumns1:[{title:"序号",key:"index",width:100,align:"center",render:function(a,e){return a("span",e.index+(t.aPageNum-1)*t.aPageSize+1)}},{title:"任务名称",align:"center",minWidth:200,key:"name"},{title:"说明",align:"center",minWidth:250,key:"remark"},{title:"底图服务",align:"center",width:300,key:"url"}],aData1:[],aTotal:0,aPageNum:1,aPageSize:Math.floor((48*Math.floor((window.innerHeight-300-40)/48)+40)/48),aLoading:!1,currentRow:null,tableHeight:window.innerHeight-252,columns1:[{title:"序号",key:"index",width:100,align:"center",render:function(t,a){return t("span",a.index+1)}},{title:"活动设施类型名称",align:"center",minWidth:200,key:"name"},{title:"原始数量",align:"center",minWidth:150,key:"originNum"},{title:"当前数量",align:"center",minWidth:150,key:"todayNum"}],data1:[],loading:!1,spinShow:!1}},components:{BarChart:f},created:function(){this.getTableList()},methods:{getTableList:function(){var t=this;this.aLoading=!0,Object(g["f"])({data:{pageSize:this.aPageSize,pageNum:this.aPageNum}}).then(function(a){"0000"===a.data.code&&(t.aData1=a.data.data.rows,t.aTotal=a.data.data.total,t.aLoading=!1)}).catch(function(){t.$Notice.error({title:"服务器错误"})})},aPageChange:function(t){this.aPageNum=t,this.getTableList()},handleCancel:function(){this.$refs.activitiesMultipleTable.clearCurrentRow(),this.activitiesModal=!1},selectActivities:function(){this.activitiesContent=this.currentRow.name,this.activitiesValue=this.currentRow.id,this.handleCancel(),this.getResultList(this.currentRow.id)},changeAccount:function(t,a){this.currentRow=t},getResultList:function(t){var a=this;this.spinShow=!0,this.loading=!0,Object(m["b"])({data:{id:t}}).then(function(t){"0000"===t.data.code?(a.data1=[],t.data.data.data.length>0&&t.data.data.data.forEach(function(t,e){a.data1.push({name:t.sysCompany.comName,originNum:t.st4ScsCd.checkNum,todayNum:t.st4ScsCd.uncheckNum})}),a.spinShow=!1,a.loading=!1):a.$Notice.error({title:t.data.msg})}).catch(function(){a.$Notice.error({title:"服务器错误"})})}}},y=p,v=(e("e33a"),Object(d["a"])(y,i,n,!1,null,"45117028",null));a["default"]=v.exports},"469f":function(t,a,e){e("6c1c"),e("1654"),t.exports=e("7d7b")},"4ef5":function(t,a,e){},"5d73":function(t,a,e){t.exports=e("469f")},"7d7b":function(t,a,e){var i=e("e4ae"),n=e("7cd6");t.exports=e("584a").getIterator=function(t){var a=n(t);if("function"!=typeof a)throw TypeError(t+" is not iterable!");return i(a.call(t))}},"7f7f":function(t,a,e){var i=e("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in n||e("9e1e")&&i(n,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},ac6a:function(t,a,e){for(var i=e("cadf"),n=e("0d58"),r=e("2aba"),o=e("7726"),s=e("32e9"),c=e("84f2"),l=e("2b4c"),u=l("iterator"),d=l("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=n(f),m=0;m<g.length;m++){var p,y=g[m],v=f[y],b=o[y],x=b&&b.prototype;if(x&&(x[u]||s(x,u,h),x[d]||s(x,d,y),c[y]=h,v))for(p in i)x[p]||r(x,p,i[p],!0)}},e294:function(t,a,e){"use strict";e.d(a,"e",function(){return n}),e.d(a,"c",function(){return r}),e.d(a,"b",function(){return o}),e.d(a,"d",function(){return s}),e.d(a,"f",function(){return c}),e.d(a,"a",function(){return l});var i=e("b775"),n=function(t){return Object(i["a"])({url:"/ygjc/image/getCountGroupByType",method:"post",data:t})},r=function(t){return Object(i["a"])({url:"/ygjc/image/getAreaGroupByType",method:"post",data:t})},o=function(t){return Object(i["a"])({url:"/ygjc/image/getAreaChange",method:"post",data:t})},s=function(t){return Object(i["a"])({url:"/ygjc/image/getCountChange",method:"post",data:t})},c=function(t){return Object(i["a"])({url:"/ygjc/image/list",method:"post",data:t})},l=function(t){return Object(i["a"])({url:"/ygjc/image/exportZTTJ",method:"post",data:t})}},e33a:function(t,a,e){"use strict";var i=e("4ef5"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-ac4c7ef2.d1e6b09e.js.map