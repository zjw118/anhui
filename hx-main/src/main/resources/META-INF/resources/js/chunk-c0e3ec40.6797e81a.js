(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0e3ec40"],{"0260":function(e,t,r){},"02f4":function(e,t,r){var n=r("4588"),a=r("be13");e.exports=function(e){return function(t,r){var i,s,o=String(a(t)),c=n(r),u=o.length;return c<0||c>=u?e?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===u||(s=o.charCodeAt(c+1))<56320||s>57343?e?o.charAt(c):i:e?o.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var n=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var n=r("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"1e0c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"tablet"}},[r("QueryBox",{on:{searchSrldId:e.searchSrldId}},[r("Button",{staticClass:"btn-add",attrs:{type:"success",size:"small",icon:"md-add"},on:{click:function(t){t.stopPropagation(),e.addActive=!0,e.$refs.proAppAdd.initCom()}}},[e._v("新建")])],1),r("div",{staticClass:"content_box"},[r("div",[r("Table",{attrs:{loading:e.loading,border:"",stripe:"",columns:e.columns1,data:e.data1,"highlight-row":"","max-height":e.tableHeight}}),r("div",{staticClass:"page_box"},[r("Page",{attrs:{total:e.total,"page-size":e.pageSize,"show-total":""},on:{"on-change":e.pageChange}})],1)],1)]),r("div",{staticClass:"add_box",class:{addActive:e.addActive}},[r("ProAppAdd",{ref:"proAppAdd",attrs:{seeId:e.seeId,fileUrl:e.fileUrl},on:{getNewList:e.getNewList,signOut:e.signOut}})],1)],1)},a=[],i=(r("7f7f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"query-box"},[r("div",{ref:"queryBox",staticClass:"query-box-title",on:{click:function(t){e.show=!e.show}}},[r("div",{directives:[{name:"show",rawName:"v-show",value:0===e.queryData.length,expression:"queryData.length===0"}],staticClass:"search-title"},[e._v("查询条件")]),r("div",{staticClass:"search-items"},e._l(e.queryData,function(t,n){return r("span",{key:n,staticClass:"queryTerm"},[r("strong",[e._v(e._s(t.name))]),r("span",[e._v("\n          "+e._s(t.text)+"\n        ")])])}),0),r("div",{staticStyle:{"text-align":"right"}},[r("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small",icon:"ios-arrow-dropdown"}},[e._v("查询条件")]),e._t("default")],2)]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"queryDown",staticClass:"query-down"},[r("div",{staticClass:"queryTerm"},[r("TextTerm",{attrs:{titName:"项目名称",titKey:"realName"},on:{updataQueryData:e.updataQueryData,delQueryTrem:e.delQueryTrem}})],1),r("div",{staticStyle:{"text-align":"right","margin-top":"-30px"}},[r("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small",icon:"ios-search"},on:{click:e.search}},[e._v("搜索")]),r("Button",{attrs:{type:"primary",size:"small",icon:"md-close"},on:{click:function(t){e.show=!1}}},[e._v("取消")])],1)])])}),s=[],o=r("5d73"),c=r.n(o),u=r("49ae"),l={name:"queryBox",data:function(){return{show:!1,UnitName:"",queryData:[]}},components:{TextTerm:u["a"]},mounted:function(){document.addEventListener("click",this.queryHide)},beforeDestroy:function(){document.removeEventListener("click",this.queryHide)},methods:{updataQueryData:function(e){""!==e.text?(this.queryData=this.queryData.filter(function(t){return t.name!==e.name}),this.queryData.push(e)):this.queryData=this.queryData.filter(function(t){return t.name!==e.name})},delQueryTrem:function(e){this.queryData=this.queryData.filter(function(t){return t.key!==e})},search:function(){var e={},t=!0,r=!1,n=void 0;try{for(var a,i=c()(this.queryData);!(t=(a=i.next()).done);t=!0){var s=a.value;e[s.key]=s.value}}catch(o){r=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this.$emit("searchSrldId",e),this.show=!1},queryHide:function(e){this.$refs.queryBox.contains(e.target)||this.$refs.queryDown.contains(e.target)||(this.show=!1)}}},d=l,p=(r("bd7d"),r("2877")),h=Object(p["a"])(d,i,s,!1,null,"24361002",null),f=h.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"proAppAdd"},[r("div",{ref:"viewDiv",class:{cursorPen:e.drawing&&("polyline"===e.drawType||"polygon"===e.drawType)},attrs:{id:"viewDiv"}}),r("div",{staticClass:"addForm"},[r("h3",[e._v("项目准入")]),r("hr",{staticStyle:{"margin-bottom":"15px"}}),r("Form",{ref:"formValidate",attrs:{model:e.formItem,rules:e.ruleValidate,"label-width":90}},[r("FormItem",{staticStyle:{"margin-bottom":"18px"},attrs:{label:"项目名称",prop:"name"}},[r("Input",{attrs:{placeholder:"请输入项目名称",size:"small"},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name","string"===typeof t?t.trim():t)},expression:"formItem.name"}})],1),r("FormItem",{staticStyle:{"margin-bottom":"18px"},attrs:{label:"缓冲区半径",prop:"radius"}},[r("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入缓冲区半径",size:"small"},model:{value:e.formItem.radius,callback:function(t){e.$set(e.formItem,"radius","string"===typeof t?t.trim():t)},expression:"formItem.radius"}}),r("span",{staticStyle:{"padding-left":"10px"}},[e._v("米")])],1),r("FormItem",{staticStyle:{"margin-bottom":"18px"},attrs:{label:"项目描述"}},[r("Input",{attrs:{type:"textarea",placeholder:"请输入项目描述",autosize:{maxRows:3,minRows:3}},model:{value:e.formItem.description,callback:function(t){e.$set(e.formItem,"description","string"===typeof t?t.trim():t)},expression:"formItem.description"}})],1),r("FormItem",{staticStyle:{"margin-bottom":"18px"},attrs:{label:"图层选择"}},[r("Select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.layers,callback:function(t){e.layers=t},expression:"layers"}},[r("Option",{attrs:{value:"redline"}},[e._v("红线斑块")]),r("Option",{attrs:{value:"natural",disabled:""}},[e._v("自然保护区")])],1)],1),r("FormItem",{staticStyle:{"margin-bottom":"18px"},attrs:{label:"项目形状"}},[r("ButtonGroup",{staticStyle:{width:"100%"}},[r("Button",{staticStyle:{width:"33%"},attrs:{size:"small",type:"point"===e.drawType?"primary":"default"},on:{click:function(t){e.drawType="point"}}},[r("Icon",{attrs:{type:"md-radio-button-on"}})],1),r("Button",{staticStyle:{width:"33%"},attrs:{size:"small",type:"polyline"===e.drawType?"primary":"default"},on:{click:function(t){e.drawType="polyline"}}},[r("Icon",{attrs:{type:"md-remove"}})],1),r("Button",{staticStyle:{width:"33%"},attrs:{size:"small",type:"polygon"===e.drawType?"primary":"default"},on:{click:function(t){e.drawType="polygon"}}},[r("Icon",{attrs:{type:"md-square"}})],1)],1)],1),r("FormItem",{staticStyle:{"margin-bottom":"5px",width:"100%"},attrs:{"label-width":0}},[r("ButtonGroup",{staticStyle:{width:"100%"},attrs:{size:"small"}},[r("Button",{staticStyle:{width:"50%"},attrs:{type:!0===e.drawing?"primary":"default"},on:{click:e.clickDraw}},[e._v("绘制")]),r("Button",{staticStyle:{width:"50%"}},[r("Upload",{staticStyle:{height:"19px"},attrs:{"show-upload-list":!1,format:[".xls"],"before-upload":e.handleUpload,action:"#"}},[r("span",{staticStyle:{display:"inline-block",width:"119px"}},[e._v("上传")])])],1)],1),r("p",{staticStyle:{"text-align":"right"}},[r("a",{attrs:{href:"/epr/excelModel/坐标.xls",download:"坐标模板.xls"}},[r("span",{staticStyle:{cursor:"pointer",color:"dodgerblue"}},[e._v("下载上传文件模板")])])]),e.drawValidate?r("p",{staticStyle:{height:"18px",color:"red","text-align":"right"}},[r("span",[e._v(e._s(e.validateText))])]):e._e()],1),r("FormItem",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[r("Button",{ref:"analysis",staticStyle:{"margin-right":"15px"},attrs:{type:"primary",size:"small"},on:{click:e.analysis}},[e._v("分析")]),r("Button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",size:"small",disabled:!e.analysisEnd},on:{click:e.addPro}},[e._v("保存")]),r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.$emit("signOut",!1),e.analysisEnd=!1}}},[e._v("退出")])],1)],1)],1),r("div",{staticClass:"analysisList",class:{active:e.analysisList}},[r("ProAppAnalysis",{attrs:{data:e.analysisData,saveEnd:e.saveEnd,mapPhoto:e.dataUrl},on:{onclickDingwei:e.onclickDingwei}})],1),e.analysisSpin?r("Spin",{staticStyle:{background:"rgba(255, 255, 255, 0.5)","font-size":"18px",color:"#3B4EF5"},attrs:{fix:"",size:"large"}},[r("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),r("div",[e._v("分析计算中...")])],1):e._e()],1)},g=[],v=(r("ac6a"),r("6b54"),r("96cf"),r("3b8d")),y=r("f499"),b=r.n(y),w=r("b775"),x=function(e){return Object(w["a"])({url:"/ktdb/projectAdmission/list",method:"post",data:e})},A=function(e){return Object(w["a"])({url:"/ktdb/projectAdmission/delete",method:"post",data:e})},S=function(e){return Object(w["a"])({url:"/ktdb/projectAdmission/getProjectById",method:"post",data:e})},k=function(e){return Object(w["a"])({url:"/ktdb/projectAdmission/import",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})},I=function(e){return Object(w["a"])({url:"/ktdb/projectAdmission/add",method:"post",data:e})},T=r("9ed9"),j=r("149e"),L=r("f831"),O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"proAppAnalysis"},[r("div",{staticClass:"analysis"},[r("h3",[e._v("分析条件")]),r("div",[r("p",[e._v("缓冲区半径："+e._s(e.data.radius))]),r("p",[e._v("绘制缓冲范围："+e._s(e.data.area))])]),r("h3",[e._v("分析结果：")]),e.data.comState?e._e():r("div",[e._v("\n      结果计算中....\n    ")]),e.data.comState?r("div",[r("p",[e._v("相交结果："+e._s(e.data.result))]),r("p",{staticStyle:{"margin-bottom":"5px"}},[e._v("相交明细：")])]):e._e(),e.data.comState?r("div",{staticClass:"table_box"},[r("Table",{staticClass:"detailed",attrs:{columns:e.columns1,data:e.data.details,size:"small"}})],1):e._e()]),r("Button",{staticStyle:{position:"absolute",bottom:"20px",right:"20px"},attrs:{type:"primary",size:"small",disabled:""===e.data.fileUrl}},[r("a",{staticStyle:{color:"inherit",cursor:"pointer"},attrs:{href:e.data.fileUrl,download:e.data.name+"准入分析报告.docx"}},[e._v("\n      下载分析报告\n    ")])])],1)},D=[],R={name:"ProAppAnalysis",data:function(){var e=this;return{columns1:[{title:"相交斑块",key:"redineId",width:90},{title:"相交面积",key:"intersectArea",align:"center",render:function(e,t){return e("span",{},t.row.intersectArea+"平方米")}},{title:"操作",align:"center",width:80,render:function(t,r){return t("div",[t("Button",{props:{size:"small"},on:{click:function(){e.$emit("onclickDingwei",r.index)}}},"定位")])}}],data1:[],mapPhotos:"123456"}},props:{data:{default:{details:[]}},saveEnd:{},mapPhoto:{}},mounted:function(){},methods:{}},B=R,M=(r("e12c"),r("eb03"),Object(p["a"])(B,O,D,!1,null,"e372bc8e",null)),U=M.exports,C=r("6b51"),E=r.n(C),P={name:"ProAppAdd",data:function(){return{id:"",formItem:{},layers:"redline",drawType:"point",shapeObj:{},analysisList:!1,drawing:!1,map:{},view:{},draw:{},bufferLayer:{},insercLayer:{},srldFeature:[],ruleValidate:{name:[{required:!0,message:"项目名称不能为空",trigger:"change"}],radius:[{required:!0,message:"缓冲区半径不能为空",trigger:"change"}]},drawValidate:!1,validateText:"",buffer:{},comState:!1,file:null,loadingStatus:!1,excalData:[],analysisEnd:!1,saveEnd:!1,analysisSpin:!1,dataUrl:"",saveFileUrl:"",proportion:"1"}},computed:{intersect:function(){return 0===this.srldFeature.length?"不落在":"落在"},analysisArr:function(){var e=[];for(var t in this.srldFeature){var r={redineId:this.srldFeature[t].attributes.FID_redline_Project,intersectArea:(1*this.srldFeature[t].attributes.shapearea).toFixed(2)};e.push(r)}return e},analysisArea:function(){return(1*this.buffer.shapearea).toFixed(2)},analysisData:function(){var e={radius:this.formItem.radius+"米",area:this.analysisArea+"平方米",result:this.intersect,details:this.analysisArr,comState:this.comState,fileUrl:""===this.saveFileUrl?this.fileUrl:this.saveFileUrl,name:this.formItem.name};return e},coordinate:function(){if("{}"!==b()(this.shapeObj))switch(this.shapeObj.type){case"polygon":return this.shapeObj.rings[0];case"polyline":return this.shapeObj.paths[0];case"point":return[this.shapeObj.x,this.shapeObj.y]}return[]},addData:function(){var e={id:1*this.id,createBy:this.$store.getters.getloginInfor().userId,projectName:this.formItem.name,shape:this.drawType,radius:1*this.formItem.radius,result:this.intersect,bufferRange:this.analysisArea,detail:this.analysisArr,coordinate:this.coordinate,image:this.dataUrl,proportion:this.proportion,description:this.formItem.description};return e}},props:{seeId:{},fileUrl:{}},components:{ProAppAnalysis:U},watch:{drawType:function(){this.drawing=!1,this.shapeObj={},this.view.graphics.removeAll(),this.map.remove(this.bufferLayer),this.map.remove(this.insercLayer)},seeId:function(){this.getProjectById(),this.id=this.seeId}},mounted:function(){this.createMap()},methods:{createMap:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].MapView;case 2:return t=e.sent,e.next=5,T["a"].Map;case 5:return r=e.sent,e.next=8,T["a"].Basemap;case 8:return n=e.sent,e.next=11,T["a"].BaseTileLayer;case 11:return e.sent,e.next=14,T["a"].Request;case 14:return e.sent,e.next=17,T["a"].FeatureLayer;case 17:return e.sent,e.next=20,T["a"].Draw;case 20:return a=e.sent,e.next=23,Object(L["g"])().then(function(e){return e});case 23:return i=e.sent,e.next=26,Object(L["h"])().then(function(e){return e});case 26:return s=e.sent,e.next=29,Object(L["c"])().then(function(e){return e});case 29:return o=e.sent,e.next=32,Object(L["a"])().then(function(e){return e});case 32:c=e.sent,u=new n({baseLayers:[i,o,s],title:"Custom Basemap",id:"myBasemap"}),this.map=new r({basemap:u}),this.view=new t({map:this.map,container:"viewDiv",center:j["a"].centerPoint,zoom:7}),this.map.layers.add(c),this.draw=new a({view:this.view});case 38:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clickDraw:function(){if(this.drawing)this.drawing=!1,this.shapeObj={},this.view.graphics.removeAll(),this.action=this.draw.create(this.drawType);else if(this.shapeObj={},this.map.remove(this.bufferLayer),this.map.remove(this.insercLayer),this.drawing=!0,this.drawing)switch(this.action=this.draw.create(this.drawType),this.drawType){case"point":this.drawPoint(this.action);break;case"polyline":this.drawLine(this.action);break;case"polygon":this.drawPolygon(this.action);break}},drawPoint:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.on(["cursor-update","draw-complete"],function(e){r.renderPoint(e.coordinates)}),t.on(["draw-complete"],function(e){r.drawing=!1});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),renderPoint:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].Graphic;case 2:r=e.sent,this.view.graphics.removeAll(),n={type:"point",x:t[0],y:t[1],spatialReference:this.view.spatialReference},a={type:"picture-marker",url:E.a,height:20,width:20,yoffset:10,outline:{color:[255,255,255],width:1}},i=new r({geometry:n,symbol:a}),this.view.graphics.add(i),this.shapeObj=n;case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),drawLine:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.on(["vertex-add","vertex-remove","cursor-update","draw-complete"],function(e){r.renderLine(e.vertices)}),t.on(["draw-complete"],function(e){r.drawing=!1});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),renderLine:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].Graphic;case 2:r=e.sent,this.view.graphics.removeAll(),n={type:"polyline",paths:t,spatialReference:this.view.spatialReference},a=new r({geometry:n,symbol:{type:"simple-line",color:[51,133,255],width:2,cap:"round",join:"round"}}),this.view.graphics.add(a),this.shapeObj=n,this.shapeObj.paths=[this.shapeObj.paths];case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),drawPolygon:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.on(["vertex-add","vertex-remove","cursor-update","draw-complete"],function(e){r.renderPolygon(e.vertices)}),t.on(["draw-complete"],function(e){r.drawing=!1});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),renderPolygon:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].Graphic;case 2:r=e.sent,this.view.graphics.removeAll(),n={type:"polygon",rings:t,spatialReference:this.view.spatialReference},a=new r({geometry:n,symbol:{type:"simple-fill",color:[51,133,255,.5],style:"solid",outline:{color:[51,133,255,.8],width:1}}}),this.view.graphics.add(a),this.shapeObj=n,this.shapeObj.rings=[this.shapeObj.rings];case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getbuffer:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].Graphic;case 2:return t=e.sent,e.next=5,T["a"].GraphicsLayer;case 5:return r=e.sent,e.next=8,T["a"].geometryEngine;case 8:return n=e.sent,a={type:"simple-fill",color:[140,140,222,.5],outline:{color:[140,140,222,.8],width:1}},i=new r,e.next=13,n.geodesicBuffer(this.shapeObj,this.formItem.radius,"meters",!1);case 13:return this.buffer=e.sent,"polygon"===this.shapeObj.type&&(this.buffer=n.union([this.buffer,this.shapeObj]),this.buffer.rings=[this.buffer.rings[0]]),this.buffer.shapearea=n.geodesicArea(this.buffer,"square-meters"),this.graphic=new t({geometry:this.buffer,symbol:a}),this.map.remove(this.insercLayer),e.next=20,this.view.goTo(this.buffer.extent,{duration:600});case 20:i.add(this.graphic),this.map.add(i),this.bufferLayer=i;case 23:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clickBtn:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].Geoprocessor;case 2:return t=e.sent,e.next=5,T["a"].FeatureSet;case 5:return r=e.sent,e.next=8,T["a"].GraphicsLayer;case 8:return n=e.sent,e.next=11,T["a"].geometryEngine;case 11:return a=e.sent,i=new t(j["a"].GeoprocessorUrl),s=new r,s.features=[this.graphic],o={polygon:s,redline:"redline_Project"},e.next=18,i.submitJob(o).then(function(e){"job-succeeded"===e.jobStatus&&i.getResultData(e.jobId,"out").then(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={type:"simple-fill",color:[140,10,2,.7],outline:{color:[140,10,2,1],width:1}},e.next=3,t.value.features.map(function(e){return e.symbol=r,e.attributes.shapearea=a.geodesicArea(e.geometry,"square-meters"),e});case 3:return i=e.sent,c.comState=!0,c.srldFeature=t.value.features,c.map.remove(c.insercLayer),s=new n,s.addMany(i),e.next=11,c.map.add(s);case 11:return c.insercLayer=s,c.analysisEnd=!0,e.next=15,setTimeout(function(){c.screenshot()},1e3);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),screenshot:function(){var e=this,t={x:this.buffer.extent.xmax,y:this.buffer.extent.ymax,spatialReference:{wkid:3857}},r={x:this.buffer.extent.xmin,y:this.buffer.extent.ymin,spatialReference:{wkid:3857}},n=this.view.toScreen(t),a=this.view.toScreen(r),i={x:Math.min(a.x,n.x)-20,y:Math.min(a.y,n.y)-20,width:Math.abs(n.x-a.x)+40,height:Math.abs(n.y-a.y)+40};this.proportion=(Math.abs(n.y-a.y)+40)/(Math.abs(n.x-a.x)+40),this.proportion=this.proportion.toString(),this.view.takeScreenshot({area:i,format:"png"}).then(function(t){e.dataUrl=t.dataUrl,e.analysisSpin=!1})},analysis:function(){var e=this;this.comState=!1,this.$refs["formValidate"].validate(function(t){t&&(e.analysisSpin=!0,"{}"!==b()(e.shapeObj)?"polygon"===e.shapeObj.type&&e.view.graphics.items[0].geometry.isSelfIntersecting?(e.validateText="请绘制闭合且不会自相交的多边形进行分析",e.view.graphics.removeAll(),e.drawValidate=!0,e.analysisSpin=!1):e.analysisDraw():(e.validateText="请先绘制或上传项目形状",e.drawValidate=!0,e.analysisList=!1,e.analysisSpin=!1))})},analysisDraw:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.map.remove(this.bufferLayer),this.map.remove(this.insercLayer),this.drawValidate=!1,this.analysisList=!0,e.next=6,this.getbuffer();case 6:return e.next=8,this.clickBtn();case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onclickDingwei:function(e){var t=this,r=this.insercLayer.graphics.items;r.forEach(function(r,n){n===e?(r.symbol={type:"simple-fill",color:[12,140,2,.8],outline:{color:[0,0,0,.8],width:2}},t.view.goTo(r,{duration:600})):r.symbol={type:"simple-fill",color:[140,10,2,.8],outline:{color:[0,0,0,.8],width:2}}})},handleUpload:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].WebMercatorUtils;case 2:r=e.sent,n=new FormData,n.append("file",t,t.name),k(n).then(function(e){if("0000"===e.data.code){for(var t in a.excalData=[],e.data.data)null!==e.data.data[t][0]&&null!==e.data.data[t][1]&&a.excalData.push(r.lngLatToXY(e.data.data[t][0],e.data.data[t][1]));if(0===a.excalData.length)a.$Modal.warning({title:"警告",content:"请在模板文件中填充数据"});else switch(a.drawType){case"point":a.excalData.length>1&&a.$Modal.warning({title:"警告",content:"当项目形状为点,且excal文件中存在多个点时只显示第一个点"}),a.renderPoint(a.excalData[0]);break;case"polyline":a.renderLine(a.excalData);break;case"polygon":a.excalData[0]!==a.excalData[a.excalData.length-1]&&a.excalData.push(a.excalData[0]),a.renderPolygon(a.excalData);break}}});case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addPro:function(){var e=this;this.$refs["formValidate"].validate(function(t){t&&I({data:e.addData}).then(function(t){"0000"===t.data.code?(e.$Notice.success({title:"保存成功"}),e.id=t.data.data.id,e.saveFileUrl=t.data.data.fileUrl,e.saveEnd=!0,e.$emit("getNewList")):e.$Notice.error({title:t.data.msg})})})},getProjectById:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S({data:{id:this.seeId}}).then(function(e){if("0000"===e.data.code)switch(t.formItem.name=e.data.data.name,t.formItem.radius=e.data.data.radius.toString(),t.formItem.description=e.data.data.description,t.drawType=e.data.data.shape,t.drawType){case"point":t.renderPoint(e.data.data.coordinate);break;case"polyline":t.renderLine(e.data.data.coordinate);break;case"polygon":t.renderPolygon(e.data.data.coordinate);break}}).catch(function(e){t.$Notice.error({title:"服务器错误"})});case 2:return e.next=4,this.analysis();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),initCom:function(){this.id="",this.formItem={},this.drawType="point",this.shapeObj={},this.analysisList=!1,this.$refs["formValidate"].resetFields(),this.analysisEnd=!1,this.saveEnd=!1,this.drawing=!1,this.map.remove(this.bufferLayer),this.map.remove(this.insercLayer),this.view.graphics.removeAll()}}},q=P,F=(r("ef1d"),Object(p["a"])(q,m,g,!1,null,"37ca603b",null)),N=F.exports,z=r("cf45"),H={name:"ActualTablet",data:function(){var e=this;return{obj:{},tableHeight:window.innerHeight-312,columns1:[{title:"序号",key:"jzKh",align:"center",minWidth:100,render:function(t,r){return t("span",r.index+(e.pageNum-1)*e.pageSize+1)}},{title:"项目名称",key:"name",align:"center",minWidth:200},{title:"项目简介",key:"description",align:"center",minWidth:200},{title:"创建时间",key:"createDate",align:"center",width:120,render:function(e,t){return e("span",Object(z["b"])(t.row.createDate))}},{title:"分析报告",key:"placeName",align:"center",width:100,render:function(e,t){return e("div",[e("Button",{props:{type:"success",size:"small",class:"btn-exportBtn"}},[e("i",{class:"iconfont icon-plus-download",style:{fontSize:"12px",marginRight:"4px"}}),e("a",{style:{color:"inherit",cursor:"pointer"},attrs:{href:t.row.fileUrl,download:t.row.name+"准入分析报告.docx"}},"下载")])])}},{title:"操作",key:"isBs",align:"center",width:170,render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small",icon:"md-eye"},style:{marginRight:"10px"},on:{click:function(){e.seeId=r.row.id,e.addActive=!0,e.fileUrl=r.row.fileUrl}}},"查看"),t("Button",{props:{type:"error",size:"small",icon:"md-trash"},on:{click:function(){e.$Modal.confirm({title:"确认",content:"请问您确定要删除该项目么？",onOk:function(){e.proDelete(r.row.id)},onCancel:function(){}})}}},"删除")])}}],data1:[],pageNum:1,pageSize:Math.floor((window.innerHeight-312)/48),total:0,loading:!1,addActive:!1,seeId:0,fileUrl:""}},components:{QueryBox:f,ProAppAdd:N},watch:{obj:function(){this.getTableData()}},created:function(){this.getTableData()},mounted:function(){var e=this;window.addEventListener("resize",function(){e.tableHeight=window.innerHeight-312,e.pageSize=Math.floor((window.innerHeight-312)/48),e.getTableData()},!1)},methods:{searchSrldId:function(e){this.obj=e},getTableData:function(){var e=this;this.loading=!0,x({data:{pageNum:this.pageNum,pageSize:this.pageSize,projectName:this.obj.realName,shape:"",startTime:"",endTime:""}}).then(function(t){e.data1=t.data.data.rows,e.total=t.data.data.total,e.loading=!1}).catch(function(){e.$Notice.error({title:"服务器错误"})})},proDelete:function(e){var t=this;A({data:{id:e}}).then(function(){t.$Notice.success({title:"删除成功"}),t.getTableData()}).catch(function(){t.$Notice.error({title:"服务器错误"})})},pageChange:function(e){this.pageNum=e,this.getTableData()},signOut:function(e){this.addActive=e},getNewList:function(){this.getTableData(),this.pageNum=1}}},V=H,Q=(r("48c6"),Object(p["a"])(V,n,a,!1,null,"5c14ddbe",null));t["default"]=Q.exports},"1e67":function(e,t,r){},"214f":function(e,t,r){"use strict";r("b0c5");var n=r("2aba"),a=r("32e9"),i=r("79e5"),s=r("be13"),o=r("2b4c"),c=r("520a"),u=o("species"),l=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=o(e),h=!i(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),f=h?!i(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[p](""),!t}):void 0;if(!h||!f||"replace"===e&&!l||"split"===e&&!d){var m=/./[p],g=r(s,p,""[e],function(e,t,r,n,a){return t.exec===c?h&&!a?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),v=g[0],y=g[1];n(String.prototype,e,v),a(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},"28a5":function(e,t,r){"use strict";var n=r("aae3"),a=r("cb7c"),i=r("ebd6"),s=r("0390"),o=r("9def"),c=r("5f1b"),u=r("520a"),l=r("79e5"),d=Math.min,p=[].push,h="split",f="length",m="lastIndex",g=4294967295,v=!l(function(){RegExp(g,"y")});r("214f")("split",2,function(e,t,r,l){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[f]||2!="ab"[h](/(?:ab)*/)[f]||4!="."[h](/(.?)(.?)/)[f]||"."[h](/()()/)[f]>1||""[h](/.?/)[f]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);var i,s,o,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?g:t>>>0,v=new RegExp(e.source,l+"g");while(i=u.call(v,a)){if(s=v[m],s>d&&(c.push(a.slice(d,i.index)),i[f]>1&&i.index<a[f]&&p.apply(c,i.slice(1)),o=i[0][f],d=s,c[f]>=h))break;v[m]===i.index&&v[m]++}return d===a[f]?!o&&v.test("")||c.push(""):c.push(a.slice(d)),c[f]>h?c.slice(0,h):c}:"0"[h](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a,n):y.call(String(a),r,n)},function(e,t){var n=l(y,e,this,t,y!==r);if(n.done)return n.value;var u=a(e),p=String(this),h=i(u,RegExp),f=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),b=new h(v?u:"^(?:"+u.source+")",m),w=void 0===t?g:t>>>0;if(0===w)return[];if(0===p.length)return null===c(b,p)?[p]:[];var x=0,A=0,S=[];while(A<p.length){b.lastIndex=v?A:0;var k,I=c(b,v?p:p.slice(A));if(null===I||(k=d(o(b.lastIndex+(v?0:A)),p.length))===x)A=s(p,A,f);else{if(S.push(p.slice(x,A)),S.length===w)return S;for(var T=1;T<=I.length-1;T++)if(S.push(I[T]),S.length===w)return S;A=x=k}}return S.push(p.slice(x)),S}]})},"2b06":function(e,t,r){},3846:function(e,t,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"48c6":function(e,t,r){"use strict";var n=r("613c"),a=r.n(n);a.a},"49ae":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"textTerm"},[r("span",{staticStyle:{"min-width":"100px",display:"inline-block","text-align":"right","padding-right":"10px"}},[e._v(e._s(e.titName)+"：")]),r("Input",{staticStyle:{width:"200px"},attrs:{size:"large",placeholder:"请输入"+e.titName},on:{"on-change":function(t){return e.srldChange(e.UnitName)}},model:{value:e.UnitName,callback:function(t){e.UnitName="string"===typeof t?t.trim():t},expression:"UnitName"}})],1)},a=[],i={name:"TextTerm",data:function(){return{UnitName:""}},props:{titName:{},titKey:{}},mounted:function(){},methods:{srldChange:function(){if(null===this.UnitName)this.$emit("delQueryTrem",this.titKey);else{var e={name:this.titName,text:this.UnitName,key:this.titKey,value:this.UnitName};this.$emit("updataQueryData",e)}}}},s=i,o=(r("eb80"),r("2877")),c=Object(o["a"])(s,n,a,!1,null,"16da56a2",null);t["a"]=c.exports},"520a":function(e,t,r){"use strict";var n=r("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,s=a,o="lastIndex",c=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[o]||0!==t[o]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(s=function(e){var t,r,s,l,d=this;return u&&(r=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),c&&(t=d[o]),s=a.call(d,e),c&&s&&(d[o]=d.global?s.index+s[0].length:t),u&&s&&s.length>1&&i.call(s[0],r,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),e.exports=s},"5d6b":function(e,t,r){var n=r("e53d").parseInt,a=r("a1ce").trim,i=r("e692"),s=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=a(String(e),3);return n(r,t>>>0||(s.test(r)?16:10))}:n},"5f1b":function(e,t,r){"use strict";var n=r("23c6"),a=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"613c":function(e,t,r){},"69e9":function(e,t,r){},"6b51":function(e,t){e.exports="data:image/png;base64,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"},"6b54":function(e,t,r){"use strict";r("3846");var n=r("cb7c"),a=r("0bfb"),i=r("9e1e"),s="toString",o=/./[s],c=function(e){r("2aba")(RegExp.prototype,s,e,!0)};r("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?c(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):o.name!=s&&c(function(){return o.call(this)})},7445:function(e,t,r){var n=r("63b6"),a=r("5d6b");n(n.G+n.F*(parseInt!=a),{parseInt:a})},"7f7f":function(e,t,r){var n=r("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in a||r("9e1e")&&n(a,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},"96f3":function(e,t,r){},a1ce:function(e,t,r){var n=r("63b6"),a=r("25eb"),i=r("294c"),s=r("e692"),o="["+s+"]",c="​",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(e,t,r){var a={},o=i(function(){return!!s[e]()||c[e]()!=c}),u=a[e]=o?t(p):s[e];r&&(a[r]=u),n(n.P+n.F*o,"String",a)},p=d.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=d},a21f:function(e,t,r){var n=r("584a"),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},aae3:function(e,t,r){var n=r("d3f4"),a=r("2d95"),i=r("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},ac6a:function(e,t,r){for(var n=r("cadf"),a=r("0d58"),i=r("2aba"),s=r("7726"),o=r("32e9"),c=r("84f2"),u=r("2b4c"),l=u("iterator"),d=u("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=a(h),m=0;m<f.length;m++){var g,v=f[m],y=h[v],b=s[v],w=b&&b.prototype;if(w&&(w[l]||o(w,l,p),w[d]||o(w,d,v),c[v]=p,y))for(g in n)w[g]||i(w,g,n[g],!0)}},b0c5:function(e,t,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b775:function(e,t,r){"use strict";var n=r("795b"),a=r.n(n),i=r("bc3a"),s=r.n(i),o=(r("c0d6"),r("e069"),r("5f87")),c=r("a78e"),u=r.n(c),l=s.a.create({baseURL:"/epr/api/",timeout:5e5});l.interceptors.request.use(function(e){return e.headers["token"]=Object(o["a"])(),e.headers["uuid"]=u.a.get("uuid"),e},function(e){console.log(e),a.a.reject(e)}),l.interceptors.response.use(function(e){var t=e.data;return"2111"===t.code&&(Object(o["b"])("token"),location.reload()),e},function(e){return console.log("err"+e),a.a.reject(e)}),t["a"]=l},b9e9:function(e,t,r){r("7445"),e.exports=r("584a").parseInt},bd7d:function(e,t,r){"use strict";var n=r("1e67"),a=r.n(n);a.a},cf45:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return o});r("28a5");var n=r("e814"),a=r.n(n),i=(r("6b54"),function(e){var t="",r=0;e=(e||0).toString();for(var n=e.length-1;n>=0;n--)r++,t=e.charAt(n)+t,r%3||0===n||(t=","+t);return t}),s=function(e){if(null===e||void 0===e)return"";var t=new Date(e),r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return r},o=function(e){if(void 0!==e&&null!==e){var t=a()(e),r=a()(60*(e-t)),n=(3600*(e-t)-60*r).toFixed(2),i="00"+r;return r=i.substring(i.length-2,i.length),t+"°"+r+"′"+n+"″"}}},e12c:function(e,t,r){"use strict";var n=r("0260"),a=r.n(n);a.a},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,r){e.exports=r("b9e9")},eb03:function(e,t,r){"use strict";var n=r("2b06"),a=r.n(n);a.a},eb80:function(e,t,r){"use strict";var n=r("96f3"),a=r.n(n);a.a},ef1d:function(e,t,r){"use strict";var n=r("69e9"),a=r.n(n);a.a},f499:function(e,t,r){e.exports=r("a21f")},f831:function(e,t,r){"use strict";r.d(t,"g",function(){return s}),r.d(t,"h",function(){return o}),r.d(t,"f",function(){return c}),r.d(t,"e",function(){return u}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return p}),r.d(t,"j",function(){return h}),r.d(t,"i",function(){return f}),r.d(t,"b",function(){return m});r("6b54"),r("96cf");var n=r("3b8d"),a=r("9ed9"),i=r("149e"),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return r=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,r){var n="http://t"+r%8+".tianditu.gov.cn/DataServer?T=img_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+r+"&y="+t+"&l="+e;return n},fetchTile:function(e,t,n){var a=this,i=this.getTileUrl(e,t,n);return r(i,{responseType:"image"}).then(function(e){var t=e.data,r=a.tileInfo.size[0],n=a.tileInfo.size[0],i=document.createElement("canvas"),s=i.getContext("2d");return i.width=r,i.height=n,s.drawImage(t,0,0,r,n),i})}});case 8:return n=e.sent,e.next=11,new n;case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return r=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,r){var n="http://t"+r%8+".tianditu.gov.cn/DataServer?T=cia_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+r+"&y="+t+"&l="+e;return n},fetchTile:function(e,t,n){var a=this,i=this.getTileUrl(e,t,n);return r(i,{responseType:"image"}).then(function(e){var t=e.data,r=a.tileInfo.size[0],n=a.tileInfo.size[0],i=document.createElement("canvas"),s=i.getContext("2d");return i.width=r,i.height=n,s.drawImage(t,0,0,r,n),i})}});case 8:return n=e.sent,i=new n,e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return r=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,r){var n="http://t"+r%8+".tianditu.gov.cn/DataServer?T=vec_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+r+"&y="+t+"&l="+e;return n},fetchTile:function(e,t,n){var a=this,i=this.getTileUrl(e,t,n);return r(i,{responseType:"image"}).then(function(e){var t=e.data,r=a.tileInfo.size[0],n=a.tileInfo.size[0],i=document.createElement("canvas"),s=i.getContext("2d");return i.width=r,i.height=n,s.drawImage(t,0,0,r,n),i})}});case 8:return n=e.sent,i=new n,e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].BaseTileLayer;case 2:return t=e.sent,e.next=5,a["a"].Request;case 5:return r=e.sent,e.next=8,t.createSubclass({properties:{urlTemplate:null},getTileUrl:function(e,t,r){var n="http://t"+r%8+".tianditu.gov.cn/DataServer?T=cva_w&tk=12b886b3d0f324bd6032c29503972e7c&x="+r+"&y="+t+"&l="+e;return n},fetchTile:function(e,t,n){var a=this,i=this.getTileUrl(e,t,n);return r(i,{responseType:"image"}).then(function(e){var t=e.data,r=a.tileInfo.size[0],n=a.tileInfo.size[0],i=document.createElement("canvas"),s=i.getContext("2d");return i.width=r,i.height=n,s.drawImage(t,0,0,r,n),i})}});case 8:return n=e.sent,i=new n,e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return r=e.sent,n=new r({id:void 0===t?0:t.toString(),name:"红线斑块",title:"红线斑块",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/hongxian/MapServer",outFields:["*"],opacity:.7,popupTemplate:{title:"{name}",expressionInfos:[{name:"redLineType",title:"红线类型",expression:"if ($feature.type == \"01\") {\n                        return '生态功能重要区'\n                }\n                else if($feature.type == \"02\") {\n                        return '生态环境敏感区'\n                }"},{name:"redLineAttribute",title:"功能属性",expression:"if ($feature.attribute == \"01\") {\n                        return '水土流失'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '土地沙化'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '石漠化'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '盐渍化'\n                }\n                else if($feature.attribute == \"02\") {\n                        return '其他敏感性'\n                }"}],content:[{type:"fields",fieldInfos:[{fieldName:"Id",label:"红线Id"},{fieldName:"行政区",label:"行政区划名称"},{fieldName:"pac",label:"行政区划编码"},{fieldName:"hxcode",label:"红线编码"},{fieldName:"面积",label:"斑块面积/m²",format:{digitSeparator:!0,places:2}},{fieldName:"expression/redLineType"},{fieldName:"expression/redLineAttribute"}]}]},legend:{type:0,backgroundColor:"rgba(255, 255, 255, 0)",border:"2px solid red"}}),n.renderer={type:"simple",symbol:{type:"simple-fill",size:6,color:[0,0,0,.01],outline:{width:.8,color:[255,0,0,.8]}},label:"红线斑块"},s="$feature.hxcode",o={labelExpressionInfo:{expression:s},symbol:{type:"text",color:"black",haloSize:1,haloColor:"white"}},n.labelingInfo=[o],e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return r=e.sent,n=new r({id:void 0===t?0:t.toString(),name:"省界",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/shengjie/MapServer",legend:{type:2,backgroundColor:"rgba(200, 10, 100, 1)",weight:3}}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return r=e.sent,n=new r({id:void 0===t?0:t.toString(),name:"市界",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/shijie/MapServer",legend:{type:2,backgroundColor:"rgba(200, 10, 100, 1)",weight:3}}),n.renderer={type:"simple",symbol:{type:"simple-fill",size:6,color:[0,0,0,.01],outline:{width:.8,color:[255,0,0,.8]}}},e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].FeatureLayer;case 2:return r=e.sent,n=new r({id:void 0===t?0:t.toString(),name:"县界",url:i["a"].serverUrl+"/arcgis/rest/services/qhhx/xianjie/MapServer",legend:{type:2,backgroundColor:"rgba(200, 10, 100, 1)",weight:3}}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].MapImageLayer;case 2:return r=e.sent,n=new r({id:void 0===t?0:t.toString(),name:"省界",url:"https://120.24.69.160:6443/arcgis/rest/services/qhhx/vulnerability/MapServer"}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].MapImageLayer;case 2:return r=e.sent,n=new r({id:void 0===t?0:t.toString(),name:"省界",url:"https://120.24.69.160:6443/arcgis/rest/services/qhhx/sensitivity/MapServer"}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=chunk-c0e3ec40.6797e81a.js.map